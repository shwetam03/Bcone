<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>New Expence</title>
   <script src="../SiteAssets/BconeExpenseJs/jquery.min.js"></script>
    <script src="../SiteAssets/BconeExpenseJs/bootstrap.min.js"></script>
    <link href="../SiteAssets/BconeExpenseCss/bootstrap.min.css" rel="stylesheet" />
    <link href="../SiteAssets/BconeExpenseCss/stylesheet.css" rel="stylesheet" />
    <link href="../SiteAssets/BconeExpenseCss/font-awesome.min.css" rel="stylesheet" />
<style type="text/css">
.ms-breadcrumb-top{
	display:none;
}
.ms-core-pageTitle{
	margin:0px;
}
</style>
</head>

<body>



<section class="middle">
        <div class="breadcrumb-new">
            <div class="container-fluid">
                <ul>
                    <li>
                        <a href="javascript:void(0)">Home</a>
                    </li>
                    <li>
                        <a href="https://bristleconeonline.sharepoint.com/sites/Dev/SitePages/MyExpense.aspx">My Expense</a>
                    </li>
                    <li>
                        <a href="javascript:void(0)"><span id="ExpenseName">Expennce Aug 2017</span></a>
                    </li>
                </ul>
                <ul class="pull-right">
                    <li>
                        <a href="javascript:void(0)">Finance's Approval page</a>
                    </li>
                    <li>
                        <a href="javascript:void(0)">Resource wise Expense view</a>
                    </li>
                </ul>
                <div class="clearfix"></div>
            </div>
        </div>
        <div class="container-fluid">
            <div class="row">
                <div class="top-refine">
                    <ul class="pull-left">
                        <li>
                            <a href="javascript:void(0)" class="green-btn">Approve</a>
                            <a href="javascript:void(0)" class="red-btn">Reject</a>
                            <a href="javascript:void(0)" class="blue-btn">Pending Approval <span class="red-count">5</span></a>
							<a href="" class="blue-btn" data-toggle="modal" data-target="#myModal">Click</a>
                        </li>
                    </ul>
                    <ul class="pull-right">
                        <li>
                            <select class="resource-view">
                                <option>Project View</option>
                            </select>
                        </li>
                        <li>
                            <a href="javascript:void(0)" class="History-btn">
                                <i class="fa fa-history"></i> Approval History
                            </a>
                        </li>
                    </ul>
                    
                    <div class="clearfix"></div>
                </div>
                <div class="clearfix"></div>
                
            </div>

        </div>
    </section>
  
  <div class="panel-group" id="accordion">



  
  <--!accordian 1-->
  <div class="panel panel-default">
  
    <div class="panel-heading">
      <h4 class="panel-title">
        <input type="checkbox" class="new-checkbox" />
        <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseOne">
          <ul class="pull-left">
            <li>22F-063SAP122 </li>
            <li>SAP Impl</li>
          </ul>
          <ul class="pull-right">
            <li>2 – Resource(s)  Expense Request</li>
          </ul>
        </a>
      </h4>
    </div>

    <div id="collapseOne" class="panel-collapse collapse"><!-- Add "in" class Heare -->
	
      <div class="panel-body">
        <div class="panel-group accordion1" id="accordion2">


          <div class="panel panel-default">
            <div class="panel-heading">
              <h4 class="panel-title">
                <input type="checkbox" class="new-checkbox" />
                <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#innercollapseOne">
                  <ul class="pull-left">
                    <li>22F-063SAP122 </li>
                    <li>SAP Impl</li>
                  </ul>
                  <ul class="pull-right">
                    <li>Pending Approval</li>
                  </ul>
                </a>
              </h4>
            </div>
            <div id="innercollapseOne" class="panel-collapse collapse "><!-- Add "in" class Heare -->
              <div class="panel-body">
                <table class="table table-striped table-bordered dataTable no-footer" id="student_datatable" role="grid" aria-describedby="student_datatable_info">
                                <thead>
                                    <tr role="row"><th class="sorting_asc" tabindex="0" aria-controls="student_datatable" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Attachment: activate to sort column descending" style="width: 112px;">Attachment</th><th class="sorting" tabindex="0" aria-controls="student_datatable" rowspan="1" colspan="1" aria-label="Ref No.: activate to sort column ascending" style="width: 72px;">Ref No.</th><th class="sorting" tabindex="0" aria-controls="student_datatable" rowspan="1" colspan="1" aria-label="Item: activate to sort column ascending" style="width: 91px;">Item</th><th class="sorting" tabindex="0" aria-controls="student_datatable" rowspan="1" colspan="1" aria-label="Status: activate to sort column ascending" style="width: 77px;">Status</th><th class="sorting" tabindex="0" aria-controls="student_datatable" rowspan="1" colspan="1" aria-label="Amount: activate to sort column ascending" style="width: 79px;">Amount</th><th class="sorting" tabindex="0" aria-controls="student_datatable" rowspan="1" colspan="1" aria-label="Payment Type: activate to sort column ascending" style="width: 155px;">Payment Type</th><th class="sorting" tabindex="0" aria-controls="student_datatable" rowspan="1" colspan="1" aria-label="Creted Date: activate to sort column ascending" style="width: 136px;">Creted Date</th><th class="sorting" tabindex="0" aria-controls="student_datatable" rowspan="1" colspan="1" aria-label="Billable To Client: activate to sort column ascending" style="width: 155px;">Billable To Client</th><th class="sorting" tabindex="0" aria-controls="student_datatable" rowspan="1" colspan="1" aria-label="Edit: activate to sort column ascending" style="width: 42px;">Edit</th><th class="sorting" tabindex="0" aria-controls="student_datatable" rowspan="1" colspan="1" aria-label="Delete: activate to sort column ascending" style="width: 68px;">Delete</th></tr>
                                </thead>
                                <tbody id="student_data">
                                <tr id="rowhideslow6" class="deleteall6 odd" value="6" role="row"><td class="sorting_1"><a href="NaNBconeBillAttachment/Add_Expence_bindInline.txt" download=""><i class="fa fa-chain"></i></a></td> <td><a href="javascript:void(0)" style="text-decoration:underline;">6</a></td><td>Dinner</td><td>Active</td><td>500</td><td>Employee Paid</td><td>15-Sep-2016</td><td>Yes</td> <td><a href="javascript:void(0)" onclick="getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;6&quot;,&quot;rowhideslow6&quot;);showmodal();"><i class="fa fa-pencil"></i></a></td> <td><a onclick="DeleteExpenseLog(6,&quot;rowhideslow6&quot;)"><i class="fa fa-trash"></i></a></td></tr><tr id="rowhideslow7" class="deleteall7 even" value="7" role="row"><td class="sorting_1"><a href="NaNBconeBillAttachment/AddExpenceNew.txt" download=""><i class="fa fa-chain"></i></a></td> <td><a href="javascript:void(0)" style="text-decoration:underline;">7</a></td><td>Dinner</td><td>Active</td><td>1500</td><td>Company Paid</td><td>22-Sep-2016</td><td>No</td> <td><a href="javascript:void(0)" onclick="getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;7&quot;,&quot;rowhideslow7&quot;);showmodal();"><i class="fa fa-pencil"></i></a></td> <td><a onclick="DeleteExpenseLog(7,&quot;rowhideslow7&quot;)"><i class="fa fa-trash"></i></a></td></tr><tr id="rowhideslow9" class="deleteall9 odd" value="9" role="row"><td class="sorting_1"><a href="NaNBconeBillAttachment/expenseitemdeatil11.txt" download=""><i class="fa fa-chain"></i></a></td> <td><a href="javascript:void(0)" style="text-decoration:underline;">9</a></td><td>Travling</td><td>Active</td><td>1500</td><td>Company Paid</td><td>16-Sep-2016</td><td>Yes</td> <td><a href="javascript:void(0)" onclick="getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;9&quot;,&quot;rowhideslow9&quot;);showmodal();"><i class="fa fa-pencil"></i></a></td> <td><a onclick="DeleteExpenseLog(9,&quot;rowhideslow9&quot;)"><i class="fa fa-trash"></i></a></td></tr><tr id="rowhideslow10" class="deleteall10 even" value="10" role="row"><td class="sorting_1"><a href="NaNBconeBillAttachment/expenseitemdeatil11.txt" download=""><i class="fa fa-chain"></i></a></td> <td><a href="javascript:void(0)" style="text-decoration:underline;">10</a></td><td>Dinner</td><td>Active</td><td>20000</td><td>Employee Paid</td><td>22-Sep-2016</td><td>No</td> <td><a href="javascript:void(0)" onclick="getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;10&quot;,&quot;rowhideslow10&quot;);showmodal();"><i class="fa fa-pencil"></i></a></td> <td><a onclick="DeleteExpenseLog(10,&quot;rowhideslow10&quot;)"><i class="fa fa-trash"></i></a></td></tr><tr id="rowhideslow122" class="deleteall122 odd" value="122" role="row"><td class="sorting_1"><a href="NaNBconeBillAttachment/AddExpenceNew (4).txt" download=""><i class="fa fa-chain"></i></a></td> <td><a href="javascript:void(0)" style="text-decoration:underline;">122</a></td><td>Travling</td><td>Active</td><td>15</td><td>Employee Paid</td><td>27-Sep-2016</td><td>Yes</td> <td><a href="javascript:void(0)" onclick="getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;122&quot;,&quot;rowhideslow122&quot;);showmodal();"><i class="fa fa-pencil"></i></a></td> <td><a onclick="DeleteExpenseLog(122,&quot;rowhideslow122&quot;)"><i class="fa fa-trash"></i></a></td></tr><tr id="rowhideslow123" class="deleteall123 even" value="123" role="row"><td class="sorting_1"><a href="NaNBconeBillAttachment/AddExpenceNew (4).txt" download=""><i class="fa fa-chain"></i></a></td> <td><a href="javascript:void(0)" style="text-decoration:underline;">123</a></td><td>Dinner</td><td>Active</td><td>24000</td><td>Employee Paid</td><td>27-Sep-2016</td><td>No</td> <td><a href="javascript:void(0)" onclick="getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;123&quot;,&quot;rowhideslow123&quot;);showmodal();"><i class="fa fa-pencil"></i></a></td> <td><a onclick="DeleteExpenseLog(123,&quot;rowhideslow123&quot;)"><i class="fa fa-trash"></i></a></td></tr><tr id="rowhideslow135" class="deleteall135 odd" value="135" role="row"><td class="sorting_1"><a onclick="noattchment()"><i class="fa fa-chain"></i></a></td> <td><a href="javascript:void(0)" style="text-decoration:underline;">135</a></td><td>Dinner</td><td>Active</td><td>0</td><td>Employee Paid</td><td>10-Jun-2016</td><td>Yes</td> <td><a href="javascript:void(0)" onclick="getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;135&quot;,&quot;rowhideslow135&quot;);showmodal();"><i class="fa fa-pencil"></i></a></td> <td><a onclick="DeleteExpenseLog(135,&quot;rowhideslow135&quot;)"><i class="fa fa-trash"></i></a></td></tr><tr id="rowhideslow137" class="deleteall137 even" value="137" role="row"><td class="sorting_1"><a onclick="noattchment()"><i class="fa fa-chain"></i></a></td> <td><a href="javascript:void(0)" style="text-decoration:underline;">137</a></td><td>Travling</td><td>Active</td><td>0</td><td>Employee Paid</td><td>6-Sep-2016</td><td>No</td> <td><a href="javascript:void(0)" onclick="getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;137&quot;,&quot;rowhideslow137&quot;);showmodal();"><i class="fa fa-pencil"></i></a></td> <td><a onclick="DeleteExpenseLog(137,&quot;rowhideslow137&quot;)"><i class="fa fa-trash"></i></a></td></tr><tr id="rowhideslow138" class="deleteall138 odd" value="138" role="row"><td class="sorting_1"><a onclick="noattchment()"><i class="fa fa-chain"></i></a></td> <td><a href="javascript:void(0)" style="text-decoration:underline;">138</a></td><td>Travling</td><td>Active</td><td>0</td><td>Employee Paid</td><td>27-Sep-2016</td><td>No</td> <td><a href="javascript:void(0)" onclick="getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;138&quot;,&quot;rowhideslow138&quot;);showmodal();"><i class="fa fa-pencil"></i></a></td> <td><a onclick="DeleteExpenseLog(138,&quot;rowhideslow138&quot;)"><i class="fa fa-trash"></i></a></td></tr></tbody>
    
    
                              
                            </table>
                            <div class="bottom-btns">
                                <a class="green-btn">Approve</a>
                                <a class="red-btn">Reject</a>
                            </div>
              </div>
            </div>
          </div>     
            
             
          <div class="panel panel-default">
            <div class="panel-heading">
              <h4 class="panel-title">
                <input type="checkbox" class="new-checkbox" />
                <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#innercollapse2">
                  <ul class="pull-left">
                    <li>22F-063SAP122 </li>
                    <li>SAP Impl</li>
                  </ul>
                  <ul class="pull-right">
                    <li>Pending Approval</li>
                  </ul>
                </a>
              </h4>
            </div>
            <div id="innercollapse2" class="panel-collapse collapse"><!-- Add "in" class Heare -->
              <div class="panel-body">
                <table class="table table-striped table-bordered dataTable no-footer" id="Table1" role="grid" aria-describedby="student_datatable_info">
                                <thead>
                                    <tr role="row"><th class="sorting_asc" tabindex="0" aria-controls="student_datatable" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Attachment: activate to sort column descending" style="width: 112px;">Attachment</th><th class="sorting" tabindex="0" aria-controls="student_datatable" rowspan="1" colspan="1" aria-label="Ref No.: activate to sort column ascending" style="width: 72px;">Ref No.</th><th class="sorting" tabindex="0" aria-controls="student_datatable" rowspan="1" colspan="1" aria-label="Item: activate to sort column ascending" style="width: 91px;">Item</th><th class="sorting" tabindex="0" aria-controls="student_datatable" rowspan="1" colspan="1" aria-label="Status: activate to sort column ascending" style="width: 77px;">Status</th><th class="sorting" tabindex="0" aria-controls="student_datatable" rowspan="1" colspan="1" aria-label="Amount: activate to sort column ascending" style="width: 79px;">Amount</th><th class="sorting" tabindex="0" aria-controls="student_datatable" rowspan="1" colspan="1" aria-label="Payment Type: activate to sort column ascending" style="width: 155px;">Payment Type</th><th class="sorting" tabindex="0" aria-controls="student_datatable" rowspan="1" colspan="1" aria-label="Creted Date: activate to sort column ascending" style="width: 136px;">Creted Date</th><th class="sorting" tabindex="0" aria-controls="student_datatable" rowspan="1" colspan="1" aria-label="Billable To Client: activate to sort column ascending" style="width: 155px;">Billable To Client</th><th class="sorting" tabindex="0" aria-controls="student_datatable" rowspan="1" colspan="1" aria-label="Edit: activate to sort column ascending" style="width: 42px;">Edit</th><th class="sorting" tabindex="0" aria-controls="student_datatable" rowspan="1" colspan="1" aria-label="Delete: activate to sort column ascending" style="width: 68px;">Delete</th></tr>
                                </thead>
                                <tbody id="Tbody1">
                                <tr id="Tr1" class="deleteall6 odd" value="6" role="row"><td class="sorting_1"><a href="NaNBconeBillAttachment/Add_Expence_bindInline.txt" download=""><i class="fa fa-chain"></i></a></td> <td><a href="javascript:void(0)" style="text-decoration:underline;">6</a></td><td>Dinner</td><td>Active</td><td>500</td><td>Employee Paid</td><td>15-Sep-2016</td><td>Yes</td> <td><a href="javascript:void(0)" onclick="getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;6&quot;,&quot;rowhideslow6&quot;);showmodal();"><i class="fa fa-pencil"></i></a></td> <td><a onclick="DeleteExpenseLog(6,&quot;rowhideslow6&quot;)"><i class="fa fa-trash"></i></a></td></tr><tr id="Tr2" class="deleteall7 even" value="7" role="row"><td class="sorting_1"><a href="NaNBconeBillAttachment/AddExpenceNew.txt" download=""><i class="fa fa-chain"></i></a></td> <td><a href="javascript:void(0)" style="text-decoration:underline;">7</a></td><td>Dinner</td><td>Active</td><td>1500</td><td>Company Paid</td><td>22-Sep-2016</td><td>No</td> <td><a href="javascript:void(0)" onclick="getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;7&quot;,&quot;rowhideslow7&quot;);showmodal();"><i class="fa fa-pencil"></i></a></td> <td><a onclick="DeleteExpenseLog(7,&quot;rowhideslow7&quot;)"><i class="fa fa-trash"></i></a></td></tr><tr id="Tr3" class="deleteall9 odd" value="9" role="row"><td class="sorting_1"><a href="NaNBconeBillAttachment/expenseitemdeatil11.txt" download=""><i class="fa fa-chain"></i></a></td> <td><a href="javascript:void(0)" style="text-decoration:underline;">9</a></td><td>Travling</td><td>Active</td><td>1500</td><td>Company Paid</td><td>16-Sep-2016</td><td>Yes</td> <td><a href="javascript:void(0)" onclick="getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;9&quot;,&quot;rowhideslow9&quot;);showmodal();"><i class="fa fa-pencil"></i></a></td> <td><a onclick="DeleteExpenseLog(9,&quot;rowhideslow9&quot;)"><i class="fa fa-trash"></i></a></td></tr><tr id="Tr4" class="deleteall10 even" value="10" role="row"><td class="sorting_1"><a href="NaNBconeBillAttachment/expenseitemdeatil11.txt" download=""><i class="fa fa-chain"></i></a></td> <td><a href="javascript:void(0)" style="text-decoration:underline;">10</a></td><td>Dinner</td><td>Active</td><td>20000</td><td>Employee Paid</td><td>22-Sep-2016</td><td>No</td> <td><a href="javascript:void(0)" onclick="getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;10&quot;,&quot;rowhideslow10&quot;);showmodal();"><i class="fa fa-pencil"></i></a></td> <td><a onclick="DeleteExpenseLog(10,&quot;rowhideslow10&quot;)"><i class="fa fa-trash"></i></a></td></tr><tr id="Tr5" class="deleteall122 odd" value="122" role="row"><td class="sorting_1"><a href="NaNBconeBillAttachment/AddExpenceNew (4).txt" download=""><i class="fa fa-chain"></i></a></td> <td><a href="javascript:void(0)" style="text-decoration:underline;">122</a></td><td>Travling</td><td>Active</td><td>15</td><td>Employee Paid</td><td>27-Sep-2016</td><td>Yes</td> <td><a href="javascript:void(0)" onclick="getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;122&quot;,&quot;rowhideslow122&quot;);showmodal();"><i class="fa fa-pencil"></i></a></td> <td><a onclick="DeleteExpenseLog(122,&quot;rowhideslow122&quot;)"><i class="fa fa-trash"></i></a></td></tr><tr id="Tr6" class="deleteall123 even" value="123" role="row"><td class="sorting_1"><a href="NaNBconeBillAttachment/AddExpenceNew (4).txt" download=""><i class="fa fa-chain"></i></a></td> <td><a href="javascript:void(0)" style="text-decoration:underline;">123</a></td><td>Dinner</td><td>Active</td><td>24000</td><td>Employee Paid</td><td>27-Sep-2016</td><td>No</td> <td><a href="javascript:void(0)" onclick="getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;123&quot;,&quot;rowhideslow123&quot;);showmodal();"><i class="fa fa-pencil"></i></a></td> <td><a onclick="DeleteExpenseLog(123,&quot;rowhideslow123&quot;)"><i class="fa fa-trash"></i></a></td></tr><tr id="Tr7" class="deleteall135 odd" value="135" role="row"><td class="sorting_1"><a onclick="noattchment()"><i class="fa fa-chain"></i></a></td> <td><a href="javascript:void(0)" style="text-decoration:underline;">135</a></td><td>Dinner</td><td>Active</td><td>0</td><td>Employee Paid</td><td>10-Jun-2016</td><td>Yes</td> <td><a href="javascript:void(0)" onclick="getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;135&quot;,&quot;rowhideslow135&quot;);showmodal();"><i class="fa fa-pencil"></i></a></td> <td><a onclick="DeleteExpenseLog(135,&quot;rowhideslow135&quot;)"><i class="fa fa-trash"></i></a></td></tr><tr id="Tr8" class="deleteall137 even" value="137" role="row"><td class="sorting_1"><a onclick="noattchment()"><i class="fa fa-chain"></i></a></td> <td><a href="javascript:void(0)" style="text-decoration:underline;">137</a></td><td>Travling</td><td>Active</td><td>0</td><td>Employee Paid</td><td>6-Sep-2016</td><td>No</td> <td><a href="javascript:void(0)" onclick="getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;137&quot;,&quot;rowhideslow137&quot;);showmodal();"><i class="fa fa-pencil"></i></a></td> <td><a onclick="DeleteExpenseLog(137,&quot;rowhideslow137&quot;)"><i class="fa fa-trash"></i></a></td></tr><tr id="Tr9" class="deleteall138 odd" value="138" role="row"><td class="sorting_1"><a onclick="noattchment()"><i class="fa fa-chain"></i></a></td> <td><a href="javascript:void(0)" style="text-decoration:underline;">138</a></td><td>Travling</td><td>Active</td><td>0</td><td>Employee Paid</td><td>27-Sep-2016</td><td>No</td> <td><a href="javascript:void(0)" onclick="getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;138&quot;,&quot;rowhideslow138&quot;);showmodal();"><i class="fa fa-pencil"></i></a></td> <td><a onclick="DeleteExpenseLog(138,&quot;rowhideslow138&quot;)"><i class="fa fa-trash"></i></a></td></tr></tbody>
    
    
                              
                            </table>
                            <div class="bottom-btns">
                                <a class="green-btn">Approve</a>
                                <a class="red-btn">Reject</a>
                            </div>
              </div>
            </div>
          </div> 


    </div>
      </div>
    </div>

  </div>
  
  
  <--!accordian 2-->
  <div class="panel panel-default">
    <div class="panel-heading">
      <h4 class="panel-title">
        <input type="checkbox" class="new-checkbox" />
        <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo">
           <ul class="pull-left">
            <li>22F-063SAP122 </li>
            <li>Supply mgt</li>
          </ul>
          <ul class="pull-right">
            <li>22F-063SAP122 | SAP Impl</li>
          </ul>
        </a>
      </h4>
    </div>
    <div id="collapseTwo" class="panel-collapse collapse">
      <div class="panel-body">
        <div class="panel-group accordion1" id="accordion1">
          <div class="panel panel-default">
            <div class="panel-heading">
              <h4 class="panel-title">
                <input type="checkbox" class="new-checkbox" />
                <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion1" href="#innercollapse3">
                  <ul class="pull-left">
                    <li>22F-063SAP122 </li>
                    <li>SAP Impl</li>
                  </ul>
                  <ul class="pull-right">
                    <li>Pending Approval</li>
                  </ul>
                </a>
              </h4>
            </div>
            <div id="innercollapse3" class="panel-collapse collapse "><!-- Add "in" class Heare -->
              <div class="panel-body">
                <table class="table table-striped table-bordered dataTable no-footer" id="Table2" role="grid" aria-describedby="student_datatable_info">
                                <thead>
                                    <tr role="row"><th class="sorting_asc" tabindex="0" aria-controls="student_datatable" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Attachment: activate to sort column descending" style="width: 112px;">Attachment</th><th class="sorting" tabindex="0" aria-controls="student_datatable" rowspan="1" colspan="1" aria-label="Ref No.: activate to sort column ascending" style="width: 72px;">Ref No.</th><th class="sorting" tabindex="0" aria-controls="student_datatable" rowspan="1" colspan="1" aria-label="Item: activate to sort column ascending" style="width: 91px;">Item</th><th class="sorting" tabindex="0" aria-controls="student_datatable" rowspan="1" colspan="1" aria-label="Status: activate to sort column ascending" style="width: 77px;">Status</th><th class="sorting" tabindex="0" aria-controls="student_datatable" rowspan="1" colspan="1" aria-label="Amount: activate to sort column ascending" style="width: 79px;">Amount</th><th class="sorting" tabindex="0" aria-controls="student_datatable" rowspan="1" colspan="1" aria-label="Payment Type: activate to sort column ascending" style="width: 155px;">Payment Type</th><th class="sorting" tabindex="0" aria-controls="student_datatable" rowspan="1" colspan="1" aria-label="Creted Date: activate to sort column ascending" style="width: 136px;">Creted Date</th><th class="sorting" tabindex="0" aria-controls="student_datatable" rowspan="1" colspan="1" aria-label="Billable To Client: activate to sort column ascending" style="width: 155px;">Billable To Client</th><th class="sorting" tabindex="0" aria-controls="student_datatable" rowspan="1" colspan="1" aria-label="Edit: activate to sort column ascending" style="width: 42px;">Edit</th><th class="sorting" tabindex="0" aria-controls="student_datatable" rowspan="1" colspan="1" aria-label="Delete: activate to sort column ascending" style="width: 68px;">Delete</th></tr>
                                </thead>
                                <tbody id="Tbody2">
                                <tr id="Tr10" class="deleteall6 odd" value="6" role="row"><td class="sorting_1"><a href="NaNBconeBillAttachment/Add_Expence_bindInline.txt" download=""><i class="fa fa-chain"></i></a></td> <td><a href="javascript:void(0)" style="text-decoration:underline;">6</a></td><td>Dinner</td><td>Active</td><td>500</td><td>Employee Paid</td><td>15-Sep-2016</td><td>Yes</td> <td><a href="javascript:void(0)" onclick="getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;6&quot;,&quot;rowhideslow6&quot;);showmodal();"><i class="fa fa-pencil"></i></a></td> <td><a onclick="DeleteExpenseLog(6,&quot;rowhideslow6&quot;)"><i class="fa fa-trash"></i></a></td></tr><tr id="Tr11" class="deleteall7 even" value="7" role="row"><td class="sorting_1"><a href="NaNBconeBillAttachment/AddExpenceNew.txt" download=""><i class="fa fa-chain"></i></a></td> <td><a href="javascript:void(0)" style="text-decoration:underline;">7</a></td><td>Dinner</td><td>Active</td><td>1500</td><td>Company Paid</td><td>22-Sep-2016</td><td>No</td> <td><a href="javascript:void(0)" onclick="getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;7&quot;,&quot;rowhideslow7&quot;);showmodal();"><i class="fa fa-pencil"></i></a></td> <td><a onclick="DeleteExpenseLog(7,&quot;rowhideslow7&quot;)"><i class="fa fa-trash"></i></a></td></tr><tr id="Tr12" class="deleteall9 odd" value="9" role="row"><td class="sorting_1"><a href="NaNBconeBillAttachment/expenseitemdeatil11.txt" download=""><i class="fa fa-chain"></i></a></td> <td><a href="javascript:void(0)" style="text-decoration:underline;">9</a></td><td>Travling</td><td>Active</td><td>1500</td><td>Company Paid</td><td>16-Sep-2016</td><td>Yes</td> <td><a href="javascript:void(0)" onclick="getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;9&quot;,&quot;rowhideslow9&quot;);showmodal();"><i class="fa fa-pencil"></i></a></td> <td><a onclick="DeleteExpenseLog(9,&quot;rowhideslow9&quot;)"><i class="fa fa-trash"></i></a></td></tr><tr id="Tr13" class="deleteall10 even" value="10" role="row"><td class="sorting_1"><a href="NaNBconeBillAttachment/expenseitemdeatil11.txt" download=""><i class="fa fa-chain"></i></a></td> <td><a href="javascript:void(0)" style="text-decoration:underline;">10</a></td><td>Dinner</td><td>Active</td><td>20000</td><td>Employee Paid</td><td>22-Sep-2016</td><td>No</td> <td><a href="javascript:void(0)" onclick="getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;10&quot;,&quot;rowhideslow10&quot;);showmodal();"><i class="fa fa-pencil"></i></a></td> <td><a onclick="DeleteExpenseLog(10,&quot;rowhideslow10&quot;)"><i class="fa fa-trash"></i></a></td></tr><tr id="Tr14" class="deleteall122 odd" value="122" role="row"><td class="sorting_1"><a href="NaNBconeBillAttachment/AddExpenceNew (4).txt" download=""><i class="fa fa-chain"></i></a></td> <td><a href="javascript:void(0)" style="text-decoration:underline;">122</a></td><td>Travling</td><td>Active</td><td>15</td><td>Employee Paid</td><td>27-Sep-2016</td><td>Yes</td> <td><a href="javascript:void(0)" onclick="getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;122&quot;,&quot;rowhideslow122&quot;);showmodal();"><i class="fa fa-pencil"></i></a></td> <td><a onclick="DeleteExpenseLog(122,&quot;rowhideslow122&quot;)"><i class="fa fa-trash"></i></a></td></tr><tr id="Tr15" class="deleteall123 even" value="123" role="row"><td class="sorting_1"><a href="NaNBconeBillAttachment/AddExpenceNew (4).txt" download=""><i class="fa fa-chain"></i></a></td> <td><a href="javascript:void(0)" style="text-decoration:underline;">123</a></td><td>Dinner</td><td>Active</td><td>24000</td><td>Employee Paid</td><td>27-Sep-2016</td><td>No</td> <td><a href="javascript:void(0)" onclick="getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;123&quot;,&quot;rowhideslow123&quot;);showmodal();"><i class="fa fa-pencil"></i></a></td> <td><a onclick="DeleteExpenseLog(123,&quot;rowhideslow123&quot;)"><i class="fa fa-trash"></i></a></td></tr><tr id="Tr16" class="deleteall135 odd" value="135" role="row"><td class="sorting_1"><a onclick="noattchment()"><i class="fa fa-chain"></i></a></td> <td><a href="javascript:void(0)" style="text-decoration:underline;">135</a></td><td>Dinner</td><td>Active</td><td>0</td><td>Employee Paid</td><td>10-Jun-2016</td><td>Yes</td> <td><a href="javascript:void(0)" onclick="getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;135&quot;,&quot;rowhideslow135&quot;);showmodal();"><i class="fa fa-pencil"></i></a></td> <td><a onclick="DeleteExpenseLog(135,&quot;rowhideslow135&quot;)"><i class="fa fa-trash"></i></a></td></tr><tr id="Tr17" class="deleteall137 even" value="137" role="row"><td class="sorting_1"><a onclick="noattchment()"><i class="fa fa-chain"></i></a></td> <td><a href="javascript:void(0)" style="text-decoration:underline;">137</a></td><td>Travling</td><td>Active</td><td>0</td><td>Employee Paid</td><td>6-Sep-2016</td><td>No</td> <td><a href="javascript:void(0)" onclick="getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;137&quot;,&quot;rowhideslow137&quot;);showmodal();"><i class="fa fa-pencil"></i></a></td> <td><a onclick="DeleteExpenseLog(137,&quot;rowhideslow137&quot;)"><i class="fa fa-trash"></i></a></td></tr><tr id="Tr18" class="deleteall138 odd" value="138" role="row"><td class="sorting_1"><a onclick="noattchment()"><i class="fa fa-chain"></i></a></td> <td><a href="javascript:void(0)" style="text-decoration:underline;">138</a></td><td>Travling</td><td>Active</td><td>0</td><td>Employee Paid</td><td>27-Sep-2016</td><td>No</td> <td><a href="javascript:void(0)" onclick="getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;138&quot;,&quot;rowhideslow138&quot;);showmodal();"><i class="fa fa-pencil"></i></a></td> <td><a onclick="DeleteExpenseLog(138,&quot;rowhideslow138&quot;)"><i class="fa fa-trash"></i></a></td></tr></tbody>
    
    
                              
                            </table>
                            <div class="bottom-btns">
                                <a class="green-btn">Approve</a>
                                <a class="red-btn">Reject</a>
                            </div>
              </div>
            </div>
          </div>      
          <div class="panel panel-default">
            <div class="panel-heading">
              <h4 class="panel-title">
                <input type="checkbox" class="new-checkbox" />
                <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion1" href="#innercollapse4">
                  <ul class="pull-left">
                    <li>22F-063SAP122 </li>
                    <li>SAP Impl</li>
                  </ul>
                  <ul class="pull-right">
                    <li>Pending Approval</li>
                  </ul>
                </a>
              </h4>
            </div>
            <div id="innercollapse4" class="panel-collapse collapse "><!-- Add "in" class Heare -->
              <div class="panel-body">
                <table class="table table-striped table-bordered dataTable no-footer" id="Table3" role="grid" aria-describedby="student_datatable_info">
                                <thead>
                                    <tr role="row"><th class="sorting_asc" tabindex="0" aria-controls="student_datatable" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Attachment: activate to sort column descending" style="width: 112px;">Attachment</th><th class="sorting" tabindex="0" aria-controls="student_datatable" rowspan="1" colspan="1" aria-label="Ref No.: activate to sort column ascending" style="width: 72px;">Ref No.</th><th class="sorting" tabindex="0" aria-controls="student_datatable" rowspan="1" colspan="1" aria-label="Item: activate to sort column ascending" style="width: 91px;">Item</th><th class="sorting" tabindex="0" aria-controls="student_datatable" rowspan="1" colspan="1" aria-label="Status: activate to sort column ascending" style="width: 77px;">Status</th><th class="sorting" tabindex="0" aria-controls="student_datatable" rowspan="1" colspan="1" aria-label="Amount: activate to sort column ascending" style="width: 79px;">Amount</th><th class="sorting" tabindex="0" aria-controls="student_datatable" rowspan="1" colspan="1" aria-label="Payment Type: activate to sort column ascending" style="width: 155px;">Payment Type</th><th class="sorting" tabindex="0" aria-controls="student_datatable" rowspan="1" colspan="1" aria-label="Creted Date: activate to sort column ascending" style="width: 136px;">Creted Date</th><th class="sorting" tabindex="0" aria-controls="student_datatable" rowspan="1" colspan="1" aria-label="Billable To Client: activate to sort column ascending" style="width: 155px;">Billable To Client</th><th class="sorting" tabindex="0" aria-controls="student_datatable" rowspan="1" colspan="1" aria-label="Edit: activate to sort column ascending" style="width: 42px;">Edit</th><th class="sorting" tabindex="0" aria-controls="student_datatable" rowspan="1" colspan="1" aria-label="Delete: activate to sort column ascending" style="width: 68px;">Delete</th></tr>
                                </thead>
                                <tbody id="Tbody3">
                                <tr id="Tr19" class="deleteall6 odd" value="6" role="row"><td class="sorting_1"><a href="NaNBconeBillAttachment/Add_Expence_bindInline.txt" download=""><i class="fa fa-chain"></i></a></td> <td><a href="javascript:void(0)" style="text-decoration:underline;">6</a></td><td>Dinner</td><td>Active</td><td>500</td><td>Employee Paid</td><td>15-Sep-2016</td><td>Yes</td> <td><a href="javascript:void(0)" onclick="getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;6&quot;,&quot;rowhideslow6&quot;);showmodal();"><i class="fa fa-pencil"></i></a></td> <td><a onclick="DeleteExpenseLog(6,&quot;rowhideslow6&quot;)"><i class="fa fa-trash"></i></a></td></tr><tr id="Tr20" class="deleteall7 even" value="7" role="row"><td class="sorting_1"><a href="NaNBconeBillAttachment/AddExpenceNew.txt" download=""><i class="fa fa-chain"></i></a></td> <td><a href="javascript:void(0)" style="text-decoration:underline;">7</a></td><td>Dinner</td><td>Active</td><td>1500</td><td>Company Paid</td><td>22-Sep-2016</td><td>No</td> <td><a href="javascript:void(0)" onclick="getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;7&quot;,&quot;rowhideslow7&quot;);showmodal();"><i class="fa fa-pencil"></i></a></td> <td><a onclick="DeleteExpenseLog(7,&quot;rowhideslow7&quot;)"><i class="fa fa-trash"></i></a></td></tr><tr id="Tr21" class="deleteall9 odd" value="9" role="row"><td class="sorting_1"><a href="NaNBconeBillAttachment/expenseitemdeatil11.txt" download=""><i class="fa fa-chain"></i></a></td> <td><a href="javascript:void(0)" style="text-decoration:underline;">9</a></td><td>Travling</td><td>Active</td><td>1500</td><td>Company Paid</td><td>16-Sep-2016</td><td>Yes</td> <td><a href="javascript:void(0)" onclick="getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;9&quot;,&quot;rowhideslow9&quot;);showmodal();"><i class="fa fa-pencil"></i></a></td> <td><a onclick="DeleteExpenseLog(9,&quot;rowhideslow9&quot;)"><i class="fa fa-trash"></i></a></td></tr><tr id="Tr22" class="deleteall10 even" value="10" role="row"><td class="sorting_1"><a href="NaNBconeBillAttachment/expenseitemdeatil11.txt" download=""><i class="fa fa-chain"></i></a></td> <td><a href="javascript:void(0)" style="text-decoration:underline;">10</a></td><td>Dinner</td><td>Active</td><td>20000</td><td>Employee Paid</td><td>22-Sep-2016</td><td>No</td> <td><a href="javascript:void(0)" onclick="getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;10&quot;,&quot;rowhideslow10&quot;);showmodal();"><i class="fa fa-pencil"></i></a></td> <td><a onclick="DeleteExpenseLog(10,&quot;rowhideslow10&quot;)"><i class="fa fa-trash"></i></a></td></tr><tr id="Tr23" class="deleteall122 odd" value="122" role="row"><td class="sorting_1"><a href="NaNBconeBillAttachment/AddExpenceNew (4).txt" download=""><i class="fa fa-chain"></i></a></td> <td><a href="javascript:void(0)" style="text-decoration:underline;">122</a></td><td>Travling</td><td>Active</td><td>15</td><td>Employee Paid</td><td>27-Sep-2016</td><td>Yes</td> <td><a href="javascript:void(0)" onclick="getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;122&quot;,&quot;rowhideslow122&quot;);showmodal();"><i class="fa fa-pencil"></i></a></td> <td><a onclick="DeleteExpenseLog(122,&quot;rowhideslow122&quot;)"><i class="fa fa-trash"></i></a></td></tr><tr id="Tr24" class="deleteall123 even" value="123" role="row"><td class="sorting_1"><a href="NaNBconeBillAttachment/AddExpenceNew (4).txt" download=""><i class="fa fa-chain"></i></a></td> <td><a href="javascript:void(0)" style="text-decoration:underline;">123</a></td><td>Dinner</td><td>Active</td><td>24000</td><td>Employee Paid</td><td>27-Sep-2016</td><td>No</td> <td><a href="javascript:void(0)" onclick="getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;123&quot;,&quot;rowhideslow123&quot;);showmodal();"><i class="fa fa-pencil"></i></a></td> <td><a onclick="DeleteExpenseLog(123,&quot;rowhideslow123&quot;)"><i class="fa fa-trash"></i></a></td></tr><tr id="Tr25" class="deleteall135 odd" value="135" role="row"><td class="sorting_1"><a onclick="noattchment()"><i class="fa fa-chain"></i></a></td> <td><a href="javascript:void(0)" style="text-decoration:underline;">135</a></td><td>Dinner</td><td>Active</td><td>0</td><td>Employee Paid</td><td>10-Jun-2016</td><td>Yes</td> <td><a href="javascript:void(0)" onclick="getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;135&quot;,&quot;rowhideslow135&quot;);showmodal();"><i class="fa fa-pencil"></i></a></td> <td><a onclick="DeleteExpenseLog(135,&quot;rowhideslow135&quot;)"><i class="fa fa-trash"></i></a></td></tr><tr id="Tr26" class="deleteall137 even" value="137" role="row"><td class="sorting_1"><a onclick="noattchment()"><i class="fa fa-chain"></i></a></td> <td><a href="javascript:void(0)" style="text-decoration:underline;">137</a></td><td>Travling</td><td>Active</td><td>0</td><td>Employee Paid</td><td>6-Sep-2016</td><td>No</td> <td><a href="javascript:void(0)" onclick="getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;137&quot;,&quot;rowhideslow137&quot;);showmodal();"><i class="fa fa-pencil"></i></a></td> <td><a onclick="DeleteExpenseLog(137,&quot;rowhideslow137&quot;)"><i class="fa fa-trash"></i></a></td></tr><tr id="Tr27" class="deleteall138 odd" value="138" role="row"><td class="sorting_1"><a onclick="noattchment()"><i class="fa fa-chain"></i></a></td> <td><a href="javascript:void(0)" style="text-decoration:underline;">138</a></td><td>Travling</td><td>Active</td><td>0</td><td>Employee Paid</td><td>27-Sep-2016</td><td>No</td> <td><a href="javascript:void(0)" onclick="getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;138&quot;,&quot;rowhideslow138&quot;);showmodal();"><i class="fa fa-pencil"></i></a></td> <td><a onclick="DeleteExpenseLog(138,&quot;rowhideslow138&quot;)"><i class="fa fa-trash"></i></a></td></tr></tbody>
    
    
                              
                            </table>
                            <div class="bottom-btns">
                                <a class="green-btn">Approve</a>
                                <a class="red-btn">Reject</a>
                            </div>
              </div>
            </div>
          </div> 
    </div>
      </div>
    </div>
  </div>
  
</div>
  
  
  <script>

      var web_url = "https://bristleconeonline.sharepoint.com/sites/Dev/";

      function getProjects(url, listname) {
          var projectdiv_main = "";
          var projectdiv_id = "";
          var project_sub_div = "";
		  var checkbox_id="";
		  var anchor_tagid="";
          var count = 0;
          $.ajax({
              url: url + "/_api/web/lists/getbytitle('" + listname + "')/items",
              async: false,
              method: "GET",
              headers: { "Accept": "application/json; odata=verbose" },

              success: function (data) {

                  $.each(data.d.results, function (key, value) {
					
					  checkbox_id="project";
					  projectdiv_id="project";
					  project_sub_div="project_child";
                      count++;
                      project_sub_div = project_sub_div + count;
                      projectdiv_id = projectdiv_id + count;
					  checkbox_id=checkbox_id+count+"checkbox";
					  anchor_tagid="project"+count+"anchor";


                      projectdiv_main=projectdiv_main+"<div class='panel panel-default'>";
                      projectdiv_main=projectdiv_main+" <div class='panel-heading'>";
                      projectdiv_main=projectdiv_main+"<h4 class='panel-title'>";
                      projectdiv_main=projectdiv_main+"<input type='checkbox' class='new-checkbox "+projectdiv_id+"' id="+checkbox_id+" onchange='checkchild_checkboxex(\"" + projectdiv_id + "\",\""+checkbox_id+"\")' />";
                      projectdiv_main = projectdiv_main + "<a class='accordion-toggle' data-toggle='collapse' data-parent='#accordion' id="+anchor_tagid+" href='#" + project_sub_div + "' onclick='getExpenseByProjectId(\"" + web_url + "\",\"BconeExpenceMaster\", \"" + projectdiv_id + "\", \"" + value.ID + "\",\""+project_sub_div+"\",\""+anchor_tagid+"\",\""+checkbox_id+"\")'>";
                      projectdiv_main=projectdiv_main+"<ul class='pull-left'>";
                      projectdiv_main=projectdiv_main+"<li> </li>";
                      projectdiv_main = projectdiv_main + "<li>" + projectdiv_id + "</li>";
                      projectdiv_main=projectdiv_main+"</ul>";
                      projectdiv_main=projectdiv_main+"<ul class='pull-right'>";
                      projectdiv_main=projectdiv_main+"<li>2 – Resource(s)  Expense Request</li>";
                      projectdiv_main=projectdiv_main+"</ul>";
                      projectdiv_main=projectdiv_main+"</a>";
                      projectdiv_main=projectdiv_main+"</h4>";
                      projectdiv_main=projectdiv_main+"</div>";
                      projectdiv_main = projectdiv_main + "<div id=" + project_sub_div + " class='panel-collapse collapse'><!-- Add 'in' class Heare -->";
                      projectdiv_main=projectdiv_main+"<div class='panel-body'>";
                      projectdiv_main = projectdiv_main + "<div class='panel-group accordion1' id='" + projectdiv_id + "'>";
                      projectdiv_main=projectdiv_main+"</div>";
                      projectdiv_main=projectdiv_main+"</div>";
                      projectdiv_main=projectdiv_main+"</div>";
                      projectdiv_main = projectdiv_main + "</div>";



                  });

                  $('#accordion').append(projectdiv_main);


              },
              error: function (data) {
                  failure(data);
                  alert(data.responseJSON.error.message.value);
              }
          });

      }

      function getExpenseByProjectId(url, listname, datatobind_divid,project_id,dataparent_div,parent_anchor,parent_checkbox) {
          var query_cml = '<View><Query><Where><Eq><FieldRef Name="EmployeeId" /><Value Type="Number">' + project_id + '</Value></Eq></Where></Query></View>';
          // alert(query_cml);
          var expense_div_data = "";
		  //alert(parent_anchor);
		  //alert($('#'+parent_checkbox).prop("checked"));
			var parentcheck=$('#'+parent_checkbox).prop("checked");
			

          var expense_data_div_id = "expense_data_div";
		  var check_boxex_class="project"+project_id+"ckeckboxex";
		  
		  var expense_anchor="";
          var i = 0;
          $.ajax({
              url: _spPageContextInfo.webAbsoluteUrl + "/_api/Web/Lists/getbytitle('" + listname + "')/GetItems",
              type: "POST",
              headers: {
                  "accept": "application/json;odata=verbose",
                  "X-RequestDigest": $("#__REQUESTDIGEST").val(),
                  "content-Type": "application/json;odata=verbose"
              },
              data: JSON.stringify({
                  query: {
                      __metadata: {
                          type: "SP.CamlQuery"
                      },
                      ViewXml: query_cml
                  }
              }),

              success: function (data) {

                  i = 0;
				  
				  
                  
                 
                  if (data.d.results.length > 0) {
                      $.each(data.d.results, function (key, value) {
					  

                          i = i + 1;
						  
						  expense_anchor=parent_anchor+"child_"+i;
                          expense_data_div_id = datatobind_divid + "_" + "expense_data_div";
                        //  alert(count);
                          expense_data_div_id = expense_data_div_id +"_"+i;
                          //alert(expense_data_div_id);

                          expense_div_data=expense_div_data+"<div class='panel panel-default'>";
                          expense_div_data=expense_div_data+"<div class='panel-heading'>";
                          expense_div_data=expense_div_data+"<h4 class='panel-title'>";
						  if(parentcheck)
						  {
                          expense_div_data=expense_div_data+"<input type='checkbox' checked='checked' class='new-checkbox "+check_boxex_class+"' onchange='checkparent_checkboxex(\"" + project_id + "\")' />";
						  }
						  else
						  {
						  expense_div_data=expense_div_data+"<input type='checkbox' class='new-checkbox "+check_boxex_class+"' onchange='checkparent_checkboxex(\"" + project_id + "\")' />";
						  }
                          expense_div_data = expense_div_data + " <a class='accordion-toggle' id="+expense_anchor+" data-toggle='collapse' data-parent='#" + datatobind_divid + "' href='#" + expense_data_div_id + "' onclick='getExpenseItemByExpenseID(\"" + value.ID + "\",\"" + expense_data_div_id + "\",\""+expense_anchor+"\")'>";
                          expense_div_data=expense_div_data+" <ul class='pull-left'>";
                          expense_div_data=expense_div_data+" <li> </li>";
                          expense_div_data = expense_div_data + " <li>" + expense_data_div_id + "</li>";
                          expense_div_data=expense_div_data+"</ul>";
                          expense_div_data=expense_div_data+"<ul class='pull-right'>";
                          expense_div_data=expense_div_data+" <li>Pending Approval</li>";
                          expense_div_data=expense_div_data+" </ul>";
                          expense_div_data=expense_div_data+" </a>";
                          expense_div_data=expense_div_data+"</h4>";
                          expense_div_data=expense_div_data+" </div>";
                          expense_div_data = expense_div_data + " <div id=" + expense_data_div_id + " class='panel-collapse collapse ' >";
                          //expense_div_data = expense_div_data + "<div class='panel-body'>";

                          //expense_div_data=expense_div_data+"<table class='table table-striped table-bordered dataTable no-footer' id='student_datatable' role='grid' aria-describedby='student_datatable_info'>";
                          //expense_div_data=expense_div_data+"<thead>";
                          //expense_div_data=expense_div_data+" <tr role='row'><th class='sorting_asc' tabindex='0' aria-controls='student_datatable' rowspan='1' colspan='1' aria-sort='ascending' aria-label='Attachment: activate to sort column descending' style='width: 112px;'>Attachment</th><th class='sorting' tabindex='0' aria-controls='student_datatable' rowspan='1' colspan='1' aria-label='Ref No.: activate to sort column ascending' style='width: 72px;'>Ref No.</th><th class='sorting' tabindex='0' aria-controls='student_datatable' rowspan='1' colspan='1' aria-label='Item: activate to sort column ascending' style='width: 91px;'>Item</th><th class='sorting' tabindex='0' aria-controls='student_datatable' rowspan='1' colspan='1' aria-label='Status: activate to sort column ascending' style='width: 77px;'>Status</th><th class='sorting' tabindex='0' aria-controls='student_datatable' rowspan='1' colspan='1' aria-label='Amount: activate to sort column ascending' style='width: 79px;'>Amount</th><th class='sorting' tabindex='0' aria-controls='student_datatable' rowspan='1' colspan='1' aria-label='Payment Type: activate to sort column ascending' style='width: 155px;'>Payment Type</th><th class='sorting' tabindex='0' aria-controls='student_datatable' rowspan='1' colspan='1' aria-label='Creted Date: activate to sort column ascending' style='width: 136px;'>Creted Date</th><th class='sorting' tabindex='0' aria-controls='student_datatable' rowspan='1' colspan='1' aria-label='Billable To Client: activate to sort column ascending' style='width: 155px;'>Billable To Client</th><th class='sorting' tabindex='0' aria-controls='student_datatable' rowspan='1' colspan='1' aria-label='Edit: activate to sort column ascending' style='width: 42px;'>Edit</th><th class='sorting' tabindex='0' aria-controls='student_datatable' rowspan='1' colspan='1' aria-label='Delete: activate to sort column ascending' style='width: 68px;'>Delete</th></tr>";
                          //expense_div_data=expense_div_data+" </thead>";
                          //expense_div_data=expense_div_data+" <tbody id='student_data'>";
                          //expense_div_data=expense_div_data+" <tr id='rowhideslow6' class='deleteall6 odd' value='6' role='row'><td class='sorting_1'><a href='NaNBconeBillAttachment/Add_Expence_bindInline.txt' download=''><i class='fa fa-chain'></i></a></td> <td><a href='javascript:void(0)' style='text-decoration:underline;'>6</a></td><td>Dinner</td><td>Active</td><td>500</td><td>Employee Paid</td><td>15-Sep-2016</td><td>Yes</td> <td><a href='javascript:void(0)' onclick='getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;6&quot;,&quot;rowhideslow6&quot;);showmodal();'><i class='fa fa-pencil'></i></a></td> <td><a onclick='DeleteExpenseLog(6,&quot;rowhideslow6&quot;)'><i class='fa fa-trash'></i></a></td></tr><tr id='rowhideslow7' class='deleteall7 even' value='7' role='row'><td class='sorting_1'><a href='NaNBconeBillAttachment/AddExpenceNew.txt' download=''><i class='fa fa-chain'></i></a></td> <td><a href='javascript:void(0)' style='text-decoration:underline;'>7</a></td><td>Dinner</td><td>Active</td><td>1500</td><td>Company Paid</td><td>22-Sep-2016</td><td>No</td> <td><a href='javascript:void(0)' onclick='getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;7&quot;,&quot;rowhideslow7&quot;);showmodal();'><i class='fa fa-pencil'></i></a></td> <td><a onclick='DeleteExpenseLog(7,&quot;rowhideslow7&quot;)'><i class='fa fa-trash'></i></a></td></tr><tr id='rowhideslow9' class='deleteall9 odd' value='9' role='row'><td class='sorting_1'><a href='NaNBconeBillAttachment/expenseitemdeatil11.txt' download=''><i class='fa fa-chain'></i></a></td> <td><a href='javascript:void(0)' style='text-decoration:underline;'>9</a></td><td>Travling</td><td>Active</td><td>1500</td><td>Company Paid</td><td>16-Sep-2016</td><td>Yes</td> <td><a href='javascript:void(0)' onclick='getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;9&quot;,&quot;rowhideslow9&quot;);showmodal();'><i class='fa fa-pencil'></i></a></td> <td><a onclick='DeleteExpenseLog(9,&quot;rowhideslow9&quot;)'><i class='fa fa-trash'></i></a></td></tr><tr id='rowhideslow10' class='deleteall10 even' value='10' role='row'><td class='sorting_1'><a href='NaNBconeBillAttachment/expenseitemdeatil11.txt' download=''><i class='fa fa-chain'></i></a></td> <td><a href='javascript:void(0)' style='text-decoration:underline;'>10</a></td><td>Dinner</td><td>Active</td><td>20000</td><td>Employee Paid</td><td>22-Sep-2016</td><td>No</td> <td><a href='javascript:void(0)' onclick='getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;10&quot;,&quot;rowhideslow10&quot;);showmodal();'><i class='fa fa-pencil'></i></a></td> <td><a onclick='DeleteExpenseLog(10,&quot;rowhideslow10&quot;)'><i class='fa fa-trash'></i></a></td></tr><tr id='rowhideslow122' class='deleteall122 odd' value='122' role='row'><td class='sorting_1'><a href='NaNBconeBillAttachment/AddExpenceNew (4).txt' download=''><i class='fa fa-chain'></i></a></td> <td><a href='javascript:void(0)' style='text-decoration:underline;'>122</a></td><td>Travling</td><td>Active</td><td>15</td><td>Employee Paid</td><td>27-Sep-2016</td><td>Yes</td> <td><a href='javascript:void(0)' onclick='getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;122&quot;,&quot;rowhideslow122&quot;);showmodal();'><i class='fa fa-pencil'></i></a></td> <td><a onclick='DeleteExpenseLog(122,&quot;rowhideslow122&quot;)'><i class='fa fa-trash'></i></a></td></tr><tr id='rowhideslow123' class='deleteall123 even' value='123' role='row'><td class='sorting_1'><a href='NaNBconeBillAttachment/AddExpenceNew (4).txt' download=''><i class='fa fa-chain'></i></a></td> <td><a href='javascript:void(0)' style='text-decoration:underline;'>123</a></td><td>Dinner</td><td>Active</td><td>24000</td><td>Employee Paid</td><td>27-Sep-2016</td><td>No</td> <td><a href='javascript:void(0)' onclick='getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;123&quot;,&quot;rowhideslow123&quot;);showmodal();'><i class='fa fa-pencil'></i></a></td> <td><a onclick='DeleteExpenseLog(123,&quot;rowhideslow123&quot;)'><i class='fa fa-trash'></i></a></td></tr><tr id='rowhideslow135' class='deleteall135 odd' value='135' role='row'><td class='sorting_1'><a onclick='noattchment()'><i class='fa fa-chain'></i></a></td> <td><a href='javascript:void(0)' style='text-decoration:underline;'>135</a></td><td>Dinner</td><td>Active</td><td>0</td><td>Employee Paid</td><td>10-Jun-2016</td><td>Yes</td> <td><a href='javascript:void(0)' onclick='getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;135&quot;,&quot;rowhideslow135&quot;);showmodal();'><i class='fa fa-pencil'></i></a></td> <td><a onclick='DeleteExpenseLog(135,&quot;rowhideslow135&quot;)'><i class='fa fa-trash'></i></a></td></tr><tr id='rowhideslow137' class='deleteall137 even' value='137' role='row'><td class='sorting_1'><a onclick='noattchment()'><i class='fa fa-chain'></i></a></td> <td><a href='javascript:void(0)' style='text-decoration:underline;'>137</a></td><td>Travling</td><td>Active</td><td>0</td><td>Employee Paid</td><td>6-Sep-2016</td><td>No</td> <td><a href='javascript:void(0)' onclick='getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;137&quot;,&quot;rowhideslow137&quot;);showmodal();'><i class='fa fa-pencil'></i></a></td> <td><a onclick='DeleteExpenseLog(137,&quot;rowhideslow137&quot;)'><i class='fa fa-trash'></i></a></td></tr><tr id='rowhideslow138' class='deleteall138 odd' value='138' role='row'><td class='sorting_1'><a onclick='noattchment()'><i class='fa fa-chain'></i></a></td> <td><a href='javascript:void(0)' style='text-decoration:underline;'>138</a></td><td>Travling</td><td>Active</td><td>0</td><td>Employee Paid</td><td>27-Sep-2016</td><td>No</td> <td><a href='javascript:void(0)' onclick='getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;138&quot;,&quot;rowhideslow138&quot;);showmodal();'><i class='fa fa-pencil'></i></a></td> <td><a onclick='DeleteExpenseLog(138,&quot;rowhideslow138&quot;)'><i class='fa fa-trash'></i></a></td></tr></tbody>";
                          //expense_div_data=expense_div_data+"</table>";
                          //expense_div_data=expense_div_data+" <div class='bottom-btns'>";
                          //expense_div_data=expense_div_data+" <a class='green-btn'>Approve</a>";
                          //expense_div_data=expense_div_data+"<a class='red-btn'>Reject</a>";
                          //expense_div_data=expense_div_data+"</div>";

                          //expense_div_data=expense_div_data+"</div>";
                          expense_div_data=expense_div_data+" </div>";
                          expense_div_data = expense_div_data + "</div>";

                      });
                    

                      $('#' + datatobind_divid).html(expense_div_data);
					  
					  $('#'+parent_anchor).prop('onclick',null).off('click');

                    
                  }
                  else {

                     
                  }


              },
              error: function (data) {
                  alert(data.responseJSON.error.message.value);
                  failure(data);
              }
          });
      }


      function getExpenseItemByExpenseID(expense_id, datatobind_divid,expense_anchor) {
	  alert('click ekadaachhh');
          var query_cml = '<View><Query><Where><Eq><FieldRef Name="TrackingNo" /><Value Type="Number">' + expense_id + '</Value></Eq></Where><OrderBy><FieldRef Name="ExpenseDate" Ascending="False"/><Value Type="DateTime" IncludeTimeValue="True"></Value></OrderBy></Query></View>';
          var Expense_item_div_data = "";
          var expense_item_table_id = datatobind_divid + "_table";
          var expense_item_table_tbody_id = datatobind_divid + "_table_tbody";

          Expense_item_div_data = Expense_item_div_data + "<div class='panel-body'>";
          Expense_item_div_data = Expense_item_div_data + "<table class='table table-striped table-bordered dataTable no-footer' id=" + expense_item_table_id + " role='grid' aria-describedby='student_datatable_info'>";
          Expense_item_div_data = Expense_item_div_data + "  <thead>";
          Expense_item_div_data = Expense_item_div_data + "<tr role='row'><th class='sorting_asc' tabindex='0' aria-controls='student_datatable' rowspan='1' colspan='1' aria-sort='ascending' aria-label='Attachment: activate to sort column descending' style='width: 112px;'>Attachment</th><th class='sorting' tabindex='0' aria-controls='student_datatable' rowspan='1' colspan='1' aria-label='Ref No.: activate to sort column ascending' style='width: 72px;'>Ref No.</th><th class='sorting' tabindex='0' aria-controls='student_datatable' rowspan='1' colspan='1' aria-label='Item: activate to sort column ascending' style='width: 91px;'>Item</th><th class='sorting' tabindex='0' aria-controls='student_datatable' rowspan='1' colspan='1' aria-label='Status: activate to sort column ascending' style='width: 77px;'>Status</th><th class='sorting' tabindex='0' aria-controls='student_datatable' rowspan='1' colspan='1' aria-label='Amount: activate to sort column ascending' style='width: 79px;'>Amount</th><th class='sorting' tabindex='0' aria-controls='student_datatable' rowspan='1' colspan='1' aria-label='Payment Type: activate to sort column ascending' style='width: 155px;'>Payment Type</th><th class='sorting' tabindex='0' aria-controls='student_datatable' rowspan='1' colspan='1' aria-label='Creted Date: activate to sort column ascending' style='width: 136px;'>Creted Date</th><th class='sorting' tabindex='0' aria-controls='student_datatable' rowspan='1' colspan='1' aria-label='Billable To Client: activate to sort column ascending' style='width: 155px;'>Billable To Client</th><th class='sorting' tabindex='0' aria-controls='student_datatable' rowspan='1' colspan='1' aria-label='Edit: activate to sort column ascending' style='width: 42px;'>Edit</th><th class='sorting' tabindex='0' aria-controls='student_datatable' rowspan='1' colspan='1' aria-label='Delete: activate to sort column ascending' style='width: 68px;'>Delete</th></tr>";
          Expense_item_div_data = Expense_item_div_data + "</thead>";
          Expense_item_div_data = Expense_item_div_data + " <tbody id=" + expense_item_table_tbody_id + "></tbody>";


          Expense_item_div_data=Expense_item_div_data+" <tbody id='student_data'>";
          Expense_item_div_data=Expense_item_div_data+" <tr id='rowhideslow6' class='deleteall6 odd' value='6' role='row'><td class='sorting_1'><a href='NaNBconeBillAttachment/Add_Expence_bindInline.txt' download=''><i class='fa fa-chain'></i></a></td> <td><a href='javascript:void(0)' style='text-decoration:underline;'>6</a></td><td>Dinner</td><td>Active</td><td>500</td><td>Employee Paid</td><td>15-Sep-2016</td><td>Yes</td> <td><a href='javascript:void(0)' onclick='getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;6&quot;,&quot;rowhideslow6&quot;);showmodal();'><i class='fa fa-pencil'></i></a></td> <td><a onclick='DeleteExpenseLog(6,&quot;rowhideslow6&quot;)'><i class='fa fa-trash'></i></a></td></tr><tr id='rowhideslow7' class='deleteall7 even' value='7' role='row'><td class='sorting_1'><a href='NaNBconeBillAttachment/AddExpenceNew.txt' download=''><i class='fa fa-chain'></i></a></td> <td><a href='javascript:void(0)' style='text-decoration:underline;'>7</a></td><td>Dinner</td><td>Active</td><td>1500</td><td>Company Paid</td><td>22-Sep-2016</td><td>No</td> <td><a href='javascript:void(0)' onclick='getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;7&quot;,&quot;rowhideslow7&quot;);showmodal();'><i class='fa fa-pencil'></i></a></td> <td><a onclick='DeleteExpenseLog(7,&quot;rowhideslow7&quot;)'><i class='fa fa-trash'></i></a></td></tr><tr id='rowhideslow9' class='deleteall9 odd' value='9' role='row'><td class='sorting_1'><a href='NaNBconeBillAttachment/expenseitemdeatil11.txt' download=''><i class='fa fa-chain'></i></a></td> <td><a href='javascript:void(0)' style='text-decoration:underline;'>9</a></td><td>Travling</td><td>Active</td><td>1500</td><td>Company Paid</td><td>16-Sep-2016</td><td>Yes</td> <td><a href='javascript:void(0)' onclick='getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;9&quot;,&quot;rowhideslow9&quot;);showmodal();'><i class='fa fa-pencil'></i></a></td> <td><a onclick='DeleteExpenseLog(9,&quot;rowhideslow9&quot;)'><i class='fa fa-trash'></i></a></td></tr><tr id='rowhideslow10' class='deleteall10 even' value='10' role='row'><td class='sorting_1'><a href='NaNBconeBillAttachment/expenseitemdeatil11.txt' download=''><i class='fa fa-chain'></i></a></td> <td><a href='javascript:void(0)' style='text-decoration:underline;'>10</a></td><td>Dinner</td><td>Active</td><td>20000</td><td>Employee Paid</td><td>22-Sep-2016</td><td>No</td> <td><a href='javascript:void(0)' onclick='getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;10&quot;,&quot;rowhideslow10&quot;);showmodal();'><i class='fa fa-pencil'></i></a></td> <td><a onclick='DeleteExpenseLog(10,&quot;rowhideslow10&quot;)'><i class='fa fa-trash'></i></a></td></tr><tr id='rowhideslow122' class='deleteall122 odd' value='122' role='row'><td class='sorting_1'><a href='NaNBconeBillAttachment/AddExpenceNew (4).txt' download=''><i class='fa fa-chain'></i></a></td> <td><a href='javascript:void(0)' style='text-decoration:underline;'>122</a></td><td>Travling</td><td>Active</td><td>15</td><td>Employee Paid</td><td>27-Sep-2016</td><td>Yes</td> <td><a href='javascript:void(0)' onclick='getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;122&quot;,&quot;rowhideslow122&quot;);showmodal();'><i class='fa fa-pencil'></i></a></td> <td><a onclick='DeleteExpenseLog(122,&quot;rowhideslow122&quot;)'><i class='fa fa-trash'></i></a></td></tr><tr id='rowhideslow123' class='deleteall123 even' value='123' role='row'><td class='sorting_1'><a href='NaNBconeBillAttachment/AddExpenceNew (4).txt' download=''><i class='fa fa-chain'></i></a></td> <td><a href='javascript:void(0)' style='text-decoration:underline;'>123</a></td><td>Dinner</td><td>Active</td><td>24000</td><td>Employee Paid</td><td>27-Sep-2016</td><td>No</td> <td><a href='javascript:void(0)' onclick='getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;123&quot;,&quot;rowhideslow123&quot;);showmodal();'><i class='fa fa-pencil'></i></a></td> <td><a onclick='DeleteExpenseLog(123,&quot;rowhideslow123&quot;)'><i class='fa fa-trash'></i></a></td></tr><tr id='rowhideslow135' class='deleteall135 odd' value='135' role='row'><td class='sorting_1'><a onclick='noattchment()'><i class='fa fa-chain'></i></a></td> <td><a href='javascript:void(0)' style='text-decoration:underline;'>135</a></td><td>Dinner</td><td>Active</td><td>0</td><td>Employee Paid</td><td>10-Jun-2016</td><td>Yes</td> <td><a href='javascript:void(0)' onclick='getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;135&quot;,&quot;rowhideslow135&quot;);showmodal();'><i class='fa fa-pencil'></i></a></td> <td><a onclick='DeleteExpenseLog(135,&quot;rowhideslow135&quot;)'><i class='fa fa-trash'></i></a></td></tr><tr id='rowhideslow137' class='deleteall137 even' value='137' role='row'><td class='sorting_1'><a onclick='noattchment()'><i class='fa fa-chain'></i></a></td> <td><a href='javascript:void(0)' style='text-decoration:underline;'>137</a></td><td>Travling</td><td>Active</td><td>0</td><td>Employee Paid</td><td>6-Sep-2016</td><td>No</td> <td><a href='javascript:void(0)' onclick='getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;137&quot;,&quot;rowhideslow137&quot;);showmodal();'><i class='fa fa-pencil'></i></a></td> <td><a onclick='DeleteExpenseLog(137,&quot;rowhideslow137&quot;)'><i class='fa fa-trash'></i></a></td></tr><tr id='rowhideslow138' class='deleteall138 odd' value='138' role='row'><td class='sorting_1'><a onclick='noattchment()'><i class='fa fa-chain'></i></a></td> <td><a href='javascript:void(0)' style='text-decoration:underline;'>138</a></td><td>Travling</td><td>Active</td><td>0</td><td>Employee Paid</td><td>27-Sep-2016</td><td>No</td> <td><a href='javascript:void(0)' onclick='getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;138&quot;,&quot;rowhideslow138&quot;);showmodal();'><i class='fa fa-pencil'></i></a></td> <td><a onclick='DeleteExpenseLog(138,&quot;rowhideslow138&quot;)'><i class='fa fa-trash'></i></a></td></tr></tbody>";


          Expense_item_div_data = Expense_item_div_data + " </table>";
          Expense_item_div_data = Expense_item_div_data + " <div class='bottom-btns'>";
          Expense_item_div_data = Expense_item_div_data + " <a class='green-btn'>Approve</a>";
          Expense_item_div_data = Expense_item_div_data + " <a class='red-btn'>Reject</a>";
          Expense_item_div_data = Expense_item_div_data + " </div>";
          Expense_item_div_data = Expense_item_div_data + "</div>";

          //alert(Expense_item_div_data);

          $('#' + datatobind_divid).html(Expense_item_div_data);


          
          $.ajax({
              url: _spPageContextInfo.webAbsoluteUrl + "/_api/Web/Lists/getbytitle('BconeExpenceLogDetail')/GetItems",
              type: "POST",
              headers: {
                  "accept": "application/json;odata=verbose",
                  "X-RequestDigest": $("#__REQUESTDIGEST").val(),
                  "content-Type": "application/json;odata=verbose"
              },
              data: JSON.stringify({
                  query: {
                      __metadata: {
                          type: "SP.CamlQuery"
                      },
                      ViewXml: query_cml
                  }
              }),

              success: function (data) {
                 
                  if (data.d.results.length > 0) {
                      $.each(data.d.results, function (key, value) {

					  
					  $('#'+expense_anchor).prop('onclick',null).off('click');
                         
                          //Expense_item_div_data=Expense_item_div_data+" <tbody id='student_data'>";
                         // Expense_item_div_data=Expense_item_div_data+" <tr id='rowhideslow6' class='deleteall6 odd' value='6' role='row'><td class='sorting_1'><a href='NaNBconeBillAttachment/Add_Expence_bindInline.txt' download=''><i class='fa fa-chain'></i></a></td> <td><a href='javascript:void(0)' style='text-decoration:underline;'>6</a></td><td>Dinner</td><td>Active</td><td>500</td><td>Employee Paid</td><td>15-Sep-2016</td><td>Yes</td> <td><a href='javascript:void(0)' onclick='getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;6&quot;,&quot;rowhideslow6&quot;);showmodal();'><i class='fa fa-pencil'></i></a></td> <td><a onclick='DeleteExpenseLog(6,&quot;rowhideslow6&quot;)'><i class='fa fa-trash'></i></a></td></tr><tr id='rowhideslow7' class='deleteall7 even' value='7' role='row'><td class='sorting_1'><a href='NaNBconeBillAttachment/AddExpenceNew.txt' download=''><i class='fa fa-chain'></i></a></td> <td><a href='javascript:void(0)' style='text-decoration:underline;'>7</a></td><td>Dinner</td><td>Active</td><td>1500</td><td>Company Paid</td><td>22-Sep-2016</td><td>No</td> <td><a href='javascript:void(0)' onclick='getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;7&quot;,&quot;rowhideslow7&quot;);showmodal();'><i class='fa fa-pencil'></i></a></td> <td><a onclick='DeleteExpenseLog(7,&quot;rowhideslow7&quot;)'><i class='fa fa-trash'></i></a></td></tr><tr id='rowhideslow9' class='deleteall9 odd' value='9' role='row'><td class='sorting_1'><a href='NaNBconeBillAttachment/expenseitemdeatil11.txt' download=''><i class='fa fa-chain'></i></a></td> <td><a href='javascript:void(0)' style='text-decoration:underline;'>9</a></td><td>Travling</td><td>Active</td><td>1500</td><td>Company Paid</td><td>16-Sep-2016</td><td>Yes</td> <td><a href='javascript:void(0)' onclick='getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;9&quot;,&quot;rowhideslow9&quot;);showmodal();'><i class='fa fa-pencil'></i></a></td> <td><a onclick='DeleteExpenseLog(9,&quot;rowhideslow9&quot;)'><i class='fa fa-trash'></i></a></td></tr><tr id='rowhideslow10' class='deleteall10 even' value='10' role='row'><td class='sorting_1'><a href='NaNBconeBillAttachment/expenseitemdeatil11.txt' download=''><i class='fa fa-chain'></i></a></td> <td><a href='javascript:void(0)' style='text-decoration:underline;'>10</a></td><td>Dinner</td><td>Active</td><td>20000</td><td>Employee Paid</td><td>22-Sep-2016</td><td>No</td> <td><a href='javascript:void(0)' onclick='getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;10&quot;,&quot;rowhideslow10&quot;);showmodal();'><i class='fa fa-pencil'></i></a></td> <td><a onclick='DeleteExpenseLog(10,&quot;rowhideslow10&quot;)'><i class='fa fa-trash'></i></a></td></tr><tr id='rowhideslow122' class='deleteall122 odd' value='122' role='row'><td class='sorting_1'><a href='NaNBconeBillAttachment/AddExpenceNew (4).txt' download=''><i class='fa fa-chain'></i></a></td> <td><a href='javascript:void(0)' style='text-decoration:underline;'>122</a></td><td>Travling</td><td>Active</td><td>15</td><td>Employee Paid</td><td>27-Sep-2016</td><td>Yes</td> <td><a href='javascript:void(0)' onclick='getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;122&quot;,&quot;rowhideslow122&quot;);showmodal();'><i class='fa fa-pencil'></i></a></td> <td><a onclick='DeleteExpenseLog(122,&quot;rowhideslow122&quot;)'><i class='fa fa-trash'></i></a></td></tr><tr id='rowhideslow123' class='deleteall123 even' value='123' role='row'><td class='sorting_1'><a href='NaNBconeBillAttachment/AddExpenceNew (4).txt' download=''><i class='fa fa-chain'></i></a></td> <td><a href='javascript:void(0)' style='text-decoration:underline;'>123</a></td><td>Dinner</td><td>Active</td><td>24000</td><td>Employee Paid</td><td>27-Sep-2016</td><td>No</td> <td><a href='javascript:void(0)' onclick='getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;123&quot;,&quot;rowhideslow123&quot;);showmodal();'><i class='fa fa-pencil'></i></a></td> <td><a onclick='DeleteExpenseLog(123,&quot;rowhideslow123&quot;)'><i class='fa fa-trash'></i></a></td></tr><tr id='rowhideslow135' class='deleteall135 odd' value='135' role='row'><td class='sorting_1'><a onclick='noattchment()'><i class='fa fa-chain'></i></a></td> <td><a href='javascript:void(0)' style='text-decoration:underline;'>135</a></td><td>Dinner</td><td>Active</td><td>0</td><td>Employee Paid</td><td>10-Jun-2016</td><td>Yes</td> <td><a href='javascript:void(0)' onclick='getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;135&quot;,&quot;rowhideslow135&quot;);showmodal();'><i class='fa fa-pencil'></i></a></td> <td><a onclick='DeleteExpenseLog(135,&quot;rowhideslow135&quot;)'><i class='fa fa-trash'></i></a></td></tr><tr id='rowhideslow137' class='deleteall137 even' value='137' role='row'><td class='sorting_1'><a onclick='noattchment()'><i class='fa fa-chain'></i></a></td> <td><a href='javascript:void(0)' style='text-decoration:underline;'>137</a></td><td>Travling</td><td>Active</td><td>0</td><td>Employee Paid</td><td>6-Sep-2016</td><td>No</td> <td><a href='javascript:void(0)' onclick='getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;137&quot;,&quot;rowhideslow137&quot;);showmodal();'><i class='fa fa-pencil'></i></a></td> <td><a onclick='DeleteExpenseLog(137,&quot;rowhideslow137&quot;)'><i class='fa fa-trash'></i></a></td></tr><tr id='rowhideslow138' class='deleteall138 odd' value='138' role='row'><td class='sorting_1'><a onclick='noattchment()'><i class='fa fa-chain'></i></a></td> <td><a href='javascript:void(0)' style='text-decoration:underline;'>138</a></td><td>Travling</td><td>Active</td><td>0</td><td>Employee Paid</td><td>27-Sep-2016</td><td>No</td> <td><a href='javascript:void(0)' onclick='getListItemByIdForUpdate(&quot;https://bristleconeonline.sharepoint.com/sites/Dev/&quot;,&quot;BconeExpenceLogDetail&quot;,&quot;138&quot;,&quot;rowhideslow138&quot;);showmodal();'><i class='fa fa-pencil'></i></a></td> <td><a onclick='DeleteExpenseLog(138,&quot;rowhideslow138&quot;)'><i class='fa fa-trash'></i></a></td></tr></tbody>";
                         

                      });

                     // $('#' + datatobind_divid).append(Expense_item_div_data);
                  }
                  else {

                     
                  }



              },
              error: function (data) {
                  alert(data.responseJSON.error.message.value);
                  failure(data);
              }
          });
      }

      function getResourcesGuid(NewloginName) {
          var GUID;
          jQuery.ajax({

              url: "/sites/Dev/_api/ProjectData/Resources?$filter=ResourceNTAccount eq('" + NewloginName + "')",
              type: "GET",
              headers: { "Accept": "application/json;odata=verbose" },
              success: function (data) {
                  console.log(data);
                  GUID = data.d.results[0].ResourceId;
                  alert('GUID' + GUID);
				  
				  getProjectsByGUID(GUID);

                  return GUID;

              }
          });

      }

      function GetUserId(userid) {
          var NewloginName = "";
          jQuery.ajax({
              url: "/sites/Dev/_api/Web/GetUserById(" + userid + ")",
              type: "GET",
              headers: { "Accept": "application/json;odata=verbose" },
              success: function (data) {
                  var dataResults = data.d;
                  //get login name  
                  console.log(data);
                  var loginName = dataResults.LoginName;
                  console.log(loginName);
                  //get display name
                  console.log(dataResults.Title);
                  NewloginName = encodeURIComponent(loginName); //encoding loginName from special charater to normal text
                  getResourcesGuid(NewloginName);
                 // console.log(NewloginName);
                  //alert('NewloginName :' + NewloginName);
                
              },
              complete: function () {

                 // var result = getResourcesGuid(NewloginName);
                 // alert(result);
              },
          });
      }
	  
	  function getProjectsByGUID(ResGUID)
	  {
	  
	   var url = "https://ppmdev.bcone.com/api/BCONE/GetProjectName";
        var requestData = {"ResGUID":ResGUID};
        $.ajax({
            url: url,
            data: requestData,
            async: false,
            type: "POST",
            dataType: "json",
            success: function (res) {
                console.log(res);
				
				alert(res);
               // $.each(res.SubOptions[0].Resources, function (index, value) {
                   // $('#ddlGateABusinessAnalyst').append(new Option("", 0));
                   // $('#ddlGateABusinessAnalyst').append("<option data-value = '" + value["ResourceId"] + "'>" + value.ResourceName + "</option>");
                //});
            },
            error: function (jqXHR, textStatus, errorThrown) {
                //alert("ResourcesFailed");
            },
            headers: {
                'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'
            }
        });
	  
	  }
	  
	  function checkchild_checkboxex(parentclass,parentcheckboxID)
	  {
	 // alert(parentcheckboxID);
		var childclass=parentclass+"ckeckboxex";
		
		//alert(childclass);
		//alert(this.checked);
		//alert($('#'+parentcheckboxID).prop("checked"));
		$("."+childclass).prop("checked", $('#'+parentcheckboxID).prop("checked"));
	  }
	  
	  function checkparent_checkboxex(projectID)
	  {
	 // alert(parentcheckboxID);
		var childclass="project"+projectID+"ckeckboxex";
		var parentclass="project"+projectID;
		
		//alert(parentclass);
		
		
		
		//$.each( $('.'+parentclass  input:checkbox), function(key,value) {
		
		//alert('hi');
		//$('div', left).each(function() {

		//});
		//});
		
		// $('.project1 > input[type=checkbox]').each(function(){
		 //alert('hi');
			//$(this).doSomething();//this is the checked checkbox
		//});
		var parentcheck=true;
		
		$('input:checkbox.'+childclass).each(function () {
			//var sThisVal = (this.checked ? $(this).val() : "");
			 //alert('hi');
			//alert(this.checked);
			
			if(!(this.checked))
			{
				parentcheck=false;
				$("."+parentclass).prop("checked", parentcheck);

			}
			
		});
		if(parentcheck)
		{
			$("."+parentclass).prop("checked", parentcheck);
		}
		
		
		
		//alert(childclass);
		//alert(this.checked);
		//alert($('#'+parentcheckboxID).prop("checked"));
		//$("."+childclass).prop("checked", $('#'+parentcheckboxID).prop("checked"));
	  }

	  

     

      $(function () {

          getProjects(web_url, 'BconeEmpMaster');

          var userid = _spPageContextInfo.userId;

          //alert(userid);
          GetUserId(userid);
		  
			//$(".project1").change(function(){
				//$(".project1ckeckboxex").prop("checked", $(this).prop("checked"));
			//});

    
      });

      </script>


		<!-- Modal -->
		<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
		  <div class="modal-dialog" role="document">
			<div class="modal-content">
			  <div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
				<h4 class="modal-title" id="myModalLabel">Modal title</h4>
			  </div>
			  <div class="modal-body">
			     <div class="top-refine">
				  <ul class="pull-right tabs-menu">
				    <li><a href="#tabdiv1" class="blue-btn" class="current">Approved <span class="red-count">5</span></a>
					<a href="#tabdiv2" class="blue-btn">Rejected <span class="red-count">5</span></a></li>
				  </ul>
				</div>
				<div class="clearfix"></div>
				<div class="new-table">
				<div class="tab-contentdiv" id="tabdiv1">
					<table class="table-bordered table">
						<tr>
							<th>Tracking No</th>
							<th>Title</th>
							<th>Created Date</th>
							<th>Project Name</th>
							<th>Pending With</th>
							<th>Advance Taken</th>							
						</tr>
						<tr>
							<td>554</td>
							<td>Main Project</td>
							<td>8-Nov-2016</td>
							<td>Project Name</td>
							<td>Pending With</td>
							<td>5200.00</td>
						</tr>

					</table>
				</div>
				<div class="tab-contentdiv" id="tabdiv2">
					<table class="table-bordered table">
						<tr>
							<th>Tracking No</th>
							<th>Title</th>
							<th>Created Date</th>
							<th>Project Name</th>
							<th>Pending With</th>
							<th>Advance Taken</th>							
						</tr>
						<tr>
							<td>554</td>
							<td>Main Project</td>
							<td>8-Nov-2016</td>
							<td>Project Name</td>
							<td>Pending With</td>
							<td>5200.00</td>
						</tr>

					</table>
				</div>
				</div>
			  </div>
			  <div class="modal-footer">
				<button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>			
			  </div>
			</div>
		  </div>
		</div>

<script>
$(document).ready(function() {
    $(".tabs-menu a").click(function(event) {
        event.preventDefault();
        $(this).parent().addClass("current");
        $(this).parent().siblings().removeClass("current");
        var tab = $(this).attr("href");
        $(".tab-contentdiv").not(tab).css("display", "none");
        $(tab).fadeIn();
    });
});
</script>
<style>
.tab-contentdiv {   
    display: none;
}
.tabs-menu a{color:#fff;}
#tabdiv1
{
 display:block;
}
</style>
  </body>


</html>

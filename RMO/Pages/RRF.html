<!DOCTYPE HTML>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title></title>
    <link rel="stylesheet" href="../SiteAssets/RMO/css/style.css">
    <link rel="stylesheet" href="../SiteAssets/RMO/css/bootstrap.min.css">
    <link rel="stylesheet" href="../SiteAssets/RMO/css/dataTables.bootstrap.min.css">
    <link rel="stylesheet" href="../SiteAssets/RMO/css/font-awesome.css">
    <link rel="stylesheet" href="../SiteAssets/RMO/css/jquery.mCustomScrollbar.css">
    <link rel="stylesheet" href="../SiteAssets/RMO/CSS/jquery-ui.css" type="text/css" />
    <link rel="stylesheet" href="../SiteAssets/RMO/css/select2.min.css">
    <link rel="stylesheet" href="../SiteAssets/RMO/css/bootstrap-select.min.css">
	<link rel="stylesheet" href="../SiteAssets/Timesheet/css/sumoselect.css">
    <style>
		.SumoSelect {width: 100% !important;} 
		select[multiple], select[size] { height: auto; z-index: -1; } 
		select[multiple], select[size] { height: auto; z-index: -1; } 
		.sp-peoplepicker-topLevel { width: 100% !important; border: none !important; } 
		.ms-webpart-titleText { display: none; } 
		.sp-peoplepicker-initialHelpText { top: 6px !important; } 
		#divReportingTo { padding: 0 !important; } 
		#suiteBarTop, #s4-titlerow { display: none !important; } 
		.contain-div { padding-top: 0 !important; } 
		.wrrfgreybg .options li, .wrrfgreybg .SumoSelect>.CaptionCont { font-weight: 700; } 
		.CaptionCont { height: 30px; } 
		#siteIcon::after { top: -3px; left: 259px; } 
		.wrrfgreybg .bootstrap-select:not([class*=col-]):not([class*=form-control]):not(.input-group-btn) { width: 100%; } 
		.wrrfgreybg .dropdown-menu {  right: 0; } 		
        #tooltip {
				position: relative;
                display: inline-block;
			}	

			#tooltip .tooltiptext {
				visibility: hidden;
				width: 400px;
				background-color: #555;
				color: #fff;
				text-align: left;
				border-radius: 6px;
				padding: 5px 0;
				position: absolute;
				z-index: 1;
				opacity: 0;
                transition: opacity 0.3s;
                margin-top: -100px;
            }

			/* #tooltip .tooltiptext::after {
				content: "";
				position: absolute;
				top: 100%;
				margin-left: -40%;
				border-width: 5px;
				border-style: solid;
				border-color: #555 transparent transparent transparent;
			} */

			#tooltip:hover .tooltiptext {
				visibility: visible;
				opacity: 1;
			}
    </style>
</head>
<body>
    <div class="loader">
        <img src="../SiteAssets/RMO/images/loader1.gif" style='display: none' />
    </div>
    <div class="contain-div">
        <div class="wrrfhead ">
            <div class="row">
                <div class="col-md-6">
                    <div id="siteIcon">
                        <a href="/sites/ppmprod>
                            <img src="../SiteAssets/New_bcone_logo.png"></a>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <div class="pull-right">
                            <h3 class="pull-left">RRF (RESOURCE REQUEST FORM): </h3>
                            <h3 class=" pull-left" id="lblrrfid"></h3>
                            <div class="clearfix"></div>
                            <label class="control-label pull-right">Requested By:- <span id="lbluser"></span></label>
                        </div>
                        <div class="clearfix"></div>
                    </div>
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        <div class="wrrfgreybg">
            <!-- <div class="row"> -->
                <!-- <div class="col-sm-9" id="CloneBtnDiv"> -->
                    <!-- <span class="clone pull-left" id="spnClone">Clone</span> -->
                <!-- </div> -->
                <!-- <div class="col-sm-7"></div> -->

            <!-- </div> -->
            <div class="clear"></div>
            <div class="row" style="margin-top: 10px">
                <!-- <div class="col-sm-6"></div> -->
                <div class="col-sm-12">
                    <div class="row">
                        <div class="col-sm-4">
                            <label style="margin-right: 15px">Project Status<span class="mandatory">*</span><i class="fa fa-info-circle prjstatus" aria-hidden="true"></i> </label>
                            <p style="margin-top: -45px;margin-left: 142px;text-decoration: underline;;color:blue" id="demo" > Click for SFDC Opportunity Availability Info.</p>
                            <div style="margin-left: 128px;">
                            <label class="radio-inline" style="margin-top: -10px;">
                                <input id="rdbnew" type="radio" value="New" name="projectstatus">
                                New Opportunity
                            </label>
                          
                            <label class="radio-inline" style="margin-top: -10px;">
                                <input id="rdbexisting" type="radio" value="Existing" name="projectstatus">
                                Existing Project
                            </label>
                         </div>
                            <div id="Bsearch">
                                <select id="ddlprojectname" class="selectpicker" data-show-subtext="true" data-live-search="true">
                                    <option value="1">Value</option>
                                </select>
                            </div>
                            <input type="text" id="projectname" style="display: none" class="form-control"><br />
                            <span class="error" id="errprojectname">Please Select Project Name</span>
                        </div>
                        <div class="col-sm-4" style="margin-top: 1px;">
                            <label id="lblcustomer">Customer Name<span class="mandatory">*</span><i class="fa fa-info-circle custmrname" aria-hidden="true"></i></label>
                            <br />
                            <input type="text" id="txtcustomer" class="form-control" tabindex="2">
                            <span class="error" id="errcustomer">Please Contact PMO Team For Update Customer Name </span>
                        </div>
						<div class="col-sm-4" style="margin-top: 1px;">
                         <div class="" id="StatusDiv">
                            <label id="lblStatus">Status<span class="mandatory"></label>
                             <br />
                            <input type="text" id="txtStatus" class="form-control" tabindex="">
                            <span class="error" id="errStatus"></span>
                            </div>
                            </div>
                <div class="" id="CloneBtnDiv">
                    <span class="clone" id="spnClone">Clone</span>
                </div>
                <div class="col-sm-7"></div>

            </div>
            </div>

                    </div>
                </div>
            </div>
            <div class="clearfix"></div>
        </div>
        <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
            <div class="panel panel-default">
                <div class="panel-heading" role="tab" id="headingOne">
                    <h4 class="panel-title"><a role="button" data-toggle="collapse" onclick="bindfirstaccdata();" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">PROJECT INFORMATION </a></h4>
                </div>
                <div id="collapseOne" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
                    <div class="panel-body">
                        <div class="row">
                            <div class="col-sm-4">
                                
								<div class="form-group">
                                    <label id="lblsubpractice">Sub-Practice<span class="mandatory">*</span><i class="fa fa-info-circle subprctse" aria-hidden="true"></i></label>
                                    <br />
                                    <select id="ddlsubpractice" class="form-control" tabindex="4">
                                    </select>
                                    <!-- </select>-->
                                    <span class="error" id="errsubpractice">Please Select SubPractice </span>
                                </div>
                                <div class="form-group">
                                    <label id="lblworklocation">Work Location<span class="mandatory">*</span><i class="fa fa-info-circle location" aria-hidden="true" autocomplete="off"></i></label>
                                    <br />
                                    <!--<select id="ddlworklocation" class="form-control"></select>-->
                                    <input type="text" id="txtworklocation" maxlength="150" class="form-control" tabindex="34" autocomplete="off">
                                    <span class="error" id="errworklocation">Please Enter Work Location </span>
                                </div>
                                <div class="form-group">
                                    <label id="lblemployeerole">Employee Role<span class="mandatory">*</span><i class="fa fa-info-circle role" aria-hidden="true"></i></label>
                                    <br />
                                    <select id="ddlemployeerole" class="form-control" tabindex="13">
                                        <!-- <option value="0">Select</option> -->
                                    </select>
                                    <span class="error" id="erremployeerole">Please Select Employee Role </span>
                                </div>
                                <div class="form-group" style="margin-bottom: 5px">
                                    <label id="lblemploymenttype">Employment Type<span class="mandatory">*</span><i class="fa fa-info-circle emptype" aria-hidden="true"></i></label>
                                    <br />
                                    <div class="row">
                                        <div class=" col-sm-6">
                                            <select id="ddlemploymenttype" class="form-control" tabindex="17">
                                            </select>
                                            <span class="error" id="erremploymenttype">Please Select Employment Type </span>
                                        </div>
                                        <div class=" col-sm-6">
                                            <select id="ddlemptypey" class="form-control" onchange="mySelectEType()" tabindex="18">
                                            </select>
                                            <span class="error" id="erremploymentsubtype">Please Select Sub-Employment Type </span>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label id="lblrequirementstartdate">Requirement Start Date<span class="mandatory">*</span><i class="fa fa-info-circle rstartdate" aria-hidden="true"></i></label>
                                    <br />
                                    <div class="date">
                                        <input type="text" id="txtrequirementstartdate" readonly="true" class="form-control txtrequirementstartdate" tabindex="21">
                                    </div>
                                    <span class="error" id="errrequirementstartdate">Please Select Requirement Start Date </span>
                                    <span class="error" id="newerrrequirementstartdate">Start date cant be less than RRF submission date</span>
                                </div>
                                <div class="form-group">
                                    <label id="lblsalaryrange">Salary Range<span class="mandatory">*</span><i class="fa fa-info-circle salaryrange" aria-hidden="true"></i></label>
                                    <br />
                                    <div class="row">
                                        <div class=" col-sm-4">
                                            <select id="ddlsalaryrange" class="form-control  m-bottom" tabindex="31">
                                            </select>
                                            <span class="error" id="errsalaryrange">Please select Salary range</span>
                                        </div>
                                        <div class=" col-sm-4">
                                            <input type="text" placeholder="Min Range" id="txtminsalaryrange" maxlength="10" class="form-control  m-bottom" tabindex="32">
                                            <span class="error" id="errnumminmsg"></span><span class="error" id="errzerominsalary">0 is not allowed on first digit</span><span class="error" id="errminsalaryrange">Please enter min Salary range</span>
                                        </div>
                                        <div class=" col-sm-4">
                                            <input type="text" placeholder="Max Range" id="txtmaxsalaryrange" maxlength="10" class="form-control  m-bottom" tabindex="33">
                                            <span class="error" id="errnummaxmsg"></span><span class="error" id="errzeromaxsalary">0 is not allowed on first digit</span> <span class="error" id="errmaxsalary">Max Salary range should be greater than Min Salary range</span><span class="error" id="errmaxsalaryrange">Please enter max Salary range</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label id="lblnatureofvacancy">Nature of Vacancy<span class="mandatory">*</span><i class="fa fa-info-circle nofvacancy" aria-hidden="true"></i></label>
                                    <br />
                                    <select id="ddlnatureofvacancy" class="form-control" tabindex="29">
                                    </select>
                                    <span class="error" id="errnatureofvacancy">Please Select Nature Of vacancy </span>
                                </div>
                                <div class="form-group" style="margin-top: 10px;">
                                    <label id="lblclientinterviewrequired">Client Interview Required<span class="mandatory">*</span><i class="fa fa-info-circle cntintvw" aria-hidden="true"></i></label>
                                    <br />
                                    <label class="radio-inline">
                                        <input type="radio" id="rdbyes" name="clientinterview" value="Yes" tabindex="24">
                                        Yes
                                    </label>
                                    <label class="radio-inline">
                                        <input type="radio" id="rdbno" name="clientinterview" value="No" tabindex="25">
                                        No
                                    </label>
                                    <span class="error" id="errclientinterviewrequired">Please Select Client Interview Required </span>
                                </div>
                                <div class="form-group" style="margin-top: 27px;">
                                    <div class="col-md-12">
                                        <label id="Label2">Job Description(JD)<span class="mandatory">*</span><i class="fa fa-info-circle" aria-hidden="true" ></i></label>
                                      
                                                <p style="font-size: 12px;color:#2F4F4F;margin-right: -226px;margin-top: -22px;margin-left: 152px;">JD will appear on Bristlecone Jobs Site.</p>
                                                <p style="margin-right: -247px;margin-left: 151px;"> 1.&NonBreakingSpace;<a href="https://bristleconeonline.sharepoint.com/RMORevamp/StandardJD/Forms/AllItems.aspx" target="_blank" style="color:blue" > 
                                                    <u style="color:blue">Click here</u>
                                                        </a>  
                                                        to access JD Repository
                                                        &NonBreakingSpace;&NonBreakingSpace;&NonBreakingSpace;&NonBreakingSpace;&NonBreakingSpace;&NonBreakingSpace;&NonBreakingSpace;&NonBreakingSpace;&NonBreakingSpace; 2.<a href="https://bristleconeonline.sharepoint.com/:p:/r/RMORevamp/StandardJD/Template%20for%20New%20JD/Guide%20for%20Writing%20Job%20Description%20in%20PPM.ppsx?d=w144b0f5f233a47bf8211db7f69adf25b&csf=1&web=1&e=7qyEGs" target="_blank"> 
                                                    <u style="color:blue"id="tooltip">Click here
                                                    <span  class="tooltiptext" style="margin-left:0px; margin-top: -100px;">
                                                        1.Do not add numbers or hyphen for new point. Every new line will automatically get a bullet on Bristlecone Jobs site.</br>
                                                          2.    Keep a blank row where you want a new paragraph.</br>
                                                          3.    Section headers should be in capital letter</br>
                                                          4.    Only two special characters, full stop & comma, are  accepted in JD</br></span></u>
                                                 </a> to access JD Guide. </p>
                                                  <!-- <span style="font-size:12px;color:#2F4F4F; margin-left: 156px;">  
                                                    </span> -->
    
                                    </div>
    
                                       
                                        </br />
                                    </br />
                                </br />
                                    <textarea id="txtjobdescription" class="form-control" tabindex="43" style="margin-left: 0px;margin-right: -13px;width: 868px;"></textarea>
                                    <span class="error" id="errjobdescriptionmsg">Special Characters are not allowed (\ " / : ; | ? ' <> * # ~ % & { } + (period))</span> <span class="error" id="errjobdescription">Please Enter Job Description </span>
                                </div>
								<div class="form-group">
                                    <label id="Label8">Additional Comments<span class="mandatory"></span><i class="fa fa-info-circle addcmnt" aria-hidden="true"></i></label>
                                    </br />
                                    <textarea id="txtadditional" class="form-control" tabindex="43" style="margin-left: 0px;margin-right: -13px;width: 868px;"></textarea>
                                    <span class="error" id="erradditional">Special Characters are not allowed (\ " / : ; | ? ' <> * # ~ % & { } + (period))</span> <span class="error" id="errjobdescription">Please Enter Additional Comments</span>
                                </div>
                                
                            </div>
                            <div class=" col-sm-4">
                                
								<div class="form-group">
                                    <label id="lblbaselocation">Base Location<span class="mandatory">*</span><i class="fa fa-info-circle baslocation" aria-hidden="true"></i></label>
                                    <br />

								<div class="row">
                                        <div class=" col-sm-6">
										 <select id="ddloffshare" class="form-control" tabindex="35">
										    <option value="0">Select</option>
										   <option value="Onshore">Onshore</option>
										   <option value="Offshore">Offshore</option>
											</select>
                                        </div>
                                        <div class="col-sm-6">
                                           <select id="ddlbaselocation" class="form-control" tabindex="35">
											</select>
											<span class="error" id="errbaselocation">Please Select Base location </span>
                                        </div>
                                </div>
								</div>
									
                                <div class="form-group" style="margin-top: -9px;">
                                    <label id="lblprimaryskill">Primary Skill<span class="mandatory">*</span><i class="fa fa-info-circle pskill" aria-hidden="true"></i></label>
                                    <br />
                                    <select id="ddlprimaryskill" class="form-control" tabindex="23">
                                    </select>
                                    <span class="error" id="errprimaryskill">Please Select Primary Skill </span>
                                </div>
                                <div class="form-group">
                                    <label id="lblroleband">Role Band<span class="mandatory">*</span><i class="fa fa-info-circle rolband" aria-hidden="true"></i></label>
                                    <br />
                                    <select id="ddlroleband" class="form-control" tabindex="15">
                                    </select>
                                    <span class="error" id="errroleband">Please Enter Role Band </span>
                                </div>
                                <div class="form-group">
                                    <label id="lblpositiontype">Position Type<span class="mandatory">*</span><i class="fa fa-info-circle psttype" aria-hidden="true"></i></label>
                                    <br />
                                    <select id="ddlpositiontype" class="form-control" tabindex="19">
                                    </select>
                                    <span class="error" id="errpositiontype">Please select position type </span>
                                </div>
                                <div class="form-group">
                                    <label id="lblrequirementenddat">Requirement End Date<span class="mandatory">*</span><i class="fa fa-info-circle renddate" aria-hidden="true"></i></label>
                                    <br />
                                    <div class="date">
                                        <input type="text" id="txtrequirementenddate" readonly="true" class="form-control txtrequirementenddate" tabindex="22">
                                    </div>
                                    <span class="error" id="errrequirementenddate">Please Select Requirement End date </span>
                                </div>
                                <div class="form-group">
                                    <label id="lblindustryexperiance">Total Experience<span class="mandatory">*</span><i class="fa fa-info-circle texperience" aria-hidden="true"></i></label>
                                    <br />
                                    <select id="ddlindustryexperiance" class="form-control" tabindex="27">
                                    </select>
                                    <span class="error" id="errindustryexp">Please select Industry Experience</span>
                                </div>
                                <div class="form-group">
                                    <label id="lblreplacementfor">Replacement for (Project Team)<span class="mandatory" id="replacementid">*</span><i class="fa fa-info-circle rplcmntteam" aria-hidden="true"></i></label>
                                    <br />
                                    <select class="form-control" id="ddlreplacementfor" tabindex="30">
                                    </select>
                                    <span class="error" id="errreplacementfor">Please select replacement For </span>
                                </div>
                                <div class="form-group" style="margin-bottom: 16px;">
                                    <label id="lblinterviewrounds">Interview Rounds<span class="mandatory" id="interview_rounds" style="display:none">*</span><i class="fa fa-info-circle intvwrnd" aria-hidden="true"></i></label>
                                    <br />
                                    <input type="text" id="txtinterviewrounds" class="form-control interviewrounds" tabindex="20">
                                    
									<span class="error" id="errreqpercentagemsg">Requirement Percentage should not be greater than 100</span> <span class="error" id="errintervwzeroreqpercentage">0 is not allowed on first digit</span><span class="error" id="errinterviewrounds">Please enter interview rounds</span>
                                </div>
                                <!-- <div class="form-group"> -->
                                    <!-- <label id="Label8">Additional Comments<span class="mandatory"></span><i class="fa fa-info-circle addcmnt" aria-hidden="true"></i></label> -->
                                    <!-- </br /> -->
                                    <!-- <textarea id="txtadditional" class="form-control" tabindex="43"></textarea> -->
                                    <!-- <span class="error" id="erradditional">Special Characters are not allowed (\ " / : ; | ? ' <> * # ~ % & { } + (period))</span> <span class="error" id="errjobdescription">Please Enter Additional Comments</span> -->
                                <!-- </div> -->
                                

                            </div>
                            <div class=" col-sm-4">
                                
								<div class="form-group">
                                    <label id="Label3">Cost Center<span class="mandatory">*</span><i class="fa fa-info-circle" aria-hidden="true"></i></label>
                                    <br />
                                    <select id="ddlcostcenter" class="form-control" tabindex="8">
                                    </select>
                                    <span class="error" id="errCostCenter">Please select Cost Center </span>
                                </div>
								<div class="form-group" style="display: none;">
                                    <label id="lblpractice">Practice<span class="mandatory">*</span><i class="fa fa-info-circle" aria-hidden="true"></i></label>
                                    <br />
                                    <input type="text" id="txtpractice" class="form-control" tabindex="5">
                                    <span class="error" id="errpractice">Please insert Practice </span>
                                </div>
                                <div class="form-group">
                                    <label id="lblsecondryskill">Secondary Skills<i class="fa fa-info-circle scndskills" aria-hidden="true"></i></label>
                                    <br />
                                    <select class="form-control ddlsecondryskill" multiple="multiple" id="ddlsecondryskill" name="ddlsecondryskill" tabindex="23">
                                        <!-- <select id="selGUB" name="selGUB" multiple="multiple" class="search-Country" style="width: 200px !important;"> -->
                                    </select>

                                    <span class="error" id="errsecondryskillmsg">Please Select Secondry Skill </span>
                                </div>
                                <div class="form-group">
                                    <label id="lbldesignation">Designation<span class="mandatory">*</span><i class="fa fa-info-circle dsgnation" aria-hidden="true"></i></label>
                                    <br />
                                    <select id="ddldesignation" class="form-control" tabindex="14">
                                    </select>
                                    <span class="error" id="errdesignation">Please Select Designation </span>
                                </div>
                                <div class="form-group">
                                    <label id="lblrequirementpercentage">Requirement Percentage<span class="mandatory">*</span><i class="fa fa-info-circle rqrmntperctage" aria-hidden="true"></i></label>
                                    <br />
                                    <input type="text" id="txtrequirementpercentage" value="100" class="form-control classReqPercentage" tabindex="20">
                                    <span class="error" id="errreqpercentagemsg">Requirement Percentage should not be greater than 100</span> <span class="error" id="errzeroreqpercentage">0 is not allowed on first digit</span> <span class="error" id="errrequirementpercentage">Please Enter Requirement Percentage </span>
                                </div>
                                <div class="form-group" style="margin-bottom: 5px">
                                    <label id="lblclientrate">Client Rate/Day<span id="spanclientrate" class="mandatory">*</span><i class="fa fa-info-circle clinetrate" aria-hidden="true"></i></label>
                                    <br />
                                    <div class="row">
                                        <div class=" col-sm-6">
                                            <select id="ddlclientrate" class="form-control" tabindex="8">
                                            </select>
                                            <span class="error" id="errclientrate">Please select Rate/day </span>
                                        </div>
                                        <div class="col-sm-6">
                                            <input class="form-control" type="text" id="txtclientrate" tabindex="9">
                                            <span class="error" id="errnummsg"></span><span class="error" id="errzeroselectperday">0 is not allowed on first digit</span> <span class="error" id="errclientrateperday">Please enter Rate/Day </span>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label id="lblminrelevantexp">Relevant Experience<span class="mandatory">*</span><i class="fa fa-info-circle rexp" aria-hidden="true"></i></label>
                                    <br />
                                    <select id="ddlminrelevantexp" class="form-control" tabindex="28">
                                    </select>
                                    <span class="error" id="errminrelevantexp">Please select Min Relevant Experience</span>
                                </div>
                                <div class="form-group">
                                    <label id="lblreportingto">Reporting Manager <span class="mandatory">*</span><i class="fa fa-info-circle rptmngr" aria-hidden="true" autocomplete="off"></i></label>
                                    <br />
                                    <div id="divReportingTo" class="form-control" tabindex="37" autocomplete="off"></div>
                                    <span class="error" id="errreportingto">Please select Reporting Manager</span>
                                </div>
                                <div class="form-group" style="margin-top: 10px;">
                                    <label id="Label1">Infrastructure</label>
                                    <br />
                                    <label class="checkbox-inline">
                                        <input id="checkBox1" name="InfraStructure" value="Data card" type="checkbox" tabindex="10">
                                        Data card
                                    </label>
                                    <label class="checkbox-inline">
                                        <input name="InfraStructure" value="Mobile" id="checkBox2" type="checkbox" tabindex="11">
                                        Mobile
                                    </label>
                                    <label class="checkbox-inline">
                                        <input name="InfraStructure" value="Laptop" id="checkBox3" type="checkbox" tabindex="12">
                                        Laptop
                                    </label>
                                </div>
                                <div class="form-group" style="margin-top: 26px;">
                                    <div id="File_Control_div1">
                                        <div id="attachFilesContainer">
                                            <label id="lbluploadsupport">Upload Supporting Documents<i class="fa fa-info-circle supprtdcmnts" aria-hidden="true"></i></label>
                                            <input type="file" multiple="multiple" class="multi1" id="txtfilesupport" tabindex="42">
                                        </div>
                                        <br>
                                        <sup style="color: #ababab; font-size: 11px;">(File names with these special characters are not allowed !@#$%^&amp;*()+=[]'/{}|\":&lt;&gt;.)<br />(.csv|.doc|.docm|.docx|.wpd|.eml|.htm|.html|.pdf|.ppt|.pptm|.pptx|.ppsx|.pps|.ppsm|</br>
                                            .txt|.xls|.xlsx|.zip|.jpg|.img|.png|.gif|.war files are allowed)</sup>
                                    </div>
                                </div>
								<div class="allcommentdiv-mid">
                                    <h3 id="ref_no"></h3>
                                    <div class="vertical-scoll">
                                        <table class="table table-bordered text-left">
                                            <tbody id="uploaded_files">
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <span id="delete_file_ids" style="display: none"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!---panel-2---->
            <div class="panel panel-default">
                <div class="panel-heading" role="tab" id="headingThree">
                    <h4 class="panel-title"><a class="collapsed" onclick="bindsecondacdata();" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseThree">REPORTING AND APPROVALS </a></h4>
                </div>
                <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
                    <div class="panel-body" style="overflow: hidden;">
                        <div class="row">
                            <div class=" col-sm-4">
                                <div class="form-group">
                                    <label id="lbljobsummary">Job Summary</label>
                                    </br />
                                    <input type="text" id="txtjobsummary" class="form-control" tabindex="41">
                                    <span class="error" id="errjobsummary">Please select Designation and Primary Skill </span>
                                </div>
                                <div class="form-group">
                                    <label id="lblgbu">GBU<span class="mandatory">*</span></label>
                                    <br />
                                    <input type="text" id="txtgbu" class="form-control" tabindex="6">
                                    <span class="error" id="errgbu">Please select Project/Opportunity which is having GBU </span>
                                    <span class="error" id="errGBUUndefind">Selected Opportunity GBU does not belongs to PPM master GBUs Please connect to RMO Team</span>
                                </div>
                                <span class="error" id="errreportingtoinvalid">Please select valid user</span>
								
								<div class="form-group">
                                    <label id="lblgbu">Hiring SPOC<span class="mandatory">*</span></label>
                                    <br />
                                    <input type="text" id="txthspoc" class="form-control" tabindex="6">
                                    <span class="error" id="errhspoc">Please Contact PMO Team For Hiring SPOC </span>
                                </div>
                            </div>
                            <div class=" col-sm-4">
                                <div class="form-group">
                                    <label id="lblprojectmanager">Project Manager<span class="mandatory">*</span><i class="fa fa-info-circle prjmngr" aria-hidden="true"></i></i></label>
                                    <br />
                                    <input type="text" id="txtprojectmanager" class="form-control" tabindex="39">
                                    <span class="error" id="errorprojectmanager">Please Contact PMO Team For Update Project Manager</span>
                                </div>

                                <div class="form-group">
                                    <label id="lblrmospoc">RMO SPOC<span class="mandatory">*</span><i class="fa fa-info-circle rmospocs" aria-hidden="true"></i></label>
                                    <br />
                                    <input type="text" id="txtrmospoc" class="form-control" tabindex="40">
                                    <span class="error" id="errorrmospoc">Please Contact PMO Team For Update RMO SPOC</span>
                                </div>
								 <div class="form-group">
									<label id="lblentity">Entity<span class="mandatory">*</span><i class="fa fa-info-circle entity1" aria-hidden="true"> </i> </label>
									<br />
									<select id="ddlentity" class="form-control" tabindex="3">
									</select>
									<span class="error" id="errentity">Please Select Entity </span>
								</div>
                            </div>
                            <div class=" col-sm-4">
                                <div class="form-group">
                                    <label id="lblclientpartner">Client Partner<span class="mandatory" id="spanclientpartner">*</span><i class="fa fa-info-circle cntpatner" title="Populates based on Project profile page in PPM. For Opportunity, it shows CP name." aria-hidden="true"></i></label>
                                    <br />
                                    <input type="text" id="txtclientpartner" class="form-control" tabindex="38">
                                    <span class="error" id="errreclientpartner">Please Contact PMO Team For Update ClientPartner</span>
                                </div>
                                <div class="form-group">
                                    <label id="lblfpaapprover">FP&A Approver<span class="mandatory">*</span><i class="fa fa-info-circle fpnapprover" aria-hidden="true"></i></label>
                                    <br />
                                    <input type="text" id="txtfpaapprover" class="form-control" tabindex="39">
                                    <span class="error" id="errorfpnaapprover">Please Contact PMO Team For Update FP&A Approver</span>
                                </div>
                            </div>
                            <div class="clear"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- accordion close -->
            <br />
            <div class="pull-right">
                <input type="button" id="btnsearch" value="Search" class="btn btn-primary">
                <input type="button" id="btnsave" value="Save" class="btn btn-success">
                <input type="button" id="btnsubmit" value="Submit" class="btn btn-danger">

            </div>
            <div class="clearfix"></div>
        </div>
        <div class="popup-bg">
            <div class="popup">
                <div class="popup-head">
                    <div class="panel-head left-pol">
                        <h4>Resources matching your search options</h4>
                    </div>
                    <div class="right-pol">
                        <div class="p-close">x</div>
                    </div>
                    <div class="clear"></div>
                </div>
                <div class="popup-boday" style="width: 1000px">
                    <div id="VScroll">
                        <table id="tblResourceSearch" class="display" width="100%">
                        </table>
                    </div>
                    <div class="clearfix"></div>
                    <div class="pull-right" style="margin: 0 30px 0 0">
                        <input type="button" id="btnresourcesave" value="Save" class="btn btn-success">
                        <!-- <input type="button" id="btnresourcecancel" value="Cancel" class="btn btn-danger">-->
                    </div>
                    <div class="clearfix"></div>
                </div>
            </div>
        </div>
        <!---------------top popup------------------->
        <div class="Toppopup-bg" id="alertmain">
            <div class="popup">
                <div class="popup-head">
                    <div class="panel-head left-pol">
                        <h4></h4>
                    </div>
                    <div class="right-pol">
                        <div class="top-close">x</div>
                    </div>
                    <div class="clear"></div>
                </div>
                <div class="popup-boday text-center">
                    <!-- File upload massege -->
                    <div id="fileuploadmsg" style="display: none">
                        <div class="popup-heading "><span id="Confirmation_msg"></span><span id="Alert_msg"></span></div>
                        <div class="pop-mid">
                            <p id="P1"></p>
                            <span id="Method_tocall"></span>
                            <input type='Button' class="btn btn-primary" value="OK" id="ok_click" />
                            <!--<input type='Button' class="btn btn-primary" value="Cancel" onclick='confirmation_close();' />-->
                        </div>
                    </div>

                    <!-- RRF saved or submit Msg -->
                    <div id="rrfsavedmsg" style="display: none">
                        <div class="popup-heading "><span id="RRFsaved_msg"></div>
                        <div class="pop-mid">
                            <p id="P2"></p>
                            <span id="Span1"></span>
                            <input type='Button' class=" btn btn-primary" value="OK" id="RRFok_click" />
                        </div>
                    </div>
                    <div class="clear"></div>
                    <!-- RRF confirmation msg -->
                    <div id="rrfconfirmationmsg" style="display: none">
                        <p>This RRF may be shown on Bristlecone Jobs Site If moved to External Hiring.</p>
                        <p style="text-align: left;margin-top: -12px;">Hence, JD Should be in-line with Guidelines Published.</p>
                       <div class="popup-heading "><span id="RRFconfirm_msg">Are you Okay to Submit?<span></div>
                        <!-- <div class="popup-heading "><span id="RRFconfirm_msg">Do you want to submit the RRF ?<span></div> -->
                        <div class="pop-mid">
                            <p id="P3"></p>
                            <span id="Span2"></span>
                            <input type='Button' class="btn btn-primary" value="Yes" id="RRFconfirmyes_click" /><input type='Button' class="btn btn-primary" value="No" id="RRFConfirmno_click" />
                        </div>
                    </div>
                    <div class="clear"></div>
                    <!-- Startdatevalidation -->
                    <div id="startdateconfirmationmsg" style="display: none">
                        <div class="popup-heading"><span id="startdateconfirm_msg">The Start and End dates of this RRF are in past and needs correction. Would you still want to go ahead. Click 'Yes' if OK.<span></div>
                        <div class="pop-mid">
                            <p id="P3"></p>
                            <span id="Span2"></span>
                            <input type='Button' class="btn btn-primary" value="Yes" id="startdateconfirmyes_click" /><input type='Button' class="btn btn-primary" value="No" id="startdateConfirmno_click" />
                        </div>
                    </div>
                    <div class="clear"></div>


                    <div id="divMultipleAssignment" style="display: none; width: 820px;">
                        <table id="tblMultipleAssignment">
                        </table>
                    </div>
                    <div id="divResourceSaveMsg" style="display: none">
                        <div class="popup-heading "></div>
                        <div class="pop-mid">
                            <p>Resource saved successfully</p>
                            <span id="Span3"></span>
                            <input type='Button' class="btn btn-primary" value="OK" id="Resourceok_click" />
                        </div>
                    </div>


                    <!---Number of clone--->

                    <div id="clone" style="display: none">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label id="Label4">Number Of Clones</label>
                                <br>
                                <input type="text" id="CloneNumber" onchange="ValidateCloneValue()" class="form-control">
                            </div>

                        </div>
                        <div class="col-md-6" style="margin-top: 22px">
                            <input type="button" class="btn btn-primary" value="OK" onclick="AddNoofCloneItems()">
                            <input type="button" class="btn btn-default" value="Cancel" id="btnCloneCancel">
                        </div>
                        <div class="clear"></div>
                        <!-- <span class="error" id="ErrClone" style="display: none">Invalid Clone value.Please enter only numeric value from 1-5</span> -->
                        <span class="error" id="ErrClone" style="display: none">Invalid Clone Value.<br />
                            Max Clone Limit is 5</span>

                    </div>

                    <div id="alertclone" style="display: none">
                        <span>Please Close the tab, Within 5 minutes cloned RRF will reflect in Saved RRF status tab, edit the RRF and submit.</span>
                        <input type="button" class="btn btn-primary" value="OK" id="btnAlertOk">
                    </div>

                    <!---Number of clone End--->
                </div>
            </div>
        </div>
        <div class="popup-bg" id="sfdcnote" style="display: none;">
            <div class="popup">
                <div class="popup-head" style="height: 40px;">
                    <div class="panel-head left-pol">
                      <h5 style="color: white; margin-left: 12px;">SFDC Opportunity Availability Info</h5>
                    </div>
                    <div class="right-pol">
                        <div class="p-close">x</div>
                    </div>
                    <div class="clear"></div>
                </div>
                <div class="popup-boday">
                    <div id="VScroll">
                        SFDC opportunity at Stage 5 & 6 are only available here.<br><br>
                        RRF's for Stage 7 opportunity should be created on Project. <br><br>
                        Opportunity data is fetched every hour from Salesforce.com to PPM.<br><br>
                        You should be “Delivery Lead” in SFDC Opportunity and your name <br>in SFDC & PPM should exactly match. RMO can manually change <br>it in PPM to facilitate RRF creation, though it is not recommended.<br><br>
                    </div>
                    <div class="clearfix"></div>
                    <div class="pull-right" style="margin: 0 30px 0 0">
                        <input type="button" value="OK" class="btn btn-success" onclick="closenote();">
                        <!-- <input type="button" id="btnresourcecancel" value="Cancel" class="btn btn-danger">-->
                    </div>
                    <div class="clearfix"></div>
                </div>
            </div>
        </div>

        <script src="../SiteAssets/RMO/js/jquery.min.js"></script>
        <script src="../SiteAssets/RMO/js/bootstrap.min.js"></script>
        <script src="../SiteAssets/RMO/js/select2.min.js"></script>
        <script src="../SiteAssets/RMO/js/bootstrap-select.min.js"></script>
        <script type="text/javascript" src="../SiteAssets/RMO/js/jqueryui.js"></script>
        <script src="../SiteAssets/RMO/js/jquery.dataTables.min.js"></script>
        <script src="../SiteAssets/RMO/js/dataTables.bootstrap.min.js"></script>
        <script src="../SiteAssets/RMO/js/jquery.mCustomScrollbar.concat.min.js"></script>
        <script src="../SiteAssets/RMO/js/SearchResource.js"></script>
        <script src="../SiteAssets/Timesheet/js/Config.js"></script>
        <script src="../SiteAssets/RMO/js/RRFConfig.js"></script>
        <script src="../SiteAssets/RMO/js/Tooltip.js"></script>
        <script src="../SiteAssets/RMO/js/jquery.MultiFile.js"></script>
        <script src="../SiteAssets/js/ClientPeoplePicker.js"></script>
        <script src="../SiteAssets/RMO/js/sppeoplepicker.js"></script>
        <script type="text/javascript" src="../SiteAssets/js/jquery.sumoselect.js"></script>
        <script type="text/javascript" src="../SiteAssets/Timesheet/js/jquery.sumoselect.min.js"></script>
		<script type="text/javascript" src="../SiteAssets/BconeExpenseJs/Config.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/2.1.2/js.cookie.js"></script>
		
        <script>
            $(document).ready(function() {
			//disableRightClick();
			//$('#btnsave').prop("disabled", true);
			//$('#btnsubmit').prop("disabled", true);
			
			$("#rdbno").prop('checked', true);
			
                var is_iPad = navigator.userAgent.match(/iPhone/i) != null;
                if (is_iPad == true) {
                    var modal = document.getElementById('myModal');
                    modal.style.display = "block";
                }
                $("span.clone").click(function() {
                    $(".Toppopup-bg,#clone").show();
                });
                $(".top-close").click(function() {
                    $(".Toppopup-bg,#clone").hide();
                });
                $("#btnAlertOk").click(function() {
                    $(".Toppopup-bg,#clone").hide();
                });
                $('#btnCloneCancel').click(function() {
                    document.getElementById('CloneNumber').value = "";
                    $('#ErrClone').css('display', 'none');
                    $('#clone').css('display', 'none');
                    $('#alertclone').css('display', 'none');
                    $(".Toppopup-bg,#clone").hide();
                });

            });
			if($('#ddlemployeerole').text().trim()=='Billable Consultant' && $('input[name=clientinterview]:checked').val()=="Yes")
			{
				$('#txtinterviewrounds').prop("disabled", false);
				$("#rdbyes").prop('disabled', false);
				$("#rdbno").prop('disabled', false);
			}
			else
			{
				$('#txtinterviewrounds').prop("disabled", true);
				$("#rdbyes").prop('disabled', true);
				$("#rdbno").prop('disabled', true);
			}
            var site_url = getPWAURl();
            var urluserprofile = _spPageContextInfo.webAbsoluteUrl + "/_api/SP.UserProfiles.PeopleManager/GetMyProperties";
            var resultuserprofile = resultsetProfile(urluserprofile);
            var currentuseremail = resultuserprofile.Email;
            // var resourceurl = site_url + "_api/Resources";
            var projecturl;
            var projectresult = "";
            //  var resourceresult = resultset(resourceurl);
            var resultproject = "";
            var projectguid;
            var table_header = "";
            var PageStatus = "";
            var rrfno = "";
            var urlrrf = "";
            var resultRRF = "";
            var reportingtouid = "";
            //var skipmanageruid = "";
            var fpna = "";
            var projectmanager = "";
            var clientpartner = "";
            var rmospoc = "";
            var fpnauid = "";
            var clientpartneruid = "";
            var projectmanageruid = "";
            var rmospocuid = "";
            var id;
            var projectmanageruserid = -1;
            var rmospocuserid = -1;
            var fpnauserid = -1;
            var clientpartneruserid = -1;
            var reportingtouserid = -1;
            var rrfid = "";
            var resourcename = "";
            var resourcenameRMO = "";
            var RRFItemId = "";
            var Firstflag = "0";
            var Secondflag = "0";
            var Thirdflag = "0";
            var Forthflag = "0";
            var approverid = -1;
            var projectownerid;
            var table;
            var Reportingflag = "0";
            var multipleAssignProject_Array = [];
            var rrfsecondflag = "0";
            var ddlEType = "";
            var ddlPrimaryType = "";
            var ddlSecondryType = "";
            var ddlbaselocationType = "";
            var rdbclientinterviewType = "";
            var projectownerGUID;
            var projectcode;
            var pagerequestid = "";
            var resultindustryexp;
            var currentuserloginid;
            var rrfAuthorEmailAddress = "";
            var Project_StartDate = "";
            var Project_EndDate = "";
            var NonBillableFlag = null;
            var RMOSuperUserFlag = "";
            var EmailFlag = 0;
            var RRFPageStatus = "";
            var RRFPageFlag = "";
            var currentUserSharepointID = "";
            var epmloyeeID_val = "";
            var uurentuser_GUID = "";
            var GBU_Undefind = "";
            var TempVar = "";
            var TempVar2 = "";
            var TempVar3 = "";
            var Save_Flag = "";
            var StartDate_ConfirmationValue = 0;
            var Savelog = "1";
			var HiringSpocId = -1;
			var HiringSpocEmail="";
			var HiringSpocName="";
			var OpportunityProjectcode="";
            /* On page load code*/
            $(document).ready(function() {
                 $("#txtStatus").prop('disabled', true);
                $("#headingTwo").on("click", function() {
                    $("#ddlprimaryskill").parent().parent().addClass('margin-opx');
                    //$("#ddlsecondryskill").parent().parent().addClass('margin-opx');
                    document.getElementById("ddlprimaryskill").tabIndex = 23;
                   // document.getElementById("ddlsecondryskill").tabIndex = 24;
				   //$('#ddlsecondryskill').SumoSelect({search: true, searchText: 'Search secondary skills'});
				  

                });
                $("#ddlnatureofvacancy").on("click", function() {
                    $("#ddlreplacementfor").parent().parent().addClass('margin-opx');
                });
                assigntooltipvalue();
                currentuserloginid = _spPageContextInfo.userId;
                currentUserSharepointID = _spPageContextInfo.userId;
                //currentuserEmailAddress = _spPageContextInfo.userEmail;
                $("#projectname").hide();
                $('.loader').show();

                /*custom scroll bar code */
                $("#VScroll").mCustomScrollbar({
                    scrollButtons: {
                        enable: true
                    },
                    theme: "dark-thin",
                    advanced: {
                        autoExpandHorizontalScroll: true,
                        updateOnContentResize: true
                    }
                });
                date();
                $("#divReportingTo").spPeoplePicker();
				//clearItemFinanceApproverMatrix();
                /*code is used to checked Existing radio button  and bind project dropdown */

                /*Get current login user GUID */
                rrfno = getURLParameters("RRFNO");
                
                fnStatus(rrfno);
                var currentuserid = GetCurrentUserGUID();
                uurentuser_GUID = currentuserid;
                //currentuseremail = "";
                var currentuserRole_empID = GetCurrentUserRole(currentuseremail);
                var currentuserRole = currentuserRole_empID.split(';')[0];
                var currentuser_EmployeeID = currentuserRole_empID.split(';')[1];
                epmloyeeID_val = currentuserRole_empID.split(';')[1];
                //Get User Group
                var groupURL = getuserinRMOSuperUsergroup(currentuserloginid);
                var gropVal = resultset(groupURL);
               
                if (rrfno != undefined || rrfno != null || rrfno == null || rrfno == undefined) {
                     if (gropVal.length > 0) {
                    RMOSuperUserFlag = "1";
                
                    //if (currentuserRole == "RMO" && currentuserRole == null) {
                        projecturl = site_url + "_api/Projects?$select=ProjectName,ProjectId,ProjectCode,ProjectOwnerId,CustomerName,GBU,FinanceTeam,ClientPartner,RMOSPOC,ProjectOwnerName,ProjectStartDate,ProjectFinishDate&$filter=ProjectStatus ne 'Closed'";
                    } 
                
                else {
                    RMOSuperUserFlag = "";
                        projecturl = site_url + "_api/Projects?$select=ProjectName,ProjectId,ProjectCode,ProjectOwnerId,CustomerName,GBU,FinanceTeam,ClientPartner,RMOSPOC,ProjectOwnerName,ProjectStartDate,ProjectFinishDate&$filter=ProjectStatus ne 'Closed' and (ProjectOwnerId eq guid'" + currentuserid + "' or substringof('" + currentuser_EmployeeID + "',ClientPartner) or RRFDelegation1 eq'" + currentuseremail + "' or RRFDelegation2 eq'" + currentuseremail + "'  or RRFDelegation3 eq'" + currentuseremail + "' or PracticeHead eq '" + currentuseremail + "' or PracticeLead2 eq '" + currentuseremail + "' or PracticeLead eq '" + currentuseremail + "')";
                    }
					//this is testing purpose manohar and manju changed
					/*projecturl = site_url + "_api/Projects?$select=ProjectName,ProjectId,ProjectCode,ProjectOwnerId,CustomerName,GBU,FinanceTeam,ClientPartner,RMOSPOC,ProjectOwnerName,ProjectStartDate,ProjectFinishDate&$filter=ProjectStatus ne 'Closed'";*/
                    //projecturl = site_url + "_api/Projects?$filter=ProjectOwnerId eq guid'" + currentuserid + "'"; //old for only PM
                    projectresult = resultset(projecturl);
                }


                $("#btnsearch").prop("disabled", true);
                $('input[name=clientinterview]').prop("disabled", true);
                $("#ddlentity,#txthspoc,#txtoppertunitystatus,#txtgbu,#txtpractice,#txtcustomer,#txtclientpartner,#txtprojectmanager,#txtjobsummary,#txtrmospoc,#txtfpaapprover").prop("disabled", true);
                binddropdown();
				$('.ddlsecondryskill').SumoSelect({search: true, searchText: 'Search secondary skills'});

                if (rrfno != undefined || rrfno != null) {


                    url = _spPageContextInfo.webAbsoluteUrl + "/_api/web/lists/GetByTitle('RRF')/Items?$select=ID,RRFNO,ProjectGUID,ProjectName,ClientRateCurrancy,SalaryRangeCurrancy,NatureofVacancy,CostCenter,ReplacementFor,Infrastructure,RequirementPct,IndustryExp,ClientInterviewRequired,SalaryRangeMaxAmt,SalaryRangeMinAmt,WorkerType,PostingTimeTypeId,Customer,BaseLocation,GBU,WorkLocation,PrimarySkill,SecondarySkill,Designation,ClientRate,ProjectCode,MinRelevantExp,DescriptionSummary,JobDescriptionSummary,Base_x0020_location,AdditionalComments,Status,ProjectStatus,ReportingTo,NewStartDate,NewEndDate,StartDate,EndDate,ProjectStartDate,ProjectEndDate,EmployeeTypeId,ProjectManagerUserId,FPNAUser,SubPractice,Entity,RMOSpoc,HiringSpocMail,RMOSPOCUserId,FPNAUserId,ClientPartnerUserId,NewAuthor,ClientPartner,Hiring_x0020_SpocId,RoleBand,EmployeeRole,ProjectManager,FPAApprover,ProjectManagerGUID,ReportingToUserId,Hiring_x0020_Spoc/Title,RMOSPOCUser/Title,FPNAUser/Title,ProjectManagerUser/Title,ClientPartnerUser/Title,ReportingToUser/Title,ReportingToUser/EMail,ReportingToUser/Id,NewAuthor/Title,NewAuthor/EMail,NewAuthorId&$expand=Hiring_x0020_Spoc,ReportingToUser,NewAuthor,ProjectManagerUser,RMOSPOCUser,FPNAUser,ClientPartnerUser&$filter=RRFNO eq '" + rrfno + "'";
                    resultRRF = resultset(url);
                    if (resultRRF[0].ProjectGUID != null) {
                        projectguid = resultRRF[0].ProjectGUID;
                    }

                    if (resultRRF[0].ProjectCode != null) {
                        projectcode = resultRRF[0].ProjectCode;
                    }

                    if (resultRRF[0].ReportingTo != null) {
                        reportingtouid = resultRRF[0].ReportingTo;
                    }
                    if (resultRRF[0].ProjectManagerGUID != null) {
                        projectownerGUID = resultRRF[0].ProjectManagerGUID;
                    }
                    if (resultRRF[0].ClientPartner != null) {
                        clientpartneruid = resultRRF[0].ClientPartner;
                    }
                    if (resultRRF[0].ProjectManager != null) {
                        projectmanageruid = resultRRF[0].ProjectManager;

                    }
                    if (resultRRF[0].FPAApprover != null) {
                        fpnauid = resultRRF[0].FPAApprover;
                    }
                    if (resultRRF[0].RMOSpoc != null) {
                        rmospocuid = resultRRF[0].RMOSpoc;
                    }
					if (resultRRF[0].HiringSpocMail != null) {
                        HiringSpocName = resultRRF[0].HiringSpocMail;
                    }


                    if (resultRRF[0].ProjectManagerUserId != null) {
                        projectmanageruserid = resultRRF[0].ProjectManagerUserId;

                    }
                    if (resultRRF[0].RMOSPOCUserId != null) {
                        rmospocuserid = resultRRF[0].RMOSPOCUserId;
                    }
                    if (resultRRF[0].FPNAUserId != null) {
                        fpnauserid = resultRRF[0].FPNAUserId;
                    }
                    if (resultRRF[0].ClientPartnerUserId != null) {
                        clientpartneruserid = resultRRF[0].ClientPartnerUserId;
                    }
                    if (resultRRF[0].ReportingToUserId != null) {
                        reportingtouserid = resultRRF[0].ReportingToUserId;
                    }
					if (resultRRF[0].Hiring_x0020_SpocId != null) {
                        HiringSpocId = resultRRF[0].Hiring_x0020_SpocId;
                    }
                    if (resultRRF[0].RoleBand != null && resultRRF[0].RoleBand != "Select") {
                        $("#btnsearch").prop("disabled", false);
                    }
                    if (resultRRF[0].EmployeeRole != "Billable" && resultRRF[0].EmployeeRole != "Billable Consultant") {
                        $("#btnsearch").prop("disabled", true);
                    }
					
                    if (resultRRF[0].NewAuthor.Title != null || resultRRF[0].NewAuthor.Title != undefined) {
                        var RRFAuthor = resultRRF[0].NewAuthor.Title;
                        rrfAuthorEmailAddress = resultRRF[0].NewAuthor.EMail;
                        currentuserloginid = resultRRF[0].NewAuthorId
                        $('#lbluser').html(RRFAuthor);
                    }
                    RRFPageStatus = resultRRF[0].Status;

                    if (resultRRF[0].NewAuthor.EMail == currentuseremail) {
                        var CloneflagValue = CheckForCloneFlagStatus(rrfno);
                        if (CloneflagValue == "Yes") {
                            $("#spnClone").css('display', '');
                            $('.clone').text('Please Close the tab, Within 5 minutes cloned RRF will reflect in Saved RRF status tab, edit the RRF and submit.').css('pointer-events', 'none').css('cursor', 'not-allowed'); //.unbind('click').css('cursor','not-allowed');
                        } else
                        if (CloneflagValue == "No") {
                            $("#spnClone").css('display', '');
                        }
                    } else {
                        $("#spnClone").css('display', 'none');
                    }
                    if (resultRRF[0].ProjectStatus == "Existing") {
                        $("#rdbexisting").prop('checked', true);
						$("#rdbnew").prop('disabled', true);
                        $("#Bsearch").hide();
                        $("#projectname").show();
                        $("#projectname").val(resultRRF[0].ProjectName);
                        $("#projectname").prop("disabled", true);
                    } else if (resultRRF[0].ProjectStatus == "New") {
                        $("#ddlprojectname").hide();
                        $("#projectname").show();
                        $("#rdbnew").prop('checked', true);
                        $("#projectname").val(resultRRF[0].ProjectName);
						OpportunityProjectcode=resultRRF[0].ProjectCode;
                        $("#projectname").prop("disabled", true);
                    }
                    if (resultRRF[0].ProjectStartDate != null) {
                        Project_StartDate = resultRRF[0].ProjectStartDate;
                    }
                    if (resultRRF[0].ProjectEndDate != null) {
                        Project_EndDate = resultRRF[0].ProjectEndDate;
                    }


                    displayFirstAccData(resultRRF);
                    bindsecondaccdataonload();
                    fourthaccordiandata(resultRRF);


                    if ((resultRRF[0].Status == "Withdrawn" || resultRRF[0].Status == "Rejected") && currentuseremail == rrfAuthorEmailAddress) {
                        $('input[name=projectstatus]').prop("disabled", false);
                    } else if (resultRRF[0].Status == "RMO Validation" || resultRRF[0].Status == "RRF Saved" || resultRRF[0].Status == "Non Billable" || resultRRF[0].Status == "Functional Head") {
                        $('input[name=projectstatus]').prop("disabled", true);
                    }
                    if ((resultRRF[0].Status == "Withdrawn" || resultRRF[0].Status == "Rejected") && currentuseremail == rrfAuthorEmailAddress) {
                        $("#btnsave").show();
                        $("#btnsubmit").hide();
                        $("#btnsearch").hide();
                    } else if ((resultRRF[0].Status != "RRF Saved" && resultRRF[0].Status != "Non Billable" && resultRRF[0].Status != null) || (resultRRF[0].Status == "RRF Saved" && currentuseremail != rrfAuthorEmailAddress) || ((resultRRF[0].Status == "Withdrawn" || resultRRF[0].Status == "Rejected") && currentuseremail != rrfAuthorEmailAddress)) {
                        $("#btnsave").hide();
                        $("#btnsubmit").hide();
                        $("#btnsearch").hide();
                        if (currentuseremail == rrfAuthorEmailAddress) {
                            //disablecontrols();
                        } else if (RMOSuperUserFlag != "1" && currentUserSharepointID != rmospocuserid) {
                            disablecontrols();
                        }


                    }
                    if (RMOSuperUserFlag == "1" ) {
                        $("#btnsave").show();
                        //enablecontrols();
                    }
                    

                    //Manohar code
                    if ((resultRRF[0].Status != "RRF Saved" && resultRRF[0].Status != "Functional Head" && resultRRF[0].Status != "RMO Validation" && resultRRF[0].Status != "FPNA" && resultRRF[0].Status != "Non Billable" && resultRRF[0].Status != "Initiated External Hiring" && resultRRF[0].Status != "Resource Proposed" && resultRRF[0].Status != "Resource Selection") && (RMOSuperUserFlag != "1")) {

                        $("#ddlentity,#ddlsubpractice,#ddlcostcenter,#ddlclientrate,#txtclientrate,#ddlemployeerole,#ddldesignation,#ddlroleband,#ddlemploymenttype,#ddlemptypey,#ddlpositiontype,#ddlprimaryskill,#ddlsalaryrange,#txtminsalaryrange,#txtmaxsalaryrange").attr('disabled', true);
                    }
                    if (RMOSuperUserFlag == "1") {
                        $("#ddlsubpractice,#txtinterviewrounds,#ddlcostcenter,#ddlclientrate,#txtclientrate,#ddlemployeerole,#ddldesignation,#ddlroleband,#ddlemploymenttype,#ddlemptypey,#ddlpositiontype,#ddlprimaryskill,#ddlsalaryrange,#txtminsalaryrange,#txtmaxsalaryrange").attr('disabled', false);

                    }
                    //end Manohar code
                    if (resultRRF[0].Status != "RRF Saved" && resultRRF[0].Status != "Non Billable" && resultRRF[0].Status != null && currentuseremail == rrfAuthorEmailAddress) {
                        $("#btnsave").show();
                    }
                    if (resultRRF[0].Status != "RRF Saved" && resultRRF[0].Status != "Non Billable") {
                        $("#ddlemployeerole").prop("disabled", true);
                    }
					if($("#ddlemployeerole").val()!="Billable Consultant")
					{
						$("#txtinterviewrounds").prop("disabled", true);
					}
					if($('input[name=clientinterview]:checked').val()=="No")
					{
						$("#txtinterviewrounds").prop("disabled", true);

					}
					if (resultRRF[0].EmployeeRole == "Investment" || resultRRF[0].EmployeeRole == "Senior Management" || resultRRF[0].EmployeeRole == "SG&A") {
                        $("#ddlclientrate").prop("disabled", true);
                        $("#txtclientrate").prop("disabled", true);
                    }
					
					else
					{
						$("#ddlclientrate").prop("disabled", false);
						$("#txtclientrate").prop("disabled", false);
					}
					if($("#ddlemployeerole").val()=="Billable Consultant" && $('input[name=clientinterview]:checked').val()=="Yes")
					{
						$("#txtinterviewrounds").prop("disabled", false);
						
					}
                    setTimeout(function() {

                        bindthirdaccdata();
						
						$('#Bsearch').hide();
						
						

                    }, 2000);
					

                } else {
                    bindsecondaccdata();

                    $("#spnClone").css('display', 'none');
                    $("#rdbexisting").prop('checked', true);
                    $("#txtoppertunitystatus").attr("disabled", true);
                    $("#ddlprojectname").empty();
                    $("#ddlprojectname").append(new Option("Select", 0));
                    for (var index = 0; index < projectresult.length; index++) {
                        // $("#ddlprojectname").append($('<option></option>').text(projectresult[index].ProjectName));
						
							$('#ddlprojectname').append("<option data-value = '" + projectresult[index].ProjectId + "'>" + projectresult[index].ProjectName + "</option>");
						
                    }
                    $('#ddlprojectname').selectpicker("refresh");
                    /* Disable all controls if Projectname having select value */
                    if ($('#ddlprojectname option:selected').text() == "Select") {
                        $("#ddlentity,#txtinterviewrounds,#accordion input[type=text],#accordion input[type=radio],#accordion textarea,#accordion input[type=checkbox],#accordion select").attr('disabled', true);
                    }
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                }
                $('.classReqPercentage').numeric({
                    max: 100
                });
                $('.interviewrounds').numeric({
                    max: 9
                });

                function toggleIcon(e) {
                    $(e.target)
                        .prev('.panel-heading')
                        .find(".more-less")
                        .toggleClass('glyphicon-plus glyphicon-minus');
                }
                $('.panel-group').on('hidden.bs.collapse', toggleIcon);
                $('.panel-group').on('shown.bs.collapse', toggleIcon);
                $('.accordion-body').each(function() {
                    if ($(this).hasClass('in')) {
                        $(this).collapse('toggle');
                    }
                });
				 //if($("#ddlsecondryskill").hasClass("SumoUnder")){$("#ddlsecondryskill").html('');$("#ddlsecondryskill")[0].sumo.unload();}
				showmouseovermsg();
                $('.loader').hide();

            });

            function showmouseovermsg() {
                $('.fa-info-circle').prop('title', '');
                $('.prjstatus').prop('title', 'New Opportunity: Data flow from SFDC at Stage # 5 and above.Project: Existing Active Project in PPM');
                $('.custmrname').prop('title', 'Customer Name for which we need consultants. Name is mapped to the New Opportunity/Project Field');
                $('.entity1').prop('title', 'Entity for which the consultant is required. This is mapped to Base Location');
                $('.subprctse').prop('title', 'your new Linked to the Primary Skill you are looking for. The Skills are categorized across Sub-Practices');
                $('.location').prop('title', 'This is ideally the Customer location/Plant from where the person need to work. Ex. Chinchwad, Kandivili');
                $('.role').prop('title', 'Billable Consultant: to work on the Project Investment: to hire/allocate a person as non-billable Sr. Management: All RB2 and Above SG&A: Sales, General & Admin - All Enabling functions Trainee:Intern:');
                $('.emptype').prop('title', "Requirement is for a Employee or Contractor Default value will be 'Employee'");
                $('.rstartdate').prop('title', 'Start date from when the Consultant to be allocated to the Project');
                $('.salaryrange').prop('title', 'Required by FP&A, Hiring Teams. Salary range at which you want the person to be hired for the Project.');
                $('.nofvacancy').prop('title', 'Reason for which, this requirement arised. Replacements would ask for name for whom replacement needed');
                $('.cntintvw').prop('title', 'Required to plan for right. For SG&A, Sr. Management, Investment, this gets disabled');
                $('.jobdscptn').prop('title', 'To be filled based on your requirement for the project.');
                $('.costcntr').prop('title', 'Finance budgets/apportions the cost of the Consultant under this Code.');
                $('.pskill').prop('title', 'Mapped to Sub-Practice. If you don’t find the skill, write to rmo@bcone.com');
                $('.rolband').prop('title', 'At which RoleBand you want the person to be identified/hired.');
                $('.psttype').prop('title', "This is needed for WorkDay. Are you looking for a full time or part time person to work on the Project. By default 'Full time'");
                $('.renddate').prop('title', 'Date till when the consultant is required for the Project. For SG&A, Sr. Management & Investment, this takes +3 years by default.');
                $('.texperience').prop('title', 'Total experience of the consultant that you want for your requirement.');
                $('.rplcmntteam').prop('title', "This is disabled, when 'New' selected in 'Nature of Vacancy'.When 'Replacement' selected, need to give the name of the person working/worked on this Project.This helps in exactly knowing the requirement, experience, RoleBand to be fulfilled");
                $('.intvwrnd').prop('title', 'Required for right fitment and expectations with candidate. For SG&A, Sr. Management, Investment, this gets disabled.');
                $('.supprtdcmnts').prop('title', 'Upload option to upload any approvals/JD/Client Mail/relevant documents');
                $('.baslocation').prop('title', 'Where the Person would be based out of among Bristlecone Offices. For new hires, this would be the input to identify people and also give Offer letter');
                $('.scndskills').prop('title', 'Drop-down based and independent of Sub-Practices.');
                $('.dsgnation').prop('title', 'Designation/Title at which consultant to be allocated/hired. This is mapped to RoleBand.');
                $('.rqrmntperctage').prop('title', "Needed to allocate and to push for external hiring. Only 100% requirements would go for external hiring.Default field '100%'");
                $('.clinetrate').prop('title', 'This is primarily required by FP&A. Rate/day that we charge to Customer.For Opportunity and Proactive hiring, mention average Rate based on Skill & Location.For SG&A, Sr. Management & Investment, this gets disabled.');
                $('.rexp').prop('title', 'Relevant experience out of Total experience, that you want for your requirement.');
                $('.rptmngr').prop('title', 'Manager/Lead to whom this new person be reporting to.');
                $('.addcmnt').prop('title', 'Mention any specific comments for RMO, Recruitment, FP&A to know. Ex. This RRF is for Proactive hiring.');
                $('.prjmngr').prop('title', 'Populates based on Project profile page in PPM. For Opportunity, it shows CP name');
                $('.rmospocs').prop('title', 'Populates based on Project profile page in PPM');
                $('.cntpatner').prop('title', 'Populates based on Project profile page in PPM. For Opportunity, it shows CP name.');
                $('.fpnapprover').prop('title', 'Populates based on Project profile page in PPM');
            }

            function date() {
                $(".txtrequirementstartdate").datepicker({
                    dateFormat: 'dd-M-yy',
                    changeMonth: true,
                    changeYear: true,
                    minDate: 0,
                    onSelect: function(selected) {
                        $(".txtrequirementenddate").datepicker("option", "minDate", selected);
						updateendta();
                    }

                });

                $(".txtrequirementenddate").datepicker({
                    dateFormat: 'dd-M-yy',
                    changeMonth: true,
                    changeYear: true,
                    minDate: 0,
                    onSelect: function(selected) {

                        $(".txtrequirementstartdate").datepicker("option", "maxDate", selected)

                    }

                });
            }
            /*Bind Entity,RequirementType,RatePerDay,SubPractice fields on Page Load*/
            function binddropdown() {
                var urlentity = site_url + "_api/RRFMaster?$filter=(Type eq 'Entity') or (Type eq 'RequirementType') or (Type eq 'RatePerDay')or (Type eq 'SalaryRange')&$orderby=Value asc";
                var urlsubpratice = site_url + "_api/Skills?$select=Sub_Practice&$orderby=Sub_Practice asc";
                var resultentity = resultset(urlentity);
                //$('#lbluser').html(resultuserprofile.DisplayName);
                $("#ddlentity").append(new Option("Select", 0));
                $("#ddlclientrate").append(new Option("Select", 0));
                for (var index = 0; index < resultentity.length; index++) {
                    if (resultentity[index].Type == "Entity") {
						$("#ddlentity").append("<option value=\""+resultentity[index].Value+"\" >"+resultentity[index].Value+"</option>");
                       // $("#ddlentity").append($('<option></option>').text(resultentity[index].Value));
                    } else if (resultentity[index].Type == "RatePerDay") {
                        $("#ddlclientrate").append($('<option></option>').text(resultentity[index].Value));
                    } else if (resultentity[index].Type == "SalaryRange") {

                        $("#ddlsalaryrange").append($('<option></option>').text(resultentity[index].Value));

                    }
                }
                var resultsubpractice = resultset(urlsubpratice);
                var unique = {};
                var distinct = [];
                for (var index in resultsubpractice) {
                    if (typeof(unique[resultsubpractice[index].Sub_Practice]) == "undefined") {
                        distinct.push(resultsubpractice[index].Sub_Practice);
                    }
                    unique[resultsubpractice[index].Sub_Practice] = 0;
                }
                var subpractice_Array = [];
				$("#ddlsubpractice").append(new Option("Select", "Select"));
                $.each(distinct, function(val, text) {
                    if(rrfno == undefined && ((text == "ISV Management") || (text == "ISV-Others") || (text == "ISV-SAP")))
                    {
                        subpractice_Array.push(text);
                    }
                    //    this condition used for closed sub pratice to disabled // done by Manjunath and Asish
                   else if ((text == "Bristlecone Labs-Analytics") || (text == "Bristlecone Labs-Advanced Analytics") || (text == "SAP-SE") || (text == "Bristlecone Labs-BC/RPA/CUI") || (text == "Global Practices-DiSC-Logistics Execution") || (text == "Bristlecone Labs-Engineering/Labs") || (text == "Bristlecone Labs-IoE") || (text == "Bristlecone Labs") || (text == "SAP-Technical") || (text == "Global Practices-Value Management Services")  ) {
                        subpractice_Array.push(text);
                        //$('#ddlsubpractice').append($('<option></option style="color:lightgray;">').val(text).html(text).attr("disabled","disabled"));
                    } 
                else {
                        //subpractice_Array1.push(text);
                        $('#ddlsubpractice').append($('<option style="color:black;"></option>').val(text).html(text));
                    }

                });
				$('#ddlsubpractice').SumoSelect({search: true, searchText: 'Search Subpractice'});
                $("#ddlsubpractice").prepend("<option value='Select'>Select</option>").val('Select');
                //Manohar code, disable subpractices bind last active record bind first
               /* if (subpractice_Array.length > 0) {
                    for (var i = 0; i < subpractice_Array.length; i++) {
                        $('#ddlsubpractice').append($('<option></option style="color:lightgray;">').val(subpractice_Array[i]).html(subpractice_Array[i]).attr("disabled", "disabled"));
                    }
                }*/




            }

            /* End */


            /*function is used to display first accordian data on page load if we get RRF Number */
            function displayFirstAccData(result) {
                $('#lblrrfid').html((result[0].RRFNO));
                $("#txtoppertunitystatus").val(result[0].OpportunityStatus);
                $("#txtcustomer").val(result[0].Customer);
                if (result[0].Entity != "Select" && result[0].Entity != null) {

                    $("#ddlentity").val(result[0].Entity);
                    bindentitydependentdata();
                }
				if (resultRRF[0].SubPractice != null && resultRRF[0].SubPractice != "Select") {
                    //$('select.ddlprimaryskill')[0].sumo.selectItem(resultRRF[0].PrimarySkill);
                    //$("#ddlprimaryskill").val(resultRRF[0].PrimarySkill);
					$('#ddlsubpractice').append($('<option style="color:black;"></option>').val(resultRRF[0].SubPractice).html(resultRRF[0].SubPractice));
                    $("#ddlsubpractice").val(resultRRF[0].SubPractice).trigger('change');
					$('#ddlsubpractice')[0].sumo.reload();
					
                    //window.Search = $('.ddlprimaryskill').SumoSelect({ csvDispCount: 3, search: true, placeholder: 'Type Name' });
                    //Added by manohar 10 dec 2018 if in service subpractice is not there i append list data and assign the value in dropdown
                   if ($("#ddlsubpractice").val() == null) {
                        //$("#ddlsubpractice").append($('<option></option>').text(resultRRF[0].SubPractice));
						$('#ddlsubpractice').append($('<option style="color:black;"></option>').val(resultRRF[0].SubPractice).html(resultRRF[0].SubPractice));
                        $("#ddlsubpractice").val(resultRRF[0].SubPractice).trigger('change');
                    }
                }
				else{
				$('#ddlsubpractice')[0].sumo.reload();
					$("#ddlsubpractice").val(result[0].SubPractice);
				}
                
                $("#txtpractice").val(result[0].Practice);
                $("#txtgbu").val(result[0].GBU);

                if (result[0].ClientRateCurrancy != "Select" && result[0].ClientRateCurrancy != null) {
                    $("#ddlclientrate").val(result[0].ClientRateCurrancy);
                }
                $("#txtclientrate").val(result[0].ClientRate);
                if (result[0].CostCenter != "Select" && result[0].CostCenter != null) {
                    costcenter();
                    $("#ddlcostcenter").val(result[0].CostCenter);
                }

                if (result[0].Infrastructure != undefined || result[0].Infrastructure != null) {
                    var infrastructure = result[0].Infrastructure;
                    infrastructure = infrastructure.split(';');
                    for (var i = 0; i < infrastructure.length; i++) {
                        $(':checkbox').each(function(j) {
                            if ($(this).val() == infrastructure[i]) {
                                $(this).prop('checked', true);
                            }

                        });
                    }
                }

            }


            /*Bind Industry,Industryexperiance,Minimumrelevantexperiance,TypeOfAssignment,Vacancy,SalaryRange and BaseLocation on 2nd accordian click */
            function bindsecondaccdata() {

                $("#collapseOne").collapse('show');
                $("#collapseTwo").collapse('hide');
                if (rrfno != undefined || rrfno != null) {
                    if (rrfsecondflag == "0") {
                        secondaccdropdownfill();

                    }
                    rrfsecondflag = "1";
                    displaySecondAccData(resultRRF);
                    bindspecificdata(resultRRF);


                } else {
                    if (Secondflag == "0") {
                        secondaccdropdownfill();

                    }
                    Secondflag = "1";



                }


            }

            function bindsecondaccdataonload() {

                if (rrfno != undefined || rrfno != null) {
                    if (rrfsecondflag == "0") {
                        secondaccdropdownfill();
                        $("#collapseOne").collapse('show');
                        $("#collapseTwo").collapse('hide');
                    }
                    rrfsecondflag = "1";
                    displaySecondAccData(resultRRF);
                    bindspecificdata(resultRRF);
                } else {
                    if (Secondflag == "0") {
                        secondaccdropdownfill();
                        $("#collapseOne").collapse('show');
                        $("#collapseTwo").collapse('hide');
                    }
                    Secondflag = "1";
                }

            }

            function secondaccdropdownfill() {
                $("#collapseOne").collapse('show');
                $("#collapseTwo").collapse('hide');
                var urlvacancy = site_url + "_api/RRFMaster?$filter=(Type ne 'Entity') or (Type ne 'IndustryExperience') or (Type ne 'MinRelevantExperience') or (Type ne 'RequirementType') or (Type ne 'RatePerDay') or (Type ne 'Sub-Practice')&$orderby=Value asc";
                var urlindustryexp = site_url + "_api/RRFMaster?$filter=(Type eq 'IndustryExperience') or (Type eq 'MinRelevantExperience') or (Type eq 'OnSiteTravelDuration')&$orderby=Created_Date asc";
                var urllocation = _spPageContextInfo.webAbsoluteUrl + "/_api/web/lists/GetByTitle('RRF')/fields?$filter=(EntityPropertyName eq 'PostingTimeTypeId')";
                var result = resultset(urllocation);
                var resultvacancy = resultset(urlvacancy);
                resultindustryexp = resultset(urlindustryexp);
                //$("#ddlemployeerole").empty();
                $("#ddldesignation").empty();
                $("#ddlroleband").empty();
                $("#ddltypeofassignemnt").empty();
                $("#ddlemploymenttype").empty();
                $("#ddlpositiontype").empty();
                $("#ddlindustry").empty();
                $("#ddlindustryexperiance").empty();
                $("#ddlminrelevantexp").empty();
                $("#ddlnatureofvacancy").empty();
                $("#txtdurationofonsitetravel").empty();
                if ($('#ddlentity option:selected').text() == "Select") {
                    $("#ddlsalaryrange").empty();
                    $("#ddlbaselocation").empty();
                    $("#ddlsalaryrange").append(new Option("Select", 0));
                    $("#ddlbaselocation").append(new Option("Select", 0));
                }

                // $("#ddlemployeerole").append(new Option("Select", 0));
                $("#ddldesignation").append(new Option("Select", 0));
                $("#ddlroleband").append(new Option("Select", 0));
                $("#ddltypeofassignemnt").append(new Option("Select", 0));
                //$("#ddlemploymenttype").append(new Option("Select", 0));
                $("#ddlpositiontype").append(new Option("Select", 0));
                $("#ddlindustry").append(new Option("Select", 0));
                $("#ddlindustryexperiance").append(new Option("Select", 0));
                $("#ddlnatureofvacancy").append(new Option("Select", 0));
                $("#ddlreplacementfor").append(new Option("Select", 0));
                $("#ddlprimaryskill").append(new Option("Select", 0));
                 $("#ddlsecondryskill").append(new Option("Select", 0)); 
                $("#ddlminrelevantexp").append(new Option("Select", 0));
                $("#txtdurationofonsitetravel").append(new Option("Select", 0));

                for (var index = 0; index < resultvacancy.length; index++) {
                    if (resultvacancy[index].Type == "EmployeeRoles") {
                        if ($('#rdbnew').is(':checked')) {
                            //$("#ddlnatureofvacancy").attr("disabled", true);
                            //$("#ddlreplacementfor").attr("disabled", true);
							$("#ddlemployeerole").append($('<option></option>').text(resultvacancy[index].Value));
                            <!-- if (resultvacancy[index].Value == "Billable" || resultvacancy[index].Value == "Billable Consultant") { -->
                                <!-- //$("#ddlemployeerole").empty(); -->
                                <!-- $("#ddlemployeerole").append($('<option></option>').text(resultvacancy[index].Value)); -->
                            <!-- } -->
                        } else {
                            $("#ddlnatureofvacancy").attr("disabled", false);
                            $("#ddlreplacementfor").attr("disabled", false);
                            //$("#ddlemployeerole").empty();
                            $("#ddlemployeerole").append($('<option></option>').text(resultvacancy[index].Value));
                        }
                    }
                     else if (resultvacancy[index].Type == "Designation") {
                    $("#ddldesignation").append($('<option></option>').text(resultvacancy[index].Value));
					
                }
                    else if (resultvacancy[index].Type == "RoleBand") {
					
                        //$("#ddlroleband").append($('<option></option>').text(resultvacancy[index].Value));
						if($('#ddlemployeerole option:selected').text()=="Senior Management")
							{
								
								//$("#ddlroleband").empty();
								//$("#ddlroleband").append(new Option("Select", 0));
								
									var roleband=resultvacancy[index].Value
								
									if(roleband.indexOf("1")>0 || roleband.indexOf("2")>0)
									{
										$("#ddlroleband").append($('<option></option>').text(resultvacancy[index].Value));
									}
								
							}
							else
							{
								//$("#ddlroleband").empty();
								//$("#ddlroleband").append(new Option("Select", 0));

								var roleband=resultvacancy[index].Value

								if(roleband.indexOf("1")>0 || roleband.indexOf("2")>0)
								{
									$("#ddlroleband").append($('<option></option>').text(resultvacancy[index].Value).hide());
								}
								else
								{
									$("#ddlroleband").append($('<option></option>').text(resultvacancy[index].Value).show());
								}				
							}
                        //$("#ddlroleband").prop("disabled", true);
                    } else if (resultvacancy[index].Type == "Industry") {
                        $("#ddlindustry").append($('<option></option>').text(resultvacancy[index].Value));
                    } else if (resultvacancy[index].Type == "TypeOfAssignment") {
                        $("#ddltypeofassignemnt").append($('<option></option>').text(resultvacancy[index].Value));

                    } else if (resultvacancy[index].Type == "NatureOfVacancy") {
                        $("#ddlnatureofvacancy").append($('<option></option>').text(resultvacancy[index].Value));

                    } else if (resultvacancy[index].Type == "SalaryRange") {
                        if ($('#ddlentity option:selected').text() == "Select") {
                            $("#ddlsalaryrange").append($('<option></option>').text(resultvacancy[index].Value));
                        }
                    } else if (resultvacancy[index].Type == "Location") {
                        if ($('#ddlentity option:selected').text() == "Select") {
						
                            //$("#ddlbaselocation").append($('<option></option>').text(resultvacancy[index].Value));
                        }
                    } else if (resultvacancy[index].Type == "WorkerType") {
                        
						$("#ddlemploymenttype").append("<option value=\""+resultvacancy[index].Value+"\" >"+resultvacancy[index].Value+"</option>");
						$('#ddlemploymenttype').val("Employee");
						

                    }

                }

                for (var index = 0; index < resultindustryexp.length; index++) {
                    if (resultindustryexp[index].Type == "IndustryExperience") {
                        $("#ddlindustryexperiance").append($('<option></option>').text(resultindustryexp[index].Value));

                    }
                    if (resultindustryexp[index].Type == "OnSiteTravelDuration") {
                        $("#txtdurationofonsitetravel").append($('<option></option>').text(resultindustryexp[index].Value));
                    }

                }


                for (var index = 0; index < result.length; index++) {
                    for (var subindex = 0; subindex < result[index].Choices.results.length; subindex++) {
                        //$("#ddlpositiontype").append($('<option></option>').text(result[index].Choices.results[subindex]));
						$("#ddlpositiontype").append("<option value=\"" + result[index].Choices.results[subindex] + "\" >" + result[index].Choices.results[subindex] + "</option>");
							$('#ddlpositiontype').val("Full_time");
                    }
                }

            }


            /* Bind Employee Role on the selection of Project Status */
            function bindemployeerole() {
                $("#ddlemployeerole").empty();
                $("#ddlemployeerole").append(new Option("Select", 0));
                var urlvacancy = site_url + "_api/RRFMaster?$filter=(Type eq 'EmployeeRoles')&$orderby=Value asc";
                var resultvacancy = resultset(urlvacancy);
                for (var index = 0; index < resultvacancy.length; index++) {
                    if (resultvacancy[index].Type == "EmployeeRoles") {
                        if ($('#rdbnew').is(':checked')) {
                            if (resultvacancy[index].Value == "Billable" || resultvacancy[index].Value == "Billable Consultant") {
                                //$("#ddlemployeerole").empty();
                                $("#ddlemployeerole").append($('<option></option>').text(resultvacancy[index].Value));
                            }
                        } else {
                            //$("#ddlemployeerole").empty();
                            $("#ddlemployeerole").append($('<option></option>').text(resultvacancy[index].Value));
                        }
                    }
                }

            }


            /*function is used to display second accordian data on 2nd accordian click after RRF saved or submit  */
            function displaySecondAccData(result) {
                if (result[0].EmployeeRole != null && result[0].EmployeeRole != "Select") {
                    $("#ddlemployeerole").val(result[0].EmployeeRole);
					if($("#ddlemployeerole").val()!="Billable Consultant")
					{
						$("#txtinterviewrounds").prop("disabled", true);
					}
                }

                if (result[0].Designation != null && result[0].Designation != "Select") {
                    $("#ddldesignation").val(result[0].Designation);
                }
                if (result[0].RoleBand != null && result[0].RoleBand != "Select") {
                    // $("#btnsearch").prop("disabled", false);		
                    $("#ddlroleband").val(result[0].RoleBand);
                }
                if (result[0].Status == "External Hiring" || result[0].Status == "Offer" || result[0].Status == "Interview" || result[0].Status == "Review" || result[0].Status == "Reference Check") {
                    $('#txtrequirementpercentage').prop("disabled", true);
                } else if (rdbclientinterviewType != "") {

                    if (rdbclientinterviewType == "Yes")
                        $("#rdbyes").prop('checked', true);
                    else
                        $("#rdbno").prop('checked', true);
                } else if (result[0].ClientInterviewRequired == "Yes") {
                    $("#rdbyes").prop('checked', true);
                } else {
                    $("#rdbno").prop('checked', true);
                }

                if (result[0].WorkerType != null && result[0].WorkerType != "Select") {
                    $("#ddlemploymenttype").val(result[0].WorkerType);
                }
                if (result[0].PostingTimeTypeId != null && result[0].PostingTimeTypeId != "Select") {
                    $("#ddlpositiontype").val(result[0].PostingTimeTypeId);
                }
                if (result[0].StartDate != null) {
                    if (result[0].NewStartDate != null) {
                        var startdate = convert_date_DDMMYYYY(result[0].NewStartDate);
                        $("#txtrequirementstartdate").val(startdate);
                    }
                }
                if (result[0].EndDate != null) {
                    if (result[0].NewEndDate != null) {
                        var enddate = convert_date_DDMMYYYY(result[0].NewEndDate);
                        $("#txtrequirementenddate").val(enddate);
                    }
                }
                //else {
                //    $("#txtrequirementenddate").val("");
                //}
                if (result[0].RequirementPct != null) {
                    $("#txtrequirementpercentage").val(result[0].RequirementPct);
                }
                if (result[0].NatureofVacancy != null && result[0].NatureofVacancy != "Select") {
                    $("#ddlnatureofvacancy").val(result[0].NatureofVacancy);
                }
                if (result[0].Industry != null && result[0].Industry != "Select") {
                    $("#ddlindustry").val(result[0].Industry);
                }
                if (result[0].IndustryExp != null && result[0].IndustryExp != "Select") {
                    $("#ddlindustryexperiance").val(result[0].IndustryExp);
                }

                if (result[0].WorkLocation != null) {
                    $("#txtworklocation").val(result[0].WorkLocation);
                }
                if (result[0].SalaryRangeMinAmt != null) {
                    $("#txtminsalaryrange").val(result[0].SalaryRangeMinAmt);
                }
                if (result[0].SalaryRangeMaxAmt != null) {
                    $("#txtmaxsalaryrange").val(result[0].SalaryRangeMaxAmt);
                }
                if (result[0].TypeofAssignment != null && result[0].TypeofAssignment != "Select") {
                    $("#ddltypeofassignemnt").val(result[0].TypeofAssignment);
                }
                if (result[0].DurationofOnsiteTravel != null) {
                    $("#txtdurationofonsitetravel").val(result[0].DurationofOnsiteTravel);
                }
				if($('#ddlemployeerole').text().trim()=='Billable Consultant' && $('input[name=clientinterview]:checked').val()=="Yes")
				{
				 $('#txtinterviewrounds').prop("disabled", false);
				 $("#rdbyes").prop('disabled', false);
				 $("#rdbno").prop('disabled', false);
				}
				else
				{
				 $('#txtinterviewrounds').prop("disabled", true);
				 $("#rdbyes").prop('disabled', true);
				 $("#rdbno").prop('disabled', true);
				}
				if($('#ddlemployeerole option:selected').text()=="Senior Management" || $('#ddlemployeerole option:selected').text()=="Investment" || $('#ddlemployeerole option:selected').text()=="SG&A")
				{
					
					$('#ddlclientrate').prop("disabled", true);
					$('#txtclientrate').prop("disabled", true);
					 $('#spanclientrate').hide();
				}
				else
				{  
					$('#spanclientrate').show();
					$('#ddlclientrate').prop("disabled", false);
					$('#txtclientrate').prop("disabled", false);
				}

            }

            /*set dropdown value after RRF Saved or submit on page load */
            function bindspecificdata(resultRRF) {

                var employetype = $('#ddlemploymenttype option:selected').text();
                if (employetype != "Select") {
                    var urllocation = site_url + "_api/RRFMaster?$filter=Type eq 'EmployeeTypeId' and Value eq '" + employetype + "'&$orderby=Value asc";
                    var result = resultset(urllocation);
                    $("#ddlemptypey").empty();
                    $("#ddlemptypey").append(new Option("Select", 0));
                    for (var index = 0; index < result.length; index++) {
                        $("#ddlemptypey").append($('<option></option>').text(result[index].Code));
                    }
                }
                if (resultRRF[0].EmployeeTypeId != null && resultRRF[0].EmployeeTypeId != "Select") {
                    $("#ddlemptypey").val(resultRRF[0].EmployeeTypeId);
                } else {
                    $("#ddlemptypey").val(ddlEType);
                }
                var value = $('#ddlentity option:selected').text();
                if (value != "Select") {
                    var url = site_url + "_api/RRFMaster?$filter=Entity eq '" + value + "'";
                    var resultloc = resultset(url);
                    //$("#ddlsalaryrange").empty();
                    $("#ddlbaselocation").empty();
                    for (var index = 0; index < resultloc.length; index++) {
                        <!-- if (resultloc[index].Type == "SalaryRange") { -->
                        <!-- $("#ddlsalaryrange").append($('<option></option>').text(resultloc[index].Value)); -->
                        <!-- } -->
                        //else if (resultloc[index].Type == "Location") {
                        if (resultloc[index].Type == "Location") {
                            $("#ddlbaselocation").append($('<option></option>').text(resultloc[index].Value));
                        }
                    }
                }
                if (resultRRF[0].BaseLocation != null && resultRRF[0].BaseLocation != "Select") {
                    $("#ddlbaselocation").val(resultRRF[0].BaseLocation);
					bindhingrmospoc();
                } else {
                    $("#ddlbaselocation").val(ddlbaselocationType);
					bindhingrmospoc();
                }
				if (resultRRF[0].Base_x0020_location != null && resultRRF[0].Base_x0020_location != "Select") {
                    $("#ddloffshare").val(resultRRF[0].Base_x0020_location);
					
                } 
				else{
				$("#ddloffshare").val("0");
				}
                if (resultRRF[0].SalaryRangeCurrancy != null && resultRRF[0].SalaryRangeCurrancy != "Select") {
                    $("#ddlsalaryrange").val(resultRRF[0].SalaryRangeCurrancy);
                }
                var value = $('#ddlsubpractice option:selected').text();
                if (value.indexOf('&') > -1) {
                    value = value.replace('&', '%26');
                }
                if (value.indexOf('&') > -1) {
                    value = value.replace('&', '%26');
                }
                if (value != "Select") {
                    var url = site_url + "_api/Skills?$select=Skill_Details,Practice&$filter=Sub_Practice eq '" + value + "'&$orderby=Skill_Details asc";
                    var resultskill = resultset(url);
                    $('#ddlprimaryskill').empty();
                    $('#ddlsecondryskill').empty();
                    $("#ddlprimaryskill").append(new Option("Select", 0));
                    $("#ddlsecondryskill").append(new Option("Select", 0)); 

                    var array1 = [];
                    var array2 = [];
					if($("#ddlsecondryskill").hasClass("SumoUnder")){$("#ddlsecondryskill").html('');$("#ddlsecondryskill")[0].sumo.unload();}
                    for (var index in resultskill) {
                        array1.push(resultskill[index].Skill_Details);
                        array2.push(resultskill[index].Skill_Details);
                        $("#ddlprimaryskill").append($('<option></option>').text(resultskill[index].Skill_Details));
                        <!-- $("#ddlsecondryskill").append($('<option></option>').text(resultskill[index].Skill_Details)); -->
						$("#ddlsecondryskill").append("<option value=\""+resultskill[index].Skill_Details+"\" >"+resultskill[index].Skill_Details+"</option>")
                    }
                $("#ddlsecondryskill").append("<option value=\""+resultRRF[0].PrimarySkill+"\" >"+resultRRF[0].PrimarySkill+"</option>")
					$('.ddlsecondryskill').SumoSelect({search: true, searchText: 'Search secondary skills'});
						$('#ddlsecondryskill')[0].sumo.enable(); // Enable the SUMO SELECT 
						$('#ddlsecondryskill')[0].sumo.reload();
						$('#ddlsecondryskill')[0].sumo.selectItem(0); //default select first option
                    $("#ddlprimaryskill").select2({
                        data: array1
                    });
                    <!-- $("#ddlsecondryskill").select2({ -->
                        <!-- data: array2 -->
                    <!-- }); -->

                }
                if (resultRRF[0].PrimarySkill != null && resultRRF[0].PrimarySkill != "Select") {
                    //$('select.ddlprimaryskill')[0].sumo.selectItem(resultRRF[0].PrimarySkill);
                    //$("#ddlprimaryskill").val(resultRRF[0].PrimarySkill);
                    $("#ddlprimaryskill").val(resultRRF[0].PrimarySkill).trigger('change');
                    //window.Search = $('.ddlprimaryskill').SumoSelect({ csvDispCount: 3, search: true, placeholder: 'Type Name' });
                    //Added by manohar 10 dec 2018 if in service skills is not there i append list data and assign the value in dropdown
                    if ($("#ddlprimaryskill").val() == null) {
                        $("#ddlprimaryskill").append($('<option></option>').text(resultRRF[0].PrimarySkill));
                        $("#ddlprimaryskill").val(resultRRF[0].PrimarySkill).trigger('change');
                    }
                } else {
                    $("#ddlprimaryskill").val(ddlPrimaryType);
                }

                if (resultRRF[0].SecondarySkill != null && resultRRF[0].SecondarySkill != "Select") //sumo select set multiple value
				{
                   // $("#ddlsecondryskill").val(resultRRF[0].SecondarySkill).trigger('change');
				   $("#ddlsecondryskill").prop("selectedIndex",-1); //unselect check box
					$('#ddlsecondryskill')[0].sumo.reload();
					var  SecondaryCheced = resultRRF[0].SecondarySkill;
					if(SecondaryCheced!= null || SecondaryCheced !="" || SecondaryCheced !== undefined)
					{
						if (SecondaryCheced.indexOf(';') > -1) 
						{
							var SecondaryCheced_val = SecondaryCheced.split(';').length;
							for(var y=0;y<SecondaryCheced_val;y++)
							{
								var value_ = SecondaryCheced.split(';')[y];
								$('#ddlsecondryskill')[0].sumo.selectItem(value_);
							}
						}
						else
						{
							$('#ddlsecondryskill')[0].sumo.selectItem(SecondaryCheced);
						}
					}
					
					
					
					
				   <!-- var skilss=resultRRF[0].SecondarySkill; -->
				   <!-- var secskills=skilss.split(','); -->
				   <!-- for(var i=0;i<secskills.length;i++) -->
				   <!-- { -->
					<!-- $("#ddlsecondryskill").val(secskills[i]).trigger('change') -->
				   <!-- } -->
                    //Added by manohar 10 dec 2018 if in service skills is not there i append list data and assign the value in dropdown
                    if ($("#ddlsecondryskill").val() == null) {
                        $("#ddlsecondryskill").append($('<option></option>').text(resultRRF[0].SecondarySkill));
                        $("#ddlsecondryskill").val(resultRRF[0].SecondarySkill).trigger('change');
                    }
                }
				<!-- else  -->
				<!-- { -->
                    <!-- $("#ddlsecondryskill").val(ddlSecondryType); -->
                <!-- } -->


                if ($('#ddlindustryexperiance option:selected').text() != "Select") {
                    var minexp = "0";
                    for (var index = 0; index < resultindustryexp.length; index++) {

                        if (resultindustryexp[index].Type == "MinRelevantExperience") {
                            var minrelevantexp = resultindustryexp[index].Value;
                            if ($('#ddlindustryexperiance option:selected').text() == minrelevantexp) {
                                if (minexp == "0") {
                                    $("#ddlminrelevantexp").append($('<option></option>').text(minrelevantexp));
                                    minexp = "1";
                                }
                                if (resultRRF[0].MinRelevantExp != null && resultRRF[0].MinRelevantExp != "Select") {
                                    $("#ddlminrelevantexp").val(resultRRF[0].MinRelevantExp);
                                }
                                //return false;
                            } else {
                                $("#ddlminrelevantexp").append($('<option></option>').text(minrelevantexp));
                            }

                        }

                    }
                    //return true;
                }


                if ($('#ddlnatureofvacancy option:selected').text() != "Select") {
                    if ($('#ddlnatureofvacancy option:selected').text() == "New") {
                        $('#ddlreplacementfor').empty();
                        $("#errreplacementfor").hide();
                        $('#select2-ddlreplacementfor-container').empty();
                        $("#ddlreplacementfor").attr("disabled", true);
                    } 
					else if ($('#ddlnatureofvacancy option:selected').text() == "Campus") {
                        $('#ddlreplacementfor').empty();
                        $("#errreplacementfor").hide();
                        $('#select2-ddlreplacementfor-container').empty();
                        $("#ddlreplacementfor").attr("disabled", true);
                    } 
					else if ($('#ddlnatureofvacancy option:selected').text() == "Proactive") {
                        $('#ddlreplacementfor').empty();
                        $("#errreplacementfor").hide();
                        $('#select2-ddlreplacementfor-container').empty();
                        $("#ddlreplacementfor").attr("disabled", true);
                    } 
					else {

                        if (resultRRF[0].Status != "RRF Saved" && resultRRF[0].Status != "Non Billable" && resultRRF[0].Status != null) {
                            $("#ddlreplacementfor").attr("disabled", true);
                        } else {
                            $("#ddlreplacementfor").attr("disabled", false);
                        }
                        $('#ddlreplacementfor').empty();
                        var resourceurl = site_url + "_api/ProjectTeam?$select=ResourceName&$filter=ProjectId eq guid'" + projectguid + "'";
                        var resourceresult = resultset(resourceurl);
                        var array = [];
                        $('#ddlreplacementfor').append(new Option("Select", 0));
                        for (var index = 0; index < resourceresult.length; index++) {
                            array.push(resourceresult[index].ResourceName);
                            $("#ddlreplacementfor").append($('<option></option>').text(resourceresult[index].ResourceName));
                        }
                        $("#ddlreplacementfor").select2({
                            data: array
                        });
                    }
                }
                if (resultRRF[0].ReplacementFor != null && resultRRF[0].ReplacementFor != "Select") {
                    $("#ddlreplacementfor").val(resultRRF[0].ReplacementFor).trigger('change');
                }
				

            }

            /*function is used to get all resource id on 3rd accordian click */
            function bindthirdaccdata() {
                $("#collapseOne").collapse('show');
                $("#collapseTwo").collapse('hide');
                if (TempVar == "1") {
                    TempVar2 = "2";

                } else {
                    TempVar2 = "";
                    TempVar3 = "1";
                }
                if (rrfno != undefined || rrfno != null) {

                    displayData(resultRRF);
					

                }

            }


            function displayData(result) {
                

                if (resultRRF[0].ProjectManagerUser.Title != null || resultRRF[0].ProjectManagerUser.Title != undefined) {
                    var projectmanager = resultRRF[0].ProjectManagerUser.Title;
                    $("#txtprojectmanager").val(projectmanager);
                }

                if (resultRRF[0].FPNAUser.Title != null || resultRRF[0].FPNAUser.Title != undefined) {
                    var fpnaapprover = resultRRF[0].FPNAUser.Title;
                    $("#txtfpaapprover").val(fpnaapprover);
                }

                if (resultRRF[0].ClientPartnerUser.Title != null || resultRRF[0].ClientPartnerUser.Title != undefined) {
                    var clientpartner = resultRRF[0].ClientPartnerUser.Title;
                    $("#txtclientpartner").val(clientpartner);
                }

                if (resultRRF[0].RMOSPOCUser.Title != null || resultRRF[0].RMOSPOCUser.Title != undefined) {
                    var rmospoc = resultRRF[0].RMOSPOCUser.Title;
                    $("#txtrmospoc").val(rmospoc);
                }
                if (resultRRF[0].Interview_x0020_Rounds != null || resultRRF[0].Interview_x0020_Rounds != undefined) {

                    $("#txtinterviewrounds").val(resultRRF[0].Interview_x0020_Rounds);
                }
				if (resultRRF[0].Hiring_x0020_Spoc.Title != null || resultRRF[0].Hiring_x0020_Spoc.Title != undefined) {
                    var hiringspoc = resultRRF[0].Hiring_x0020_Spoc.Title;
                    $("#txthspoc").val(hiringspoc);
                }
				
				if (Reportingflag == "0") {
					$("#divReportingTo").spPeoplePicker();
                    var SalesPerson =this.SPClientPeoplePicker.SPClientPeoplePickerDict.divReportingTo_TopSpan;
					var usersobject = SalesPerson.GetAllUserInfo();
					  usersobject.forEach(function (index) {
					   SalesPerson.DeleteProcessedUser(usersobject[index]);
					  });
					  var name =GetUserId1(result[0].ReportingToUser.Id);
                    var SalesPersonEmail = result[0].ReportingToUser.Title;
                    var SalesPersonEmail1 = result[0].ReportingToUser.EMail;
					
					setTimeout(setpeoplepickerval(name), 1000);
                    <!-- if ($("#divReportingTo_TopSpan_HiddenInput").val() != "" && $("#divReportingTo_TopSpan_HiddenInput").val() != "[]" && $("#divReportingTo_TopSpan_HiddenInput").val() != undefined) { -->
                        <!-- SalesPerson.DeleteProcessedUser(this.parentNode); -->
        
                        <!-- SalesPerson.AddUserKeys(SalesPersonEmail); -->
                    <!-- } else { -->
						
                         <!-- SalesPerson.DeleteProcessedUser(); -->
                        <!-- SalesPerson.AddUserKeys(SalesPersonEmail1); -->
                    <!-- } -->

                }

                Reportingflag = "1";

            }

		function setpeoplepickerval(name){
		var SalesPerson = this.SPClientPeoplePicker.SPClientPeoplePickerDict.divReportingTo_TopSpan; 
		//debugger;
		SalesPerson.AddUserKeys(name);
		}
		function GetUserId1(userid) {
            var NewloginName = "";
			var result;
            jQuery.ajax({
                url: "../_api/Web/GetUserById(" + userid + ")",
                type: "GET",
			     async: false,
                headers: { "Accept": "application/json;odata=verbose" },
                success: function (data) {
				//alert(data);
				console.log(data);
                    var dataResults = data.d;
                    var loginName = dataResults.LoginName;
                    NewloginName = encodeURIComponent(loginName); 
					//$('#login_name_contain').text(dataResults.Title);
                     result =  data.d.LoginName;
					 
                },
                complete: function () {
                },
            });
			return result;
        }
            function fourthaccordiandata(result) {
                $("#txtjobsummary").val(result[0].DescriptionSummary);
                $("#txtjobdescription").val(result[0].JobDescriptionSummary);
                $("#txtadditional").val(result[0].AdditionalComments);
                getUploadedFiles(rrfno);
            }

            function bindfirstaccdata() {
                $("#collapseOne").collapse('show');
                $("#collapseTwo").collapse('hide');

            }
            /*Code is used to disable all controls */
            function disablecontrols() {
                $(".contain-div input[type=text],.contain-div input[type=radio],.contain-div input[type=file],.contain-div textarea,.contain-div input[type=checkbox],.contain-div select").attr('disabled', true);
            }

            function enablecontrols() {
                $(".contain-div input[type=text],.contain-div input[type=radio],.contain-div input[type=file],.contain-div textarea,.contain-div input[type=checkbox],.contain-div select").attr('disabled', false);
            }

            function getUploadedFiles(rrfno) {
                var Folder_name = rrfno;
                var url = "../_api/web/Lists/getbytitle('RRFSupportDocument')/items?$filter=RRFID eq \'" + rrfno + "\'&$select=FileLeafRef,ID";
                $.ajax({
                    url: url,
                    type: "GET",
                    async: false,
                    headers: {
                        "Accept": "application/json;odata=verbose"
                    },
                    success: function(data) {
                        var file_ids = '';
                        $('#delete_file_ids').text('');
                        $(".raisedDocumnts").remove();
                        $("#uploaded_files").empty();

                        var upload_file_id = 0;
                        var remove_id = '';
                        $.each(data.d.results, function(key, val) {
                            upload_file_id++;
                            remove_id = 'remove' + upload_file_id;

                            ID = val.Id;

                            if (file_ids == '') {
                                file_ids = ID;
                            } else {
                                file_ids = file_ids + "," + ID;
                            }
                            //var href = "../_layouts/15/download.aspx?SourceUrl=https://bristleconeonline.sharepoint.com/sites/PPMUAT/RRFSupportDocument/" + Folder_name + "/" + val.FileLeafRef + "";
                            var href = getSupportDocUrl(Folder_name, val.FileLeafRef);
                            var file_html = "<tr id=" + remove_id + "><td>" + val.FileLeafRef + "</td>";
                            file_html = file_html + "<td class='text-center' style='width:30px;'><a href=\"" + href + "\" download ><i class='fa fa-download'></i></a></td>";
                            file_html = file_html + "<td class='text-center' style='width:30px;'><a onclick='delete_file(\"" + remove_id + "\",\"" + ID + "\")' href='javascript:void(0)'><i class='fa fa-trash-o'></i></a></td>";
                            file_html = file_html + " </tr>";
                            var liHtml = "<li class='raisedDocumnts'><a href=\"" + href + "\">" + val.FileLeafRef + "</a></li>";
                            $("#uploaded_files").append(file_html);
                        });
                        $('#delete_file_ids').text(file_ids);
                        $('#uploaded_file_count').text(upload_file_id);
                        if (upload_file_id > 0) {
                            $('#outer-popup-a').show();
                        }
                    }
                });
                $('.loader').hide();
            }

            // Delete file

            function delete_file(id, i) {


                $("#rrfsavedmsg").css("display", "none");
                $("#rrfconfirmationmsg").css("display", "none");
                $("#startdateconfirmationmsg").css("display", "none");
                $("#divMultipleAssignment").css("display", "none");
                $("#divResourceSaveMsg").css("display", "none");
                $("#fileuploadmsg").css("display", "block");
                document.getElementById("Confirmation_msg").innerHTML = "Are you sure you want to Delete the item?";
                $('#ok_click').attr('onclick', 'delete_file_temp("' + id + '","' + i + '")');
                $("#alertmain").show();
            }

            function delete_file_temp(hide_id, id) {
                $('.loader').show();
                var listname = "RRFSupportDocument";
                var requestUri = _spPageContextInfo.siteAbsoluteUrl;
                getListItemForDelete(requestUri, listname, id, function(data) {
                    $.ajax({
                        url: data.d.__metadata.uri,
                        type: "POST",
                        headers: {
                            "Accept": "application/json;odata=verbose",
                            "X-Http-Method": "DELETE",
                            "X-RequestDigest": $("#__REQUESTDIGEST").val(),
                            "If-Match": data.d.__metadata.etag
                        },
                        success: function(data) {
                            $('.loader').hide();
                            $("#alertmain").hide();
                            //document.getElementById("Alert_msg").innerHTML = "Attachment Deleted Successfully!";
                            $('#' + hide_id).fadeOut();
                            var file_count = $('#uploaded_file_count').text();
                            file_count = file_count - 1;
                            $('#uploaded_file_count').text(file_count);
                        },
                        error: function(data) {


                        }
                    });
                });
            }


            function getListItemForDelete(url, listname, Id, complete) {
                $.ajax({
                    url: url + "/_api/web/lists/GetByTitle('" + listname + "')/items('" + Id + "')",
                    method: "GET",
                    headers: {
                        "Accept": "application/json; odata=verbose"
                    },
                    success: function(data) {
                        complete(data);
                    },
                    error: function(data) {

                    }
                });
            }


            /* Project status radio button on change function */
            $('input:radio[name="projectstatus"]').change(
                function() {
                    $('.loader').show();
                    setTimeout(function() {

                        newdatabind();
                        $('.loader').hide();
                    }, 1000);
                }
            );

            function newdatabind() {

                if ($('input[name=projectstatus]:checked').val() == 'New') {

                    $("#ddlprojectname").empty();
                    $('#ddlprojectname').selectpicker("refresh");

                    $("#txtoppertunitystatus").attr("disabled", true);
                    $("#ddlnatureofvacancy").attr("disabled", true);
                    $("#ddlreplacementfor").attr("disabled", true);
                    $("#spanclientpartner").hide();

                    /*---------------------------------------------------------*/
                    var userid = _spPageContextInfo.userId;
                    var currentuserRole_empID = GetCurrentUserRole(currentuseremail);
                    var currentuserRole = currentuserRole_empID.split(';')[0];
                    var groupURL = getuserinRMOSuperUsergroup(userid);
                    var gropVal = resultset(groupURL);
                    if (gropVal.length > 0) {
                    /*---------------------------------------------------------- */   
                   /* var opertunityurl = _spPageContextInfo.webAbsoluteUrl + "/_api/web/lists/GetByTitle('Opportunity')/Items?$select=Title,OpportunityID&$filter=Status eq 'Open' and OpportunityToProjectConversions eq null &$orderby=Title asc&$Top=100000";*/
                   //if(currentuserRole == "RMO"){
                     var opertunityurl = _spPageContextInfo.webAbsoluteUrl + "/_api/web/lists/GetByTitle('Opportunity')/Items?$select=Title,OpportunityID&$filter=Status eq 'Open' and OpportunityToProjectConversions ne 'Converted' &$orderby=Title asc&$Top=100000";
                    var opertunityresult = resultset(opertunityurl);
                    
                }else{
                   
                    var opertunityurl = _spPageContextInfo.webAbsoluteUrl + "/_api/web/lists/GetByTitle('Opportunity')/Items?$select=Title,OpportunityID&$filter=Status eq 'Open' and OpportunityToProjectConversions ne 'Converted' and(OpportunityOwner eq '" + userid + "' or DeliveryLead eq '" + userid + "' or PracticeLead eq '" + userid + "' ) &$orderby=Title asc&$Top=100000";
                    var opertunityresult = resultset(opertunityurl);
                }
                    $("#ddlprojectname").append(new Option("Select", 0));
                    for (var index = 0; index < opertunityresult.length; index++) 
					{
						
							$('#ddlprojectname').append("<option data-value = '" + opertunityresult[index].OpportunityID + "'>" + opertunityresult[index].Title + "</option>");
						
				  }
                    $('#ddlprojectname').selectpicker("refresh");
                } else if ($('input[name=projectstatus]:checked').val() == 'Existing') {
                    $("#ddlnatureofvacancy").attr("disabled", false);
                    $("#ddlreplacementfor").attr("disabled", false);
                    $("#txtoppertunitystatus").attr("disabled", true);
                    $("#spanclientpartner").show();
                    $("#ddlprojectname").empty();
                    $('#ddlprojectname').selectpicker("refresh");
                    $("#ddlprojectname").append(new Option("Select", 0));
                    for (var index = 0; index < projectresult.length; index++) {
					
							$('#ddlprojectname').append("<option data-value = '" + projectresult[index].ProjectId + "'>" + projectresult[index].ProjectName + "</option>");
						
                        //$('#ddlprojectname').append("<option data-value = '" + projectresult[index].ProjectId + "'>" + projectresult[index].ProjectName + "</option>");
                    }
                    $('#ddlprojectname').selectpicker("refresh");
                }
            }
            /*Code is used to bind oppertunity Status,customer,GBU,FPAApprover,RMOSpoc on change of ProjectName dropdown */
            $("#ddlprojectname").change(function() {
                HideValidationMsg();
                $('#errprojectname').css('display', 'none');
                $('#errgbu').css('display', 'none');
                $('#errGBUUndefind').css('display', 'none');
                GBU_Undefind = "";
                var Secondflag = "0";
                var Thirdflag = "0";
                $("#accordion input[type=text],#accordion input[type=radio],#accordion textarea,#accordion input[type=checkbox],#accordion select").attr('disabled', false);
                $("#txthspoc,#ddlentity,#txtoppertunitystatus,#txtinterviewrounds,#txtgbu,#txtpractice,#txtcustomer,#txtjobsummary,#txtclientpartner,#txtprojectmanager,#txtrmospoc,#txtfpaapprover").prop("disabled", true);
				
					//$('#erremploymenttype').css('display', 'none');
						var employetype = $('#ddlemploymenttype option:selected').text();
						var urllocation = getCodeEmployeeType(employetype); //"https://ppmdev.bcone.com/_api/RRFMaster?$filter=Type eq 'EmployeeTypeId' and Value eq '" + employetype + "'&$orderby=Code asc";
						var result = resultset(urllocation);
						
						$("#ddlemptypey").empty();
						$("#ddlemptypey").append(new Option("Select", 0));
						for (var index = 0; index < result.length; index++) {
							//$("#ddlemptypey").append($('<option></option>').text(result[index].Code));
							$("#ddlemptypey").append("<option value=\"" + result[index].Code + "\" >" + result[index].Code + "</option>");
							$('#ddlemptypey').val("Regular");
						}
                if ($('input[name=projectstatus]:checked').val() == "Existing") {
                    //var value = $('#ddlprojectname option:selected').text();
                    var value = $("#ddlprojectname option:selected").attr('data-value');
                    var url = site_url + "_api/Projects?$select=ProjectName,ProjectId,ProjectCode,BenchProjects,ProjectOwnerId,CustomerName,GBU,FinanceTeam,ClientPartner,RMOSPOC,ProjectOwnerName,ProjectStartDate,ProjectFinishDate&$filter=ProjectId eq (guid'" + value + "')";
                    var result = resultset(url);
                    projectguid = result[0].ProjectId;
                    projectcode = result[0].ProjectCode;
                    projectownerGUID = result[0].ProjectOwnerId;
                    var BenchProjects = result[0].BenchProjects;
					$("#txtinterviewrounds").attr('disabled', true);
					if(BenchProjects==true)
					{
					$("#ddlclientrate,#txtclientrate").prop("disabled", true);
					}
					
                    $("#txtoppertunitystatus").val("");
                    $("#txtcustomer").val("");
                    $("#txtgbu").val("");
                    $("#txtfpaapprover").val("");
                    $("#txtrmospoc").val("");
                    $("#txtclientpartner").val("");
                    $("#txtprojectmanager").val("");
                    //$("#txtoppertunitystatus").val("");
                    $("#txtcustomer").val(result[0].CustomerName);
					//as per shwetha i changed this condition 3 jul 2019
					var GBUVALUE=result[0].GBU;
					if(GBUVALUE=="Bristlecone Americas")
					{
						GBUVALUE="NA";
					}
					else if(GBUVALUE=="Bristlecone PES")
					{
						GBUVALUE="PES-Others";
					}
					else if(GBUVALUE=="Bristlecone Europe")
					{
						GBUVALUE="Europe";
					}
					else if(GBUVALUE=="Bristlecone Emerging Markets")
					{
						GBUVALUE="Middle East";
					}					
                    $("#txtgbu").val(GBUVALUE);
                    var GUBValue = GBUVALUE;
                    // if (GUBValue != "" && GUBValue != null) {
                    //     if (GUBValue.indexOf("&") > -1) {
                    //         GUBValue = GUBValue.replace('&', '%26');
                    //         var url = _spPageContextInfo.webAbsoluteUrl + "/_api/web/lists/GetByTitle('RRFGBUMAPPING')/Items?$select=FPNAId,FPNA/Title&$Expand=FPNA&$filter=GBU eq '" + GUBValue + "'";
                    //         var gburesult = resultset(url);
                    //         if (gburesult.length > 0) {
                    //             fpnauserid = gburesult[0].FPNAId;
                    //             $("#txtfpaapprover").val(gburesult[0].FPNA.Title);
                    //         }
                    //     } else {
                    //         var url = _spPageContextInfo.webAbsoluteUrl + "/_api/web/lists/GetByTitle('RRFGBUMAPPING')/Items?$select=FPNAId,FPNA/Title&$Expand=FPNA&$filter=GBU eq '" + GUBValue + "'";
                    //         var gburesult = resultset(url);
                    //         if (gburesult.length > 0) {
                    //             fpnauserid = gburesult[0].FPNAId;
                    //             $("#txtfpaapprover").val(gburesult[0].FPNA.Title);
                    //         }
                    //     }
                    // }
                    if (GUBValue != "" && GUBValue != null) {
                        if (GUBValue.indexOf("&") > -1) {
                            GUBValue = GUBValue.replace('&', '%26');
                        }
                        else{
                            GUBValue = GBUVALUE;
                        }
                       var url = _spPageContextInfo.webAbsoluteUrl + "/_api/web/lists/GetByTitle('RRFGBUMAPPING')/Items?$select=FPNAId,FPNA/Title&$Expand=FPNA&$filter=GBU eq '" + GUBValue + "'";
                       var gburesult = resultset(url);
                       if (gburesult.length > 0) 
                            {
                                fpnauserid = gburesult[0].FPNAId;
                                $("#txtfpaapprover").val(gburesult[0].FPNA.Title);
                            }
                        } 
                    
                    
                     else {
                        var url = _spPageContextInfo.webAbsoluteUrl + "/_api/web/lists/GetByTitle('RRFGBUMAPPING')/Items?$select=FPNAId,FPNA/Title&$Expand=FPNA&$filter=GBU eq '" + GUBValue + "'";
                        var gburesult = resultset(url);
                        if (gburesult.length > 0) {
                            fpnauserid = gburesult[0].FPNAId;
                            $("#txtfpaapprover").val(gburesult[0].FPNA.Title);
                        }
                    }

                    /*if (result[0].RMOSPOC != null) {
                        rmospoc = result[0].RMOSPOC;
                        if (rmospoc.indexOf("|") > 0) {
                            $("#txtrmospoc").val(rmospoc.substr(rmospoc.lastIndexOf('|') + 1));
                            var rmoid = rmospoc.substring(0, rmospoc.lastIndexOf("|"));
                            var urlrmospoc = searchResourcefromResourcesUsingEmpid(rmoid); //"https://ppmdev.bcone.com/_api/Resources?$select=ResourceId,ResourceEmailAddress&$filter=EmployeeID eq '" + rmoid + "'";
                            var resultrmospoc = resultset(urlrmospoc);
                            rmospocuid = rmospoc.substr(rmospoc.lastIndexOf('|') + 1);
                            rmospocuid = rmospocuid + ";" + resultrmospoc[0].ResourceId + "#" + resultrmospoc[0].ResourceEmailAddress;
                            var useridurl = _spPageContextInfo.webAbsoluteUrl + "/_api/web/siteusers?$filter=Email eq '" + resultrmospoc[0].ResourceEmailAddress + "'";
                            var userdetails = resultset(useridurl);
                            rmospocuserid = userdetails[0].Id;
                        } else {
                            $("#txtrmospoc").val(rmospoc);
                            rmospocuid = "";
                        }
                    }*/
                    if (result[0].ClientPartner != null) {
                        clientpartner = result[0].ClientPartner;
                        if (clientpartner.indexOf("|") > 0) {
                            $("#txtclientpartner").val(clientpartner.substr(clientpartner.lastIndexOf('|') + 1));
                            var cpid = clientpartner.substring(0, clientpartner.lastIndexOf("|"));
                            var urlcp = searchResourcefromResourcesUsingEmpid(cpid); //"https://ppmdev.bcone.com/_api/Resources?$select=ResourceId,ResourceEmailAddress&$filter=EmployeeID eq '" + cpid + "'";
                            var resultcp = resultset(urlcp);
                            clientpartneruid = clientpartner.substr(clientpartner.lastIndexOf('|') + 1);
                            clientpartneruid = clientpartneruid + ";" + resultcp[0].ResourceId + "#" + resultcp[0].ResourceEmailAddress;
                            var useridurl = _spPageContextInfo.webAbsoluteUrl + "/_api/web/siteusers?$filter=Email eq '" + resultcp[0].ResourceEmailAddress + "'";
                            var userdetails = resultset(useridurl);
                            clientpartneruserid = userdetails[0].Id;
                        } else {
                            $("#txtclientpartner").val(clientpartner);
                            clientpartneruid = "";
                        }
                    }
                    if (result[0].ProjectOwnerName != null) {
                        projectownerid = result[0].ProjectOwnerId
                        projectmanager = result[0].ProjectOwnerName;
                        $("#txtprojectmanager").val(projectmanager);
                        var projectmanagerdetails = getProjectManagerEmail(projectownerid);
                        if (projectmanagerdetails != null) {
                            var projmanager = projectmanagerdetails.split("#");
                            projectmanageruid = projectmanager + ";" + projmanager[2] + "#" + projmanager[1];
                            projectmanageruserid = parseInt(projmanager[0]);
                        }
                    }
					if (result[0].Hiring_x0020_Spoc != null) {
                        HiringSpocId = result[0].Hiring_x0020_SpocId;
                        HiringSpoc = result[0].Hiring_x0020_Spoc;
                        $("#txthspoc").val(HiringSpoc);
                        var HiringSpocdetails = getProjectManagerEmail(HiringSpocId);
                        if (HiringSpocdetails != null) {
                            var Hiringspocnames = HiringSpocdetails.split("#");
                            HiringSpocName = HiringSpoc + "#" + Hiringspocnames[1];
                            HiringSpocId = parseInt(Hiringspocnames[0]);
                        }
                    }
					
                    if (result[0].ProjectStartDate != null) {
                        Project_StartDate = result[0].ProjectStartDate;
                    }
                    if (result[0].ProjectFinishDate != null) {
                        Project_EndDate = result[0].ProjectFinishDate;
                    }

                } else if ($('input[name=projectstatus]:checked').val() == "New") {
                    var value = $("#ddlprojectname option:selected").attr('data-value');
                    var url = _spPageContextInfo.webAbsoluteUrl + "/_api/web/lists/GetByTitle('Opportunity')/Items?$select=*,OpportunityOwner/Id,OpportunityOwner/EMail,OpportunityOwner/Title&$expand=OpportunityOwner&$filter=OpportunityID eq '" + value + "' and Status eq 'Open'";
                    var result = resultset(url);
                    $("#txtoppertunitystatus").val("");
                    $("#txtcustomer").val("");
                    $("#txtgbu").val("");
                    //rrfid=result[0].OpportunityID;		
                    if (result[0].Status != undefined) {
                        $("#txtoppertunitystatus").val(result[0].Status);
                    }
                    if (result[0].Customer != undefined) {
                        $("#txtcustomer").val(result[0].Customer);
                    }
                    if (result[0].GBU != undefined) 
					{
						var GBU_VALUE=result[0].GBU;
						if(GBU_VALUE=="Bristlecone Americas")
						{
							GBU_VALUE="NA";
						}
						else if(GBU_VALUE=="Bristlecone PES")
						{
							GBU_VALUE="PES-Others";
						}
						else if(GBU_VALUE=="Bristlecone Europe")
						{
							GBU_VALUE="Europe";
						}
						else if(GBU_VALUE=="Bristlecone Emerging Markets")
						{
							GBU_VALUE="Middle East";
						}
                        $("#txtgbu").val(GBU_VALUE);
                    }
                    if (result[0].OpportunityID != undefined) {
                        projectcode = result[0].OpportunityID;
                    }
					var currentuseremail1="";
					if (result[0].OpportunityOwner.EMail != undefined) {
                        currentuseremail1=result[0].OpportunityOwner.EMail;
                    }


                    $("#txtprojectmanager").val(result[0].OpportunityOwner.Title);
                    var PMurl = _spPageContextInfo.webAbsoluteUrl + "/_api/web/siteusers?$filter=Email eq '" + currentuseremail1 + "'";
                    var PMdetails = resultset(PMurl);
                    projectmanageruserid = PMdetails[0].Id;
                    projectmanageruid = result[0].OpportunityOwner.Title;
					var GBUVALUE1=result[0].GBU;
						if(GBUVALUE1=="Bristlecone Americas")
						{
							GBUVALUE1="NA";
						}
						else if(GBUVALUE1=="Bristlecone PES")
						{
							GBUVALUE1="PES-Others";
						}
						else if(GBUVALUE1=="Bristlecone Europe")
						{
							GBUVALUE1="Europe";
						}
						else if(GBUVALUE1=="Bristlecone Emerging Markets")
						{
							GBUVALUE1="Middle East";
						}
                    var gbudetails = GetOpertunityApprovalName(GBUVALUE1);
                    if (gbudetails != null && gbudetails != "" && gbudetails != undefined) {
                        var gbu = gbudetails.split("#");
                        rmospocuserid = parseInt(gbu[1]);
                        fpnauserid = parseInt(gbu[0]);
                        $("#txtrmospoc").val(gbu[3]);
                        $("#txtfpaapprover").val(gbu[2]);
                        fpnauid = gbu[2];
                        rmospocuid = gbu[3];
                    } else {
                        GBU_Undefind = "1";
                    }
                }	
            });

            /* drop down entity change function used for binding salary range, client rate  */
            // $("#ddlentity").change(function() {
            //     $('#errentity').css('display', 'none');
            //     bindentitydependentdata();
            //     costcenter();
            // });

            //in onchange function i amke it as display none
            $("#ddlcostcenter").change(function() {
                $('#errCostCenter').css('display', 'none');

            });

            function bindentitydependentdata() {
				var baselocation = $('#ddlbaselocation option:selected').text();
				var baselocationurl = site_url + "_api/RRFMaster?$filter=Type eq 'Location' and Value eq '" + baselocation + "'&$orderby=Value asc";
				var baselocationresult = resultset(baselocationurl);
				if(baselocationresult.length>0)
				{
					$('#ddlentity').val(baselocationresult[0].Entity);
				}
                var value = $('#ddlentity option:selected').text();
                var url = site_url + "_api/RRFMaster?$filter=Entity eq '" + value + "'&$orderby=Value asc";
                var result = resultset(url);
                
                
                for (var index = 0; index < result.length; index++) {
                    if (result[index].Type == "SalaryRange") {
                        $("#ddlsalaryrange").val(result[index].Value);
                        //$("#ddlsalaryrange").append($('<option></option>').text(result[index].Value));
                    } else if (result[index].Type == "RatePerDay") {
                        $("#ddlclientrate").val(result[index].Value);
                        //$("#ddlclientrate").append($('<option></option>').text(result[index].Value));
                    } 
                    // else if (result[index].Type == "Location") {
                    //     //$("#ddlbaselocation").append($('<option></option>').text(result[index].Value));
                    // }
                }
				

            }


            /* function is used to bind primary skill, secondry skill and practice on subpractice change event*/
            $("#ddlsubpractice").change(function() {
			$('#errsubpractice').css('display', 'none');
			var value = $('#ddlsubpractice option:selected').text();
            bindRmospoc();
			if (value.indexOf('&') > -1) {
				value = value.replace('&', '%26');
			}
			if (value.indexOf('&') > -1) {
				value = value.replace('&', '%26');
			}
			
			var url = site_url + "_api/Skills?$select=Skill_Details,Practice&$filter=Sub_Practice eq '" + value + "'&$orderby=Skill_Details asc";
            var result = resultset(url);
            $("#ddloffshare").empty();
			$("#txtpractice").val("");
			$("#ddlprimaryskill").empty();
			$("#ddlsecondryskill").empty();
			$("#ddlprimaryskill").append(new Option("Select", 0));
            $("#ddlsecondryskill").append(new Option("Select", 0));
            $("#ddloffshare").append(new Option("Select", 0));
            $("#ddloffshare").append("<option value='Onshore'>Onshore</option>");
            $("#ddloffshare").append("<option value='Offshore'>Offshore</option>");
            $('#ddlbaselocation').empty();
            $("#ddlbaselocation").append(new Option("Select", 0));
            $('#ddlcostcenter').empty();
			var unique = {};
			var distinct = [];
			var array1 = [];
			var array2 = [];
			if ($("#ddlsecondryskill").hasClass("SumoUnder")) {
				$("#ddlsecondryskill").html('');
				$("#ddlsecondryskill")[0].sumo.unload();
			}
			$("#ddlsecondryskill").append("<option value='Select' >Select</option>");
			for (var index in result) {

				array1.push(result[index].Skill_Details);
				array2.push(result[index].Skill_Details);
				$("#ddlprimaryskill").append($('<option></option>').text(result[index].Skill_Details));
				$("#ddlsecondryskill").append("<option value=\"" + result[index].Skill_Details + "\" >" + result[index].Skill_Details + "</option>")
				//$("#ddlsecondryskill").append($('<option></option>').text(result[index].Skill_Details));
				if (typeof(unique[result[index].Practice]) == "undefined") {
					distinct.push(result[index].Practice);
				}
				unique[result[index].Practice] = 0;
			}
			$('.ddlsecondryskill').SumoSelect({
				search: true,
				searchText: 'Search secondary skills'
			});
			$('#ddlsecondryskill')[0].sumo.enable(); // Enable the SUMO SELECT 
			$('#ddlsecondryskill')[0].sumo.reload();

			//$('#ddlsecondryskill')[0].sumo.selectItem(0); //default select first option
			//$('#ddlsecondryskill option').each(function(e){if(e != 0){$('#ddlsecondryskill')[0].sumo.disableItem(e)}});

			$(".sumo_ddlsecondryskill li").bind('click', function(event, ui) {
				if ($(this).find('label').text().trim() == "Select") {
					if ($(this).is(".selected")) {
						$('#ddlsecondryskill option').each(function(e) {
							if (e != 0) {
								$('#ddlsecondryskill')[0].sumo.disableItem(e)
							}
						});
					} else {
						$('#ddlsecondryskill option').each(function(e) {
							$('#ddlsecondryskill')[0].sumo.enableItem(e)
						});
					}
				} else {
					$(".sumo_ddlsecondryskill li").each(function(e) {
						if (!$(this).is(".selected")) {
							$('#ddlsecondryskill')[0].sumo.enableItem(e)
						}
					})
				}

			})
			$("#ddlprimaryskill").select2({
				data: array1
			});
			// <!-- $("#ddlsecondryskill").select2({ -->
			// <!-- data: array2 -->
			// <!-- }); -->

			//Code Change on 11-06-2017 Abhishek
			// costcenter();
			bindhingrmospoc();
			
			$.each(distinct, function(val, text) {
				$("#txtpractice").val(text);
			});
		});



            /*Code on EmploymentType change dropdown */
            $('#ddlemploymenttype').on('change', function() {
                $('#erremploymenttype').css('display', 'none');
                var employetype = $('#ddlemploymenttype option:selected').text();
                var urllocation = getCodeEmployeeType(employetype); //"https://ppmdev.bcone.com/_api/RRFMaster?$filter=Type eq 'EmployeeTypeId' and Value eq '" + employetype + "'&$orderby=Code asc";
                var result = resultset(urllocation);
				
                $("#ddlemptypey").empty();
                $("#ddlemptypey").append(new Option("Select", 0));
                for (var index = 0; index < result.length; index++) {
                    $("#ddlemptypey").append($('<option></option>').text(result[index].Code));
                }

            });


            /*Code is used to fill job Description textbox on change of primarySkill dropdown */
            $("#ddlprimaryskill").change(function() {
                ddlPrimaryType = document.getElementById("ddlprimaryskill").value;
                $('#errprimaryskill').css('display', 'none');
                var subpractice = $('#ddlsubpractice option:selected').text();
                if (subpractice.indexOf('&') > -1) {
                    subpractice = subpractice.replace('&', '%26');
                }
                if (subpractice.indexOf('&') > -1) {
                    subpractice = subpractice.replace('&', '%26');
                }
                var designation = $('#ddldesignation option:selected').text();
                var roleband = $('#ddlroleband option:selected').text();
                var primaryskill = $('#ddlprimaryskill option:selected').text();
                var minrelevant = $('#ddlminrelevantexp option:selected').text();
                $("#txtjobsummary").val(designation + "-" + primaryskill);
                var url = site_url + "_api/RMOPositions?$select=Standard_Jd&$filter=(Sub_Practice eq '" + subpractice + "') and (Designation eq '" + designation + "') and (Role_Band eq '" + roleband + "') and (Skill eq '" + primaryskill + "')";
                var result = resultset(url);
                if (result.length != 0) {
                    $("#txtjobdescription").val(result[0].Standard_Jd);
                }

            });


            // <!-- $("#ddldesignation").change(function () { -->
            // <!-- $('#errdesignation').css('display', 'none'); -->
            // <!-- var designation = $('#ddldesignation option:selected').text(); -->
            // <!-- var primaryskill = $('#ddlprimaryskill option:selected').text(); -->
            // <!-- $("#txtjobsummary").val(designation + "-" + primaryskill); -->
            // <!-- }); -->

            $("#ddldesignation").change(function() {
                $('#errdesignation').css('display', 'none');
                var designation = $('#ddldesignation option:selected').text();
                if (designation.indexOf("&") > -1); {
                    var designation = designation.replace("&", "%26");
                }
                var primaryskill = $('#ddlprimaryskill option:selected').text();
                $("#txtjobsummary").val(designation + "-" + primaryskill);
                var desgnationurl = site_url + "_api/RRFMaster?$filter=(Type eq 'Roles-DesignationMapping' and Value eq '" + designation + "' )";
                var desresult = resultset(desgnationurl);
                if (desresult.length != 0) {
                    
                    $('#errroleband').css('display', 'none');
                    var entity = $('#ddlentity option:selected').text();
                    if (entity != "Select") {
                        var roleband = $('#ddlroleband option:selected').text();
                        var url = site_url + "_api/RRFMaster?$filter=(Entity eq '" + entity + "') and (Code eq '" + roleband + "')";
                        var result = resultset(url);
                        if (result.length > 0) {
                            if (result[0].Type == "SalaryRangeValue") {
                                var salaryrangevalue = result[0].Value;

                                salaryrangevalue = salaryrangevalue.split("-");
                                $("#txtminsalaryrange").val(salaryrangevalue[0]);
                                $("#txtmaxsalaryrange").val(salaryrangevalue[1]);
                            }
                        } else {
                            $("#txtminsalaryrange").val("");
                            $("#txtmaxsalaryrange").val("");
                        }
                    }

                } else {
                    $("#ddlroleband").val("0");
                    $("#txtminsalaryrange").val("");
                    $("#txtmaxsalaryrange").val("");

                }
            });


            /*Code is used to bind ReplacementFor dropdown on change of Nature of vacancy dropdown */
            $("#ddlnatureofvacancy").change(function() {
                $('#errnatureofvacancy').css('display', 'none');
                if ($('#ddlnatureofvacancy option:selected').text() == "New") {
                    $('#ddlreplacementfor').empty();
                    $("#errreplacementfor").hide();
                    $('#select2-ddlreplacementfor-container').empty();
                    $("#ddlreplacementfor").attr("disabled", true);
                    $("#replacementid").hide();
                }
            else  if ($('#ddlnatureofvacancy option:selected').text() == "Campus") {
                    $('#ddlreplacementfor').empty();
                    $("#errreplacementfor").hide();
                    $('#select2-ddlreplacementfor-container').empty();
                    $("#ddlreplacementfor").attr("disabled", true);
                    $("#replacementid").hide();
                }
            else  if ($('#ddlnatureofvacancy option:selected').text() == "Proactive") {
                    $('#ddlreplacementfor').empty();
                    $("#errreplacementfor").hide();
                    $('#select2-ddlreplacementfor-container').empty();
                    $("#ddlreplacementfor").attr("disabled", true);
                    $("#replacementid").hide();
                }				else {
                    $("#ddlreplacementfor").attr("disabled", false);
                    $('#ddlreplacementfor').empty();
                    $("#replacementid").show();
                    var resourceurl = site_url + "_api/ProjectTeam?$select=ResourceName&$filter=ProjectId eq guid'" + projectguid + "'";
                    var resourceresult = resultset(resourceurl);
                    var array = [];
                    $('#ddlreplacementfor').append(new Option("Select", 0));
                    for (var index = 0; index < resourceresult.length; index++) {
                        array.push(resourceresult[index].ResourceName);
                        $("#ddlreplacementfor").append($('<option></option>').text(resourceresult[index].ResourceName));
                    }
                    $("#ddlreplacementfor").select2({
                        data: array
                    });
                }
            });


            $("#ddlindustryexperiance").change(function(e) {
                $('#errindustryexp').css('display', 'none');
                $("#ddlminrelevantexp").empty();
                var minexp = "0";
                if ($('#ddlindustryexperiance option:selected').text() == "Select") {
                    $("#ddlminrelevantexp").append(new Option("Select", 0));
                } else {
                    $("#ddlminrelevantexp").append(new Option("Select", 0));
                    for (var index = 0; index < resultindustryexp.length; index++) {

                        if (resultindustryexp[index].Type == "MinRelevantExperience") {
                            var minrelevantexp = resultindustryexp[index].Value;
                            if ($('#ddlindustryexperiance option:selected').text() == minrelevantexp) {
                                if (minexp == "0") {
                                    $("#ddlminrelevantexp").append($('<option></option>').text(minrelevantexp));
                                    minexp = "1";
                                }

                                return false;
                            } else {
                                $("#ddlminrelevantexp").append($('<option></option>').text(minrelevantexp));
                            }

                        }

                    }
                }
                return true;
            });
            $("#txtworklocation").keypress(function(e) {
                var regex = new RegExp("^[a-zA-Z\\s]+$");
                var str = String.fromCharCode(!e.charCode ? e.which : e.charCode);
                if (regex.test(str)) {
                    return true;
                } else {
                    e.preventDefault();
                    //alert('Please Enter Alphabate');
                    return false;
                }


            });
			


            $("#txtclientrate").keypress(function(e) {
                //if the letter is not digit then display error and don't type anything
                if (e.which != 8 && e.which != 0 && (e.which < 48 || e.which > 57)) {
                    //display error message
                    $("#errnummsg").html("Digits Only").show().fadeOut("slow");
                    return false;
                }
            });
            $("#txtminsalaryrange").keypress(function(e) {
                //if the letter is not digit then display error and don't type anything
                if (e.which != 8 && e.which != 0 && (e.which < 48 || e.which > 57)) {
                    //display error message
                    $("#errnumminmsg").html("Digits Only").show().fadeOut("slow");
                    return false;
                }
            });
            $("#txtmaxsalaryrange").keypress(function(e) {
                //if the letter is not digit then display error and don't type anything
                if (e.which != 8 && e.which != 0 && (e.which < 48 || e.which > 57)) {
                    //display error message
                    $("#errnummaxmsg").html("Digits Only").show().fadeOut("slow");
                    return false;
                }
            });

            $('#txtrequirementpercentage').change(function() {
                $('#errreqpercentagemsg').css('display', 'none');
            });



            (function($) {
                $.fn.numeric = function(options) {
                    return this.each(function() {
                        var $this = $(this);
                        $this.keypress(options, function(e) {
                            // allow backspace and delete 
                            if (e.which == 8 || e.which == 0)
                                return true;

                            //if the letter is not digit 
                            if (e.which < 48 || e.which > 57)
                                return false;

                            // check max range 
                            var dest = e.which - 48;
                            var result = this.value + dest.toString();
                            if (result > e.data.max) {
                                return false;
                            }
                        });
                    });
                };
            })(jQuery);




            $('#txtjobdescription').keypress(function(e) {

                //$("#errjobdescriptionmsg").html("Special Characters are not allowed").show().fadeOut("slow");
                //var regex = new RegExp("^[a-zA-Z0-9\\s]+$");
                //var str = String.fromCharCode(!e.charCode ? e.which : e.charCode);
                //if (regex.test(str)) {
                //    $('#errjobdescriptionmsg').css('display', 'none');
                //    return true;
                //} else {
                //    $('#errjobdescriptionmsg').css('display', 'block');
                //    e.preventDefault();
                //    return false;
                //}


                var k = e.keyCode;
                if ((k > 64 && k < 91) || (k > 96 && k < 123) || k == 8 || k == 46 || k == 44 || k == 32 || k == 13 || (k >= 48 && k <= 57)) {

                    $('#errjobdescriptionmsg').css('display', 'none');
                    return true;

                } else {
                    $('#errjobdescriptionmsg').css('display', 'block');
                    e.preventDefault();
                    return false;
                }


            });
            $('#txtadditional').keypress(function(e) {

                //$("#errjobdescriptionmsg").html("Special Characters are not allowed").show().fadeOut("slow");
                //var regex = new RegExp("^[a-zA-Z0-9\\s]+$");
                //var str = String.fromCharCode(!e.charCode ? e.which : e.charCode);
                //if (regex.test(str)) {
                //    $('#errjobdescriptionmsg').css('display', 'none');
                //    return true;
                //} else {
                //    $('#errjobdescriptionmsg').css('display', 'block');
                //    e.preventDefault();
                //    return false;
                //}


                var k = e.keyCode;
                if ((k > 64 && k < 91) || (k > 96 && k < 123) || k == 8 || k == 46 || k == 44 || k == 32 || k == 13 || (k >= 48 && k <= 57)) {

                    $('#erradditional').css('display', 'none');
                    return true;

                } else {
                    $('#erradditional').css('display', 'block');
                    e.preventDefault();
                    return false;
                }


            });
            $('#txtadditional').change(function() {
                $('#erradditional').css('display', 'none');
            });

            $('#txtjobdescription').change(function() {
                $('#errjobdescriptionmsg').css('display', 'none');
            });

            $(function() {
                $("#txtjobdescription").bind('paste', function() {
                    setTimeout(function() {
                        //get the value of the input text
                        var data = $('#txtjobdescription').val();
                        //replace the special characters to '' 
                        // var dataFull = data.replace(/[^\w\s]/gi, '');
                        var dataFull = data.replace(/[^\w\s.,•\s+]/gi, '');
                        //set the new value of the input text without special characters
                        $('#txtjobdescription').val(dataFull);
                    });

                });
            });
            $(function() {
                $("#txtadditional").bind('paste', function() {
                    setTimeout(function() {
                        //get the value of the input text
                        var data1 = $('#txtadditional').val();
                        //replace the special characters to '' 
                        var dataFull1 = data1.replace(/[^\w\s]/gi, '');
                        //set the new value of the input text without special characters
                        $('#txtadditional').val(dataFull1);
                    });

                });
            });




            function resultset(Url) {
                var result;
                $.ajax({
                    url: Url,
                    async: false,
                    method: "GET",
                    headers: {
                        "Accept": "application/json; odata=verbose",
                        "Content-Type": "application/json; odata=verbose"
                    },
                    success: function(data) {
                        result = data.d.results;
                    },
                    error: function(error) {
                        result = 'error';
                    }
                });
                return result;
            }
            /*Get current login user details*/
            function resultsetProfile(Url) {
                var result;
                $.ajax({
                    url: Url,
                    async: false,
                    method: "GET",
                    headers: {
                        "Accept": "application/json; odata=verbose",
                        "Content-Type": "application/json; odata=verbose"
                    },
                    success: function(data) {
                        result = data.d;
                    },
                    error: function(error) {
                        result = 'error';
                    }
                });
                return result;
            }

			


            /*code on search button click  */
            $("#btnsearch").click(function() {
                if ($('#ddlroleband option:selected').text() == "Select") {
                    $('#errroleband').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                } else if ($('#txtrequirementstartdate').val() == "") {
                    $('#errrequirementstartdate').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                } else if ($('#txtrequirementenddate').val() == "") {
                    $('#errrequirementenddate').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                } else if ($('#ddlprimaryskill option:selected').text() == "Select") {
                    $('#errprimaryskill').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                } else if ($('#ddlsecondryskill option:selected').text() == "Select") {
                    $('#errsecondryskillmsg').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                } else {
                    $('.loader').show();
                    $('.popup-bg').show();
                    getSerachDetails();
                    $('.loader').hide();
                }
            });
            /*method is used for show Resource search deatils in resource table  */
            function getSerachDetails() {
                var date1;
                var month1;
                var date2;
                var month2;
                //var primaryskill = "SAP ABAP"; 
                //var secondryskill = "SAP Fiori";
                //var RoleBand = "RB 4";
                //var projectstartdate = "2017-08-10";

                var secondryskill = $('#ddlsecondryskill option:selected').text();
                var primaryskill = $('#ddlprimaryskill option:selected').text();
                var RoleBand = $('#ddlroleband option:selected').text();
                var Requiredpercentage = $("#txtrequirementpercentage").val();
                var startdate = $('#txtrequirementstartdate').val();
                var date = startdate.split("-");
                var month = new Date(Date.parse(date[1] + " 1, 2012")).getMonth() + 1;
                // if (date[0] < 10) {
                //     date1 = "0" + date[0];
                // }
                // else {
                //     date1 = date[0];
                // }
                if (month < 10) {
                    month1 = "0" + month;
                } else {
                    month1 = month;
                }

                var end_date = $('#txtrequirementenddate').val();
                var date_end = end_date.split("-");
                var month_end = new Date(Date.parse(date_end[1] + " 1, 2012")).getMonth() + 1;
                // if (date[0] < 10) {
                //     date1 = "0" + date[0];
                // }
                // else {
                //     date1 = date[0];
                // }
                if (month_end < 10) {
                    month2 = "0" + month_end;
                } else {
                    month2 = month_end;
                }


                var time = "T00:00:00";
                var projectstartdate = date[2] + "-" + month1 + "-" + date[0] + time;
                //var projectstartdate = date[2]+"-"+ month1+"-"+ date1;
                // projectstartdate = Date.parse(projectstartdate);
                var Project_newenddate = date_end[2] + "-" + month2 + "-" + date_end[0] + time;
                var result = searchResource("NA", primaryskill, secondryskill, RoleBand, projectstartdate, Requiredpercentage, Project_newenddate)
                bindtblResource(result);
            }

            function bindtblResource(result) {
                destroyjs('#tblResourceSearch');
                table_header = "<thead><tr>";
                table_header = table_header + "<th>Item</th>"
                table_header = table_header + "<th>Employee ID</th>"
                table_header = table_header + "<th>Employee Name</th>"
                table_header = table_header + "<th>Designation</th>"
                table_header = table_header + "<th>Base Location</th>"
                table_header = table_header + "<th>Project Name</th>"
                table_header = table_header + "<th>Role Band</th>"
                table_header = table_header + "<th>Date of Joining</th>"

                //footer menu
                table_header = table_header + "<tfoot><tr>";
                table_header = table_header + "<th></th>"
                table_header = table_header + "<th></th>"
                table_header = table_header + "<th></th>"
                table_header = table_header + "<th></th>"
                table_header = table_header + "<th></th>"
                table_header = table_header + "<th></th>"
                table_header = table_header + "<th></th>"
                table_header = table_header + "<th></th>"
                table_header = table_header + " </tr></tfoot>";


                var RoleBand = $('#ddlroleband option:selected').text();

                var RRFFROMLIHTML = "<tbody>";
                for (var index = 0; index < result.length; index++) {
                    var ProjectNameHTML = "";
                    var Flag = "1";
                    if (result[index].ProjectName == "Multiple Assignment")

                        ProjectNameHTML = "<a href='#' onclick='ShowMultipleAssignmentProjectsDetails(this,1)'>" + result[index].ProjectName + "</a>";
                    else
                        ProjectNameHTML = result[index].ProjectName;

                    var JoiningDate = convert_date_DDMMYYYY(result[index].OrganisationDOJ);
                    var tdid = result[index].EmployeeID + "#" + result[index].ResourceFullName + "#" + Flag;
                    RRFFROMLIHTML = RRFFROMLIHTML + "<tr><td><input type=\"checkbox\" name='select' ></td><td><span class=\"spval1 \" id =\"span1\">" + result[index].EmployeeID + "</span></td><td><span href='#' id='show-popup' class='action-b'>" + result[index].ResourceFullName + "<div class='action-b-view'><a href='../SitePages/ResourceProjectInformation.aspx?employeeID=" + result[index].EmployeeID + "&employeename=" + result[index].ResourceFullName + "' target='_blank'>Project Detail</a><a href='../SitePages/ViewProfile.aspx?employeeID=" + result[index].EmployeeID + "&employeename=" + result[index].ResourceFullName + "' target='_blank' >View Profile</a></div></span></td><td><span class= \"spval1\" id =\"span3\">" + result[index].Designation + "</span></td><td><span class= \"spval1\" id =\"span4\">" + result[index].Work_Location + "</span></td><td id=" + tdid + ">" + ProjectNameHTML + "</td><td>" + RoleBand + "</td><td>" + JoiningDate + "</td></tr>"

                }
                RRFFROMLIHTML += "</tbody>";
                var table_element = table_header + RRFFROMLIHTML;
                $("#tblResourceSearch").append(table_element);
                table = $('#tblResourceSearch').DataTable({
                    "dom": 'Rlfrtip',
                    "iDisplayLength": 20,
                    "lengthMenu": [
                        [20, 30, 40, -1],
                        [20, 30, 40, "All"]
                    ],
                    "pagingType": "simple_numbers"
                });



                var urlresourceallocation = _spPageContextInfo.webAbsoluteUrl + "/_api/web/lists/GetByTitle('RMOResourceAllocation')/Items?$filter=RRFNumber eq '" + rrfno + "'";
                var resultresourceallocation = resultset(urlresourceallocation);
                if (resultresourceallocation.length > 0) {
                    var resourceid = resultresourceallocation[0].suggestedResource;
                    resourceid = resourceid.split(";");
                    var childCheckboxes = table.rows().nodes().to$('#tblResourceSearch tbody tr td').find('input[type=checkbox]');
                    for (var i = 0; i < resourceid.length; i++) {
                        for (var index = 0; index < childCheckboxes.length; index++) {
                            if (childCheckboxes[index].parentNode.parentNode.firstElementChild.nextSibling.innerText == resourceid[i]) {
                                childCheckboxes[index].parentNode.children.select.checked = true;
                            } else {
                                //childCheckboxes[0].parentNode.children.select.checked
                            }
                        }
                    }
                }
            }

            function getFormatDate(date) {
                if (date != null && date != "") {
                    var year = date.toString().substring(0, 4);
                    var month = GetMonthName(date.toString().substring(4, 6));
                    var date = date.toString().substring(6, 8);
                    var formatDate = date + '-' + month + '-' + year;
                    return formatDate;
                }
            }

            function GetMonthName(monthNumber) {
                var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun',
                    'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'
                ];
                return months[monthNumber - 1];
            }

            $("#btnresourcesave").click(function() {
                resourcenameRMO = "";
                var childCheckboxes = table.rows().nodes().to$('#tblResourceSearch tbody tr td').find('input[type=checkbox]');
                var no_checked = childCheckboxes.filter(':checked').each(function() {});
                for (var index = 0; index < no_checked.length; index++) {
                    if (resourcenameRMO == "") {
                        resourcenameRMO = no_checked[index].parentNode.parentNode.firstElementChild.nextSibling.innerText;
                    } else {
                        resourcenameRMO = resourcenameRMO + ";" + no_checked[index].parentNode.parentNode.firstElementChild.nextSibling.innerText;
                    }
                }



                $("#fileuploadmsg").css("display", "none");
                $("#rrfsavedmsg").css("display", "none");
                $("#rrfconfirmationmsg").css("display", "none");
                $("#startdateconfirmationmsg").css("display", "none");
                $("#divMultipleAssignment").css("display", "none");
                $("#divResourceSaveMsg").css("display", "block");
                $("#alertmain").show();
                $('.popup-bg').hide();

            });



            // $("#btnresourcecancel").click(function () {
            //     $('.popup-bg').hide();
            // });
            $(".p-close").click(function() {
                $('.popup-bg').hide();
            });
            $(".top-close").click(function() {
                $('.Toppopup-bg').hide();
            });


            $(document).on("click", "#btnsave", function() {
                TempVar = "";
                TempVar2 = "";
                Save_Flag = "1";
                HideValidationMsg();
                StartDate_ConfirmationValue = 1;
                if ($('#ddlprojectname option:selected').text() == "Select" || $('#ddlprojectname option:selected').text() == "") {
                    $('#errprojectname').css('display', 'block');
                    $("#collapseOne").collapse('hide');
                    return false;
                } else {
                    $('#errprojectname').css('display', '');
                }
                if ($("#txtcustomer").val() == "" || $("#txtcustomer").val() == null || $("#txtcustomer").val() == "NA") {
                    $("#collapseOne").collapse('hide');
                    $('#errcustomer').css('display', 'block');
                    return false;
                } else {
                    $('#errcustomer').css('display', '');
                }
                if ($("#txtgbu").val() == "" || GBU_Undefind == "1") {
                    if ($("#txtgbu").val() == "") {
                        $("#collapseTwo").collapse('show');
                        $("#collapseOne").collapse('hide');
                        $('#errgbu').css('display', 'block');
                    }
                    if (GBU_Undefind == "1") {
                        $("#collapseTwo").collapse('show');
                        $("#collapseOne").collapse('hide');
                        $('#errGBUUndefind').css('display', 'block');
                    }
                } else {
                    
                        if (rrfno != undefined || rrfno != null) {
                            PageStatus = RRFPageStatus;
                            RRFPageFlag = "1";
                            Savelog = "0";
                        } else if (($('#ddlemployeerole option:selected').text() != "Billable" && $('#ddlemployeerole option:selected').text() != "Billable Consultant") && $('#ddlemployeerole option:selected').text() != "Select" && $('#ddlemployeerole option:selected').text() != "") {
                            PageStatus = "Non Billable";
                            NonBillableFlag = null;
                        } else {
                            PageStatus = "RRF Saved";
                        }

                        $('.loader').show();
                        if (resultRRF.length > 0) {

                            if ((RRFPageStatus != "RRF Saved") && (RRFPageStatus != "Non Billable")) {
                                if (validate()) {

                                    insertRRFDetails();
                                } else {
                                    $('.loader').hide();
                                }
                            } else {

                                insertRRFDetails();
                            }


                        } else {

                            uploadDocument();

                        }
                   
                }

            });

            /*code on submit button click  */
            $("#btnsubmit").click(function() {
                TempVar = "";
                TempVar2 = "";
                HideValidationMsg();
                if ($('#ddlprojectname option:selected').text() == "Select") {
                    $('#errprojectname').css('display', 'block');
					$("#collapseOne").collapse('hide');
					$("#collapseTwo").collapse('hide');
                    return false;
                } else if ($("#txtcustomer").val() == "" || $("#txtcustomer").val() == null || $("#txtcustomer").val() == "NA") {
                    $("#collapseOne").collapse('hide');
					$("#collapseTwo").collapse('hide');
                    $('#errcustomer').css('display', 'block');
                    return false;
                } else if ($("#txtgbu").val() == "" || GBU_Undefind == "1") {
                    if ($("#txtgbu").val() == "") {
                        $("#collapseTwo").collapse('show');
                        $("#collapseOne").collapse('hide');
                        $('#errgbu').css('display', 'block');
                    }
                    if (GBU_Undefind == "1") {
                        $("#collapseTwo").collapse('show');
                        $("#collapseOne").collapse('hide');
                        $('#errGBUUndefind').css('display', 'block');
                    }
                } else {

                    if (validate()) {
                        $("#fileuploadmsg").css("display", "none");
                        $("#rrfsavedmsg").css("display", "none");
                        $("#divMultipleAssignment").css("display", "none");
                        $("#divResourceSaveMsg").css("display", "none");
                        $("#startdateconfirmationmsg").css("display", "none");
                        $("#rrfconfirmationmsg").css("display", "block");
                        $("#alertmain").show();
                    }
                }

            });

            function submitRRF() {

                setTimeout(function() {


                    
                    if (($('#ddlemployeerole option:selected').text() != "Billable" && $('#ddlemployeerole option:selected').text() != "Billable Consultant") && $('#ddlemployeerole option:selected').text() != "Select") {
                        PageStatus = "Functional Head";
                        NonBillableFlag = 1;
                    } else {
                        PageStatus = "RMO Validation";
                    }

                    if (resultRRF.length > 0) {

                        EmailFlag = 1;
                        insertRRFDetails();
                       

                    } else {
                        if (validate()) {

                            uploadDocument();
                            //$('.loader').hide();
                        }
                    }
				 $('.loader').hide();
                }, 3000);

			
            }





            $(document).on('keyup', '#txtclientrate', function(event) {
                $('#errclientrateperday').css('display', 'none');
                var input = event.currentTarget.value;

                if (input.search(/^0/) != -1) {
                    $('#errzeroselectperday').css('display', 'block');
                    $("#txtclientrate").val('');
                } else {
                    $('#errzeroselectperday').css('display', 'none');
                }
            });

            <!-- $("#txtrequirementstartdate").blur(function(e) { -->

                <!-- $('#errrequirementstartdate').css('display', 'none'); -->
                <!-- $('#newerrrequirementstartdate').css('display', 'none'); -->
            <!-- }); -->


            $("#txtrequirementenddate").blur(function(e) {
                $('#errrequirementenddate').css('display', 'none');
            });


            $("#txtworklocation").keyup(function(e) {

                $('#errworklocation').css('display', 'none');
            });


            $("#ddlbaselocation").change(function(e) {
                ddlbaselocationType = document.getElementById("ddlbaselocation").value;
                $('#errbaselocation').css('display', 'none');
				bindentitydependentdata();
				costcenter();
				bindhingrmospoc();
            });
			
			function bindhingrmospoc()
			{
			$('#txthspoc').val("");
				var ddlbaselocation= document.getElementById("ddlbaselocation").value;
				if(ddlbaselocation !="0" && ddlbaselocation!="")
				{ 
					var hiringspocurl="../_api/web/Lists/getbytitle('Location_SPOC')/items?$select=ID,Phone_Number,Hiring_SPOC/Title,Hiring_SPOC/EMail,Hiring_SPOC/Id&$expand=Hiring_SPOC&$filter=Location eq '" + ddlbaselocation.trim() + "' and Hiring_SPOC ne null";
					var hiringspoc_result = resultset(hiringspocurl);
					if(hiringspoc_result.length>0)
					{
						$('#txthspoc').val(hiringspoc_result[0].Hiring_SPOC.Title);
						HiringSpocEmail=hiringspoc_result[0].Hiring_SPOC.EMail;
						HiringSpocId=hiringspoc_result[0].Hiring_SPOC.Id;
						HiringSpocName=hiringspoc_result[0].Hiring_SPOC.Title +"#"+ HiringSpocEmail +"#"+ hiringspoc_result[0].Phone_Number;
					}
					else if(hiringspoc_result.length==0)
					{
						var subpractvalue=document.getElementById("ddlsubpractice").value;
						if(subpractvalue.trim()!="Select")
						{
							if (subpractvalue.indexOf('&') > -1) 
							{
								subpractvalue = subpractvalue.replace('&', '%26');
							}
							if (subpractvalue.indexOf('&') > -1) 
							{
								subpractvalue = subpractvalue.replace('&', '%26');
							}
							var hiringsubspocurl="../_api/web/Lists/getbytitle('Subpractice_SPOC')/items?$select=ID,Phone_Number,Hiring_SPOC/Title,Hiring_SPOC/EMail,Hiring_SPOC/Id&$expand=Hiring_SPOC&$filter=Sub_practice eq '" + subpractvalue.trim() + "'";
							var hiringsubspoc_result = resultset(hiringsubspocurl);
							if(hiringsubspoc_result.length>0)
							{
								$('#txthspoc').val(hiringsubspoc_result[0].Hiring_SPOC.Title);
								HiringSpocEmail=hiringsubspoc_result[0].Hiring_SPOC.EMail;
								HiringSpocId=hiringsubspoc_result[0].Hiring_SPOC.Id;
								HiringSpocName=hiringsubspoc_result[0].Hiring_SPOC.Title +"#"+ HiringSpocEmail +"#"+ hiringsubspoc_result[0].Phone_Number;
							}
						}
						var customervalue=document.getElementById("txtcustomer").value;
						if(customervalue.trim()!="" && customervalue.trim()!=null)
						{
							if (customervalue.indexOf('&') > -1) 
							{
								customervalue = customervalue.replace('&', '%26');
							}
							if (customervalue.indexOf('&') > -1) 
							{
								customervalue = customervalue.replace('&', '%26');
							}
							if (customervalue.indexOf("'") > -1) 
							{
								customervalue = customervalue.replace("'", '%27');
							}
							if (customervalue.indexOf("'") > -1) 
							{
								customervalue = customervalue.replace("'", '%27');
							}
							var hiringsuctomerspocurl="../_api/web/Lists/getbytitle('Customer_SPOC')/items?$select=ID,Phone_Number,Hiring_SPOC/Title,Hiring_SPOC/EMail,Hiring_SPOC/Id&$expand=Hiring_SPOC&$filter=Customer_Name eq '" + customervalue + "'";
							var hiringcustomerspoc_result = resultset(hiringsuctomerspocurl);
							if(hiringcustomerspoc_result.length>0)
							{
								$('#txthspoc').val(hiringcustomerspoc_result[0].Hiring_SPOC.Title);
								HiringSpocEmail=hiringcustomerspoc_result[0].Hiring_SPOC.EMail;
								HiringSpocId=hiringcustomerspoc_result[0].Hiring_SPOC.Id;
								HiringSpocName=hiringcustomerspoc_result[0].Hiring_SPOC.Title +"#"+ HiringSpocEmail +"#"+ hiringcustomerspoc_result[0].Phone_Number;
							}
						}
						
					}
				}	
			}

            $("#ddlemploymenttype").change(function(e) {

                $('#erremploymenttype').css('display', 'none');
            });


            $("#ddlemptypey").change(function(e) {

                $('#erremploymentsubtype').css('display', 'none');
            });


            $("#ddlprimaryskill").change(function(e) {

                $('#errprimaryskill').css('display', 'none');
            });


            $("#txtjobsummary").keyup(function(e) {

                $('#errjobsummary').css('display', 'none');
            });


            $("#txtjobdescription").keyup(function(e) {

                $('#errjobdescription').css('display', 'none');
            });

            $("#ddlemployeerole").change(function(e) {
                $('#erremployeerole').css('display', 'none');
				$('#txtrequirementenddate').val('');
                if ($('#ddlemployeerole option:selected').text() != "Billable" && $('#ddlemployeerole option:selected').text() != "Billable Consultant") {
                    $("#btnsearch").prop("disabled", true);
                    $('input[name=clientinterview]').prop("disabled", true);
                    $('#txtinterviewrounds').prop("disabled", true);
					$("#rdbyes").prop('checked', false);
					$("#rdbno").prop('checked', true);
                    resourcenameRMO = "";
                } else {
                    $("#btnsearch").prop("disabled", false);
                    $('input[name=clientinterview]').prop("disabled", false);
                    $('#txtinterviewrounds').prop("disabled", false);
					$("#rdbyes").prop('checked', false);
					$("#rdbno").prop('checked', false);
                }
				//var roleurl=_api/RRFMaster?$filter=(Type%20eq%20%27RoleBand%27)&$orderby=Value%20asc
				var urlvacancy =site_url +"_api/RRFMaster?$filter=(Type eq 'RoleBand')&$orderby=Value asc";
				var result = resultset(urlvacancy);
				if($('#ddlemployeerole option:selected').text()=="Senior Management")
				{
					
					$("#ddlroleband").empty();
					$("#ddlroleband").append(new Option("Select", 0));
					for(var i=0;i<result.length;i++)
					{
					var roleband=result[i].Value
					
						if(roleband.indexOf("1")>0 || roleband.indexOf("2")>0)
						{
							$("#ddlroleband").append($('<option></option>').text(result[i].Value));
						}
					}
				}
				else{
					$("#ddlroleband").empty();
					$("#ddlroleband").append(new Option("Select", 0));
					for(var i=0;i<result.length;i++)
					{
					var roleband=result[i].Value
					
						if(roleband.indexOf("1")>0 || roleband.indexOf("2")>0)
						{
							
						}
						else
						{
							$("#ddlroleband").append($('<option></option>').text(result[i].Value));
						}
					}
				
				}
				if($('#ddlemployeerole option:selected').text()=="Senior Management" || $('#ddlemployeerole option:selected').text()=="Investment" || $('#ddlemployeerole option:selected').text()=="SG&A")
				{
					
					$('#ddlclientrate').prop("disabled", true);
					$('#txtclientrate').prop("disabled", true);
					 $('#spanclientrate').hide();
				}
				else
				{  
					$('#spanclientrate').show();
					$('#ddlclientrate').prop("disabled", false);
					$('#txtclientrate').prop("disabled", false);
				}

            });
			$("#rdbyes").change(function(e) {
               
				$('#txtinterviewrounds').prop("disabled", false);
            });
			$("#rdbno").change(function(e) {
               
				$('#txtinterviewrounds').prop("disabled", true);
            });
			

            $("#ddlroleband").change(function(e) {
                if (($('#ddlemployeerole option:selected').text() != "Billable Consultant" && $('#ddlemployeerole option:selected').text() != "Billable") && $('#ddlemployeerole option:selected').text() != "Select") {
                    $("#btnsearch").prop("disabled", true);
                } else if ($('#ddlemployeerole option:selected').text() == "Select" || $('#ddlemployeerole option:selected').text() == "Billable" || $('#ddlemployeerole option:selected').text() == "Billable Consultant") {
                    $("#btnsearch").prop("disabled", false);
                }
                // $("#btnsearch").prop("disabled", false);
                $('#errroleband').css('display', 'none');
                var entity = $('#ddlentity option:selected').text();
                if (entity != "Select") {
                    var roleband = $('#ddlroleband option:selected').text();
                    var url = site_url + "_api/RRFMaster?$filter=(Entity eq '" + entity + "') and (Code eq '" + roleband + "')";
                    var result = resultset(url);
                    if (result.length > 0) {
                        if (result[0].Type == "SalaryRangeValue") {
                            var salaryrangevalue = result[0].Value;

                            salaryrangevalue = salaryrangevalue.split("-");
                            $("#txtminsalaryrange").val(salaryrangevalue[0]);
                            $("#txtmaxsalaryrange").val(salaryrangevalue[1]);
                        }
                    } else {
                        $("#txtminsalaryrange").val("");
                        $("#txtmaxsalaryrange").val("");
                    }
                }
                $("#ddldesignation").empty();
                $("#ddldesignation").append(new Option("Select", 0));
                var roleband = $('#ddlroleband option:selected').text();

                var url = site_url + "_api/RRFMaster?$filter=(Type eq 'Roles-DesignationMapping') and (Code eq '" + roleband + "')";
                var rolebandresult = resultset(url);
                if (rolebandresult.length > 0) {
                    //$("#ddldesignation").val(rolebandresult[0].Value)
                    for (var index = 0; index < rolebandresult.length; index++) {
                        $("#ddldesignation").append($('<option></option>').text(rolebandresult[index].Value));
                    }

                }

            });


            $("#ddlpositiontype").change(function(e) {

                $('#errpositiontype').css('display', 'none');
            });


            $(document).on('keyup', '#txtrequirementpercentage', function(event) {
                $('#errrequirementpercentage').css('display', 'none');
                var input = event.currentTarget.value;

                if (input.search(/^0/) != -1) {
                    $('#errzeroreqpercentage').css('display', 'block');
                    $("#txtrequirementpercentage").val('');
                } else {
                    $('#errzeroreqpercentage').css('display', 'none');
                }
            });
			$(document).on('keyup', '#txtinterviewrounds', function(event) {
                $('#errinterviewrounds').css('display', 'none');
                var input = event.currentTarget.value;

                if (input.search(/^0/) != -1) {
                    $('#errintervwzeroreqpercentage').css('display', 'block');
                    $("#txtinterviewrounds").val('');
                } else {
                    $('#errintervwzeroreqpercentage').css('display', 'none');
                }
            });


            //    $("#txtrequirementpercentage").keyup(function (e) {
            //
            //        $('#errrequirementpercentage').css('display', 'none');
            //		var myLength = $("#txtrequirementpercentage").val().length;
            //    if(myLength == 1) //To check only when entering first character.
            //    {
            //        if($(this).val() === '0')
            //        {
            //			$('#errzeroreqpercentage').css('display', 'block');
            //            $(this).val('');
            //        }
            //		else{
            //			$('#errzeroreqpercentage').css('display', 'none');
            //		}
            //	}
            //		
            //    });

            $("#ddlreportngto").keyup(function(e) {

                $('#errreportingto').css('display', 'none');
                $('#errreportingtoinvalid').css('display', 'none');
            });



            //new  
            $("#ddlminrelevantexp").change(function(e) {

                $('#errminrelevantexp').css('display', 'none');
            });

            $("#ddlnatureofvacancy").change(function(e) {

                $('#errnatureofvacancy').css('display', 'none');
            });

            $("#ddlreplacementfor").change(function(e) {
                $('#errreplacementfor').css('display', 'none');
            });

            //new
            $("#ddlsalaryrange").change(function(e) {

                $('#errsalaryrange').css('display', 'none');
            });


            $(document).on('keyup', '#txtminsalaryrange', function(event) {
                $('#errminsalaryrange').css('display', 'none');
                var input = event.currentTarget.value;

                if (input.search(/^0/) != -1) {
                    $('#errzerominsalary').css('display', 'block');
                    $("#txtminsalaryrange").val('');
                } else {
                    $('#errzerominsalary').css('display', 'none');
                }
            });

            $(document).on('keyup', '#txtmaxsalaryrange', function(event) {
                $('#errmaxsalaryrange').css('display', 'none');
                var input = event.currentTarget.value;

                if (input.search(/^0/) != -1) {
                    $('#errzeromaxsalary').css('display', 'block');
                    $("#txtmaxsalaryrange").val('');
                } else {
                    $('#errzeromaxsalary').css('display', 'none');
                }
            });


            $("#txtmaxsalaryrange").blur(function() {
                var minsalaryvalue = $("#txtminsalaryrange").val();
                var minsalaryvalue = parseInt(minsalaryvalue) + 1;
                var maxsalaryvalue = $("#txtmaxsalaryrange").val();
                if (maxsalaryvalue < minsalaryvalue) {
                    $('#errmaxsalary').css('display', 'block');

                } else {
                    $('#errmaxsalary').css('display', 'none');
                }
            });

            $("input[name$='clientinterview']").click(function() {
                rdbclientinterviewType = $('input[name=clientinterview]:checked').val();
                $('#errclientinterviewrequired').css('display', 'none');
                $('#errinterviewrounds').css('display', 'none');
				if(($("input[name='clientinterview']:checked").val() == "Yes"))
				{
					$('#interview_rounds').show();
					$("#txtinterviewrounds").val("");
				}
				else if(($("input[name='clientinterview']:checked").val() == "No"))
				{
					$('#interview_rounds').hide();
					$("#txtinterviewrounds").val("");
				}
            });

            $('#divReportingTo').on("click", function() {
                $('#errreportingto').css('display', 'none');
                $('#errreportingtoinvalid').css('display', 'none');
            });

            function HideValidationMsg() {
				$('#errinterviewrounds').css('display', '');
                $('#errcustomer').css('display', '');
                $('#errreclientpartner').css('display', '');
                $('#errprojectname').css('display', '');
                $('#errentity').css('display', '');
                $('#errsubpractice').css('display', '');
                $('#errCostCenter').css('display', '');
                $('#errrequirementtype').css('display', '');
                $('#errclientrate').css('display', '');
                $('#errclientrateperday').css('display', '');
                $('#erremployeerole').css('display', '');
                $('#errdesignation').css('display', '');
                $('#errroleband').css('display', '');
                $('#erremploymenttype').css('display', '');
                $('#erremploymentsubtype').css('display', '');
                $('#errpositiontype').css('display', '');
                $('#errrequirementpercentage').css('display', '');
                $('#errrequirementstartdate').css('display', '');
                $('#newerrrequirementstartdate').css('display', '');
                $('#errrequirementenddate').css('display', '');
                $('#errprimaryskill').css('display', '');
                $('#errclientinterviewrequired').css('display', '');
                $('#errindustryexp').css('display', '');
                $('#errminrelevantexp').css('display', '');
                $('#errnatureofvacancy').css('display', '');
                $('#errreplacementfor').css('display', '');
                $('#errsalaryrange').css('display', '');
                $('#errminsalaryrange').css('display', '');
                $('#errmaxsalaryrange').css('display', '');
                $('#errworklocation').css('display', '');
                $('#errbaselocation').css('display', '');
                $('#errjobdescription').css('display', '');
                $('#errreportingtoinvalid').css('display', '');
            }

            /* Validation code on Submit button */
            function validate() {
                TempVar = "1";

                if ($('#ddlprojectname option:selected').text() == "Select" || $('#ddlprojectname option:selected').text() == "") {
                    $('#errprojectname').css('display', 'block');
                    $("#collapseOne").collapse('hide');
                    return false;
                } else if ($('#txtcustomer').val() == "" || $('#txtcustomer').val() == null || $('#txtcustomer').val() == undefined || $('#txtcustomer').val() == "NA") {
                    $('#errcustomer').css('display', 'block');
                    $("#collapseOne").collapse('hide');
                    return false;
                } else if ($('#ddlentity option:selected').text() == "Select" || $('#ddlentity option:selected').text() == "") {
                    $('#errentity').css('display', 'block');
                    $("#collapseOne").collapse('hide');
                    return false;
                }
				else if ($('#ddlbaselocation option:selected').text() == "Select" || $('#ddlbaselocation option:selected').text() == "" || $("#ddloffshare").val()=="0" || $("#ddloffshare").val()=="") {
                    $('#errbaselocation').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                }				
				
				else if ($('#ddlsubpractice option:selected').text() == "Select" || $('#ddlsubpractice option:selected').text() == "") {
                    $('#errsubpractice').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                } else if ($('#ddlcostcenter option:selected').text() == "Select" || $('#ddlcostcenter option:selected').text() == "" || $('#ddlcostcenter option:selected').text() == undefined || $('#ddlcostcenter option:selected').text() == null) {
                    $('#errCostCenter').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                }  else if ($('#txtworklocation').val() == "") {
                    $('#errworklocation').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                } else if ($('#ddlprimaryskill option:selected').text() == "Select" || $('#ddlprimaryskill option:selected').text() == "") {
                    $('#errprimaryskill').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                } else if ($('#ddlemployeerole option:selected').text() == "Select" || $('#ddlemployeerole option:selected').text() == "") {
                    bindsecondaccdata();
                    $('#erremployeerole').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                } else if ($('#ddlroleband option:selected').text() == "Select" || $('#ddlroleband option:selected').text() == "") {
                    $('#errroleband').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                } else if ($('#ddldesignation option:selected').text() == "Select" || $('#ddldesignation option:selected').text() == "") {
                    $('#errdesignation').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                } else if ($('#ddlemploymenttype option:selected').text() == "Select" || $('#ddlemploymenttype option:selected').text() == "") {
                    $('#erremploymenttype').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                } else if ($('#ddlemptypey option:selected').text() == "Select" || $('#ddlemptypey option:selected').text() == "") {
                    $('#erremploymentsubtype').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                } else if ($('#ddlpositiontype option:selected').text() == "Select" || $('#ddlpositiontype option:selected').text() == "") {
                    $('#errpositiontype').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                } else if ($('#txtrequirementpercentage').val() == "") {
                    $('#errrequirementpercentage').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                } else if ($('#txtrequirementstartdate').val() == "") {
                    $('#errrequirementstartdate').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                } else if ($('#txtrequirementenddate').val() == "") {
                    $('#errrequirementenddate').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                } 
				else if (($('#ddlclientrate option:selected').text() == "Select" || $('#ddlclientrate option:selected').text() == "") && (($('#ddlemployeerole option:selected').text()=="Billable Consultant") || ($('#ddlemployeerole option:selected').text()=="Intern"))) {
                    $('#errclientrate').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                } 
				var value = $("#ddlprojectname option:selected").attr('data-value');
				if(value==undefined || value=="undefined")
				{
				  value=resultRRF[0].ProjectGUID;
				}
				var url = site_url + "_api/Projects?$select=ProjectName,ProjectId,ProjectCode,BenchProjects,ProjectOwnerId,CustomerName,GBU,FinanceTeam,ClientPartner,RMOSPOC,ProjectOwnerName,ProjectStartDate,ProjectFinishDate&$filter=ProjectId eq (guid'" + value + "')";
				var result = resultset(url);
				var BenchProjects = result[0].BenchProjects; 
					
				if ((BenchProjects!=true) && ($('#txtclientrate').val() == "") && (($('#ddlemployeerole option:selected').text()=="Billable Consultant") || ($('#ddlemployeerole option:selected').text()=="Intern"))) {
                  
					
					$('#errclientrateperday').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                } 
				else if ($('#ddlsalaryrange option:selected').text() == "Select" || $('#ddlsalaryrange option:selected').text() == "") {
                    $('#errsalaryrange').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                } else if ($('#txtminsalaryrange').val() == "") {
                    $('#errminsalaryrange').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                } else if ($('#txtmaxsalaryrange').val() == "") {
                    $('#errmaxsalaryrange').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                } else if ($('#ddlindustryexperiance option:selected').text() == "Select" || $('#ddlindustryexperiance option:selected').text() == "") {
                    $('#errindustryexp').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                } else if ($('#ddlminrelevantexp option:selected').text() == "Select" || $('#ddlminrelevantexp option:selected').text() == "") {
                    $('#errminrelevantexp').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                } else if ($('#ddlnatureofvacancy option:selected').text() == "Select" && $('#rdbexisting').is(':checked')) {
                    $('#errnatureofvacancy').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                } else if ($('#ddlreplacementfor option:selected').text() == "Select" && $('#ddlnatureofvacancy option:selected').text() != "New"&& $('#ddlnatureofvacancy option:selected').text() != "Campus"  && $('#ddlnatureofvacancy option:selected').text() != "Proactive" && $('#rdbexisting').is(':checked')) {

                    $('#errreplacementfor').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;

                }
                if ($("#divReportingTo_TopSpan_HiddenInput").val() == "" || $("#divReportingTo_TopSpan_HiddenInput").val() == "[]") {
                    $('#errreportingtoinvalid').css('display', 'none');
                    $('#errreportingto').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                } 
				else if (!$('#rdbyes').is(':checked') && !$('#rdbno').is(':checked')) {
                    $('#errclientinterviewrequired').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                } 
				else if ($("input[name='clientinterview']:checked").val() == "Yes" && $("#txtinterviewrounds").val()=="") {
					$('#errinterviewrounds').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
				}
				else if ($('#txtjobdescription').val() == "") {
                    $('#errjobdescription').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    $('.loader').hide();
                    return false;
                }

                bindthirdaccdata();
                if ($("input[name='projectstatus']:checked").val() == "Existing") {
                    if ($('#txtclientpartner').val() == "" || $('#txtclientpartner').val() == null || $('#txtclientpartner').val() == undefined || $('#txtclientpartner').val() == "NA") {
                        $('#errreclientpartner').css('display', 'block');
                        $("#collapseTwo").collapse('show');
                        $("#collapseOne").collapse('hide');

                        return false;
                    }
                }
                if ($('#txtprojectmanager').val() == "" || $('#txtprojectmanager').val() == null || $('#txtprojectmanager').val() == undefined || $('#txtprojectmanager').val() == "NA") {
                    $('#errorprojectmanager').css('display', 'block');
                    $("#collapseTwo").collapse('show');
                    $("#collapseOne").collapse('hide');
                    return false;
                }
                if ($('#txtfpaapprover').val() == "" || $('#txtfpaapprover').val() == null || $('#txtfpaapprover').val() == undefined || $('#txtfpaapprover').val() == "NA") {
                    $('#errorfpnaapprover').css('display', 'block');
                    $("#collapseTwo").collapse('show');
                    $("#collapseOne").collapse('hide');
                    return false;
                }
                if ($('#txtrmospoc').val() == "" || $('#txtrmospoc').val() == null || $('#txtrmospoc').val() == undefined || $('#txtrmospoc').val() == "NA") {
                    $('#errorrmospoc').css('display', 'block');
                    $("#collapseTwo").collapse('show');
                    $("#collapseOne").collapse('hide');
                    return false;
                }
				if ($('#txthspoc').val() == "" || $('#txthspoc').val() == null || $('#txthspoc').val() == undefined || $('#txthspoc').val() == "NA") {
                    $('#errhspoc').css('display', 'block');
                    $("#collapseTwo").collapse('show');
                    $("#collapseOne").collapse('hide');
                    return false;
                }
				

                if ($('#txtrequirementstartdate').val() != "") {
                    if (StartDate_ConfirmationValue == 0) {
                        var rstart_date = $('#txtrequirementstartdate').val();
                        rstart_date = new Date(rstart_date);
                        rstart_date = Date.parse(rstart_date);
                        var Curr_Date = new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate());
                        //var Curr_Date=new Date();
                        Curr_Date = Date.parse(Curr_Date);
                        if (rstart_date < Curr_Date) {
                            $('#newerrrequirementstartdate').css('display', 'block');
                            $("#collapseOne").collapse('show');
                            $("#collapseTwo").collapse('hide');

                            return false;
                        }
                    }

                }

                if ($("#divReportingTo_TopSpan_HiddenInput").val() != "" || $("#divReportingTo_TopSpan_HiddenInput").val() != "[]") {
                    var loginName = $("span.ms-entity-resolved").attr("ID");
                    if (TempVar2 != "2") {
                        if (loginName != undefined && loginName != "undefined") {
                            if (loginName.indexOf('|') > 0) {
                                var start = loginName.indexOf(":");
                                var end = loginName.indexOf("_Processed");
                                var finalUserName = loginName.substring(start - 1, end);
                                if (finalUserName.indexOf('|') > 0) {
                                    var NewUser = $("#divReportingTo").getUserInfo();
                                    reportingtouserid = GetUserIdByLogin(finalUserName);
                                } else {
                                    $('#errreportingtoinvalid').css('display', 'block');
                                    $("#collapseOne").collapse('show');
                                    $("#collapseTwo").collapse('hide');
                                    return false;
                                }
                            } else {
                                $('#errreportingtoinvalid').css('display', 'block');
                                $("#collapseOne").collapse('show');
                                $("#collapseTwo").collapse('hide');
                                return false;
                            }
                        } else {
                            $('#errreportingtoinvalid').css('display', 'block');
                            $("#collapseOne").collapse('show');
                            $("#collapseTwo").collapse('hide');
                            return false;
                        }
                    }
                }
                // $('.loader').hide();
                return true;
            }


            function validateColneData() {
                if ($('#ddlprojectname option:selected').text() == "Select" || $('#ddlprojectname option:selected').text() == "") {
                    $('#errprojectname').css('display', 'block');
                    $("#collapseOne").collapse('hide');
                    return false;
                } else if ($('#txtcustomer').val() == "" || $('#txtcustomer').val() == null || $('#txtcustomer').val() == undefined || $('#txtcustomer').val() == "NA") {
                    $('#errcustomer').css('display', 'block');
                    $("#collapseOne").collapse('hide');
                    return false;
                } else if ($('#ddlentity option:selected').text() == "Select" || $('#ddlentity option:selected').text() == "") {
                    $('#errentity').css('display', 'block');
                    $("#collapseOne").collapse('hide');
                    return false;
                }
				else if ($('#ddlbaselocation option:selected').text() == "Select" || $('#ddlbaselocation option:selected').text() == "" || $("#ddloffshare").val()=="0" || $("#ddloffshare").val()=="") {
                    $('#errbaselocation').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                }				
				
				else if ($('#ddlsubpractice option:selected').text() == "Select" || $('#ddlsubpractice option:selected').text() == "") {
                    $('#errsubpractice').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                } else if ($('#ddlcostcenter option:selected').text() == "Select" || $('#ddlcostcenter option:selected').text() == "" || $('#ddlcostcenter option:selected').text() == undefined || $('#ddlcostcenter option:selected').text() == null) {
                    $('#errCostCenter').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                }  else if ($('#txtworklocation').val() == "") {
                    $('#errworklocation').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                } else if ($('#ddlprimaryskill option:selected').text() == "Select" || $('#ddlprimaryskill option:selected').text() == "") {
                    $('#errprimaryskill').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                } else if ($('#ddlemployeerole option:selected').text() == "Select" || $('#ddlemployeerole option:selected').text() == "") {
                    bindsecondaccdata();
                    $('#erremployeerole').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                } else if ($('#ddlroleband option:selected').text() == "Select" || $('#ddlroleband option:selected').text() == "") {
                    $('#errroleband').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                } else if ($('#ddldesignation option:selected').text() == "Select" || $('#ddldesignation option:selected').text() == "") {
                    $('#errdesignation').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                } else if ($('#ddlemploymenttype option:selected').text() == "Select" || $('#ddlemploymenttype option:selected').text() == "") {
                    $('#erremploymenttype').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                } else if ($('#ddlemptypey option:selected').text() == "Select" || $('#ddlemptypey option:selected').text() == "") {
                    $('#erremploymentsubtype').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                } else if ($('#ddlpositiontype option:selected').text() == "Select" || $('#ddlpositiontype option:selected').text() == "") {
                    $('#errpositiontype').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                } else if ($('#txtrequirementpercentage').val() == "") {
                    $('#errrequirementpercentage').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                } else if ($('#txtrequirementstartdate').val() == "") {
                    $('#errrequirementstartdate').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                } else if ($('#txtrequirementenddate').val() == "") {
                    $('#errrequirementenddate').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                } 
				else if (($('#ddlclientrate option:selected').text() == "Select" || $('#ddlclientrate option:selected').text() == "") && (($('#ddlemployeerole option:selected').text()=="Billable Consultant") || ($('#ddlemployeerole option:selected').text()=="Intern"))) {
                    $('#errclientrate').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                } 
				var value = $("#ddlprojectname option:selected").attr('data-value');
				if(value==undefined || value=="undefined")
				{
				  value=resultRRF[0].ProjectGUID;
				}
				var url = site_url + "_api/Projects?$select=ProjectName,ProjectId,ProjectCode,BenchProjects,ProjectOwnerId,CustomerName,GBU,FinanceTeam,ClientPartner,RMOSPOC,ProjectOwnerName,ProjectStartDate,ProjectFinishDate&$filter=ProjectId eq (guid'" + value + "')";
				var result = resultset(url);
				var BenchProjects = result[0].BenchProjects; 
					
				if ((BenchProjects!=true) && ($('#txtclientrate').val() == "") && (($('#ddlemployeerole option:selected').text()=="Billable Consultant") || ($('#ddlemployeerole option:selected').text()=="Intern"))) {
                  
					
					$('#errclientrateperday').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                } 
				else if ($('#ddlsalaryrange option:selected').text() == "Select" || $('#ddlsalaryrange option:selected').text() == "") {
                    $('#errsalaryrange').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                } else if ($('#txtminsalaryrange').val() == "") {
                    $('#errminsalaryrange').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                } else if ($('#txtmaxsalaryrange').val() == "") {
                    $('#errmaxsalaryrange').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                } else if ($('#ddlindustryexperiance option:selected').text() == "Select" || $('#ddlindustryexperiance option:selected').text() == "") {
                    $('#errindustryexp').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                } else if ($('#ddlminrelevantexp option:selected').text() == "Select" || $('#ddlminrelevantexp option:selected').text() == "") {
                    $('#errminrelevantexp').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                } else if ($('#ddlnatureofvacancy option:selected').text() == "Select" && $('#rdbexisting').is(':checked')) {
                    $('#errnatureofvacancy').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                } else if ($('#ddlreplacementfor option:selected').text() == "Select" && $('#ddlnatureofvacancy option:selected').text() != "New" && $('#ddlnatureofvacancy option:selected').text() != "Campus" && $('#ddlnatureofvacancy option:selected').text() != "Proactive" && $('#rdbexisting').is(':checked')) {

                    $('#errreplacementfor').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;

                }
                if ($("#divReportingTo_TopSpan_HiddenInput").val() == "" || $("#divReportingTo_TopSpan_HiddenInput").val() == "[]") {
                    $('#errreportingtoinvalid').css('display', 'none');
                    $('#errreportingto').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                } 
				else if (!$('#rdbyes').is(':checked') && !$('#rdbno').is(':checked')) {
                    $('#errclientinterviewrequired').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
                } 
				else if ($("input[name='clientinterview']:checked").val() == "Yes" && $("#txtinterviewrounds").val()=="") {
					$('#errinterviewrounds').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    return false;
				}
				else if ($('#txtjobdescription').val() == "") {
                    $('#errjobdescription').css('display', 'block');
                    $("#collapseOne").collapse('show');
                    $("#collapseTwo").collapse('hide');
                    $('.loader').hide();
                    return false;
                }

                bindthirdaccdata();
                if ($("input[name='projectstatus']:checked").val() == "Existing") {
                    if ($('#txtclientpartner').val() == "" || $('#txtclientpartner').val() == null || $('#txtclientpartner').val() == undefined || $('#txtclientpartner').val() == "NA") {
                        $('#errreclientpartner').css('display', 'block');
                        $("#collapseTwo").collapse('show');
                        $("#collapseOne").collapse('hide');

                        return false;
                    }
                }
                if ($('#txtprojectmanager').val() == "" || $('#txtprojectmanager').val() == null || $('#txtprojectmanager').val() == undefined || $('#txtprojectmanager').val() == "NA") {
                    $('#errorprojectmanager').css('display', 'block');
                    $("#collapseTwo").collapse('show');
                    $("#collapseOne").collapse('hide');
                    return false;
                }
                if ($('#txtfpaapprover').val() == "" || $('#txtfpaapprover').val() == null || $('#txtfpaapprover').val() == undefined || $('#txtfpaapprover').val() == "NA") {
                    $('#errorfpnaapprover').css('display', 'block');
                    $("#collapseTwo").collapse('show');
                    $("#collapseOne").collapse('hide');
                    return false;
                }
                if ($('#txtrmospoc').val() == "" || $('#txtrmospoc').val() == null || $('#txtrmospoc').val() == undefined || $('#txtrmospoc').val() == "NA") {
                    $('#errorrmospoc').css('display', 'block');
                    $("#collapseTwo").collapse('show');
                    $("#collapseOne").collapse('hide');
                    return false;
                }
				if ($('#txthspoc').val() == "" || $('#txthspoc').val() == null || $('#txthspoc').val() == undefined || $('#txthspoc').val() == "NA") {
                    $('#errhspoc').css('display', 'block');
                    $("#collapseTwo").collapse('show');
                    $("#collapseOne").collapse('hide');
                    return false;
                }
				

                <!-- if ($('#txtrequirementstartdate').val() != "") { -->
                    <!-- if (StartDate_ConfirmationValue == 0) { -->
                        <!-- var rstart_date = $('#txtrequirementstartdate').val(); -->
                        <!-- rstart_date = new Date(rstart_date); -->
                        <!-- rstart_date = Date.parse(rstart_date); -->
                        <!-- var Curr_Date = new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate()); -->
                        <!-- //var Curr_Date=new Date(); -->
                        <!-- Curr_Date = Date.parse(Curr_Date); -->
                        <!-- if (rstart_date < Curr_Date) { -->
                            <!-- $('#newerrrequirementstartdate').css('display', 'block'); -->
                            <!-- $("#collapseOne").collapse('show'); -->
                            <!-- $("#collapseTwo").collapse('hide'); -->

                            <!-- return false; -->
                        <!-- } -->
                    <!-- } -->

                <!-- } -->

                if ($("#divReportingTo_TopSpan_HiddenInput").val() != "" || $("#divReportingTo_TopSpan_HiddenInput").val() != "[]") {
                    var loginName = $("span.ms-entity-resolved").attr("ID");
                    if (TempVar2 != "2") {
                        if (loginName != undefined && loginName != "undefined") {
                            if (loginName.indexOf('|') > 0) {
                                var start = loginName.indexOf(":");
                                var end = loginName.indexOf("_Processed");
                                var finalUserName = loginName.substring(start - 1, end);
                                if (finalUserName.indexOf('|') > 0) {
                                    var NewUser = $("#divReportingTo").getUserInfo();
                                    reportingtouserid = GetUserIdByLogin(finalUserName);
                                } else {
                                    $('#errreportingtoinvalid').css('display', 'block');
                                    $("#collapseOne").collapse('show');
                                    $("#collapseTwo").collapse('hide');
                                    return false;
                                }
                            } else {
                                $('#errreportingtoinvalid').css('display', 'block');
                                $("#collapseOne").collapse('show');
                                $("#collapseTwo").collapse('hide');
                                return false;
                            }
                        } else {
                            $('#errreportingtoinvalid').css('display', 'block');
                            $("#collapseOne").collapse('show');
                            $("#collapseTwo").collapse('hide');
                            return false;
                        }
                    }
                }
                return true;
            }



            /*code to call insertRRFDetails function on save and submit button */
            function insertRRFDetails(docitemID) {
                var startdate;
                var enddate;
                var rrfcreateddate;
                var gbu = $("#txtgbu").val();
                if (pagerequestid == "1") {
                    $('input[name=projectstatus]').prop("disabled", true);
                    $("#projectname").prop("disabled", true);
                }
                if (rrfno != undefined || rrfno != null) {
                    id = resultRRF[0].ID;
                    rrfid = rrfno[0];
                    RRFItemId = rrfid;
                    //rrfcreateddate = resultRRF[0].RRFCreatedDate;
                } else {
                    var itemid;
                    var isinsert;
                    if (gbu.indexOf('&') > -1) {
                        gbu = gbu.replace('&', '%26');
                    }
                    var url = _spPageContextInfo.webAbsoluteUrl + "/_api/web/lists/GetByTitle('RRFGBUMAPPING')/Items?$select=GBUID &$filter=GBU eq '" + gbu + "'";
                    var gburesult = resultset(url);
                    //var urlRRF = _spPageContextInfo.webAbsoluteUrl + "/_api/web/lists/GetByTitle('RRF')/Items?$select=ID&$Top=1&$orderby=ID desc"
                    //var rrfresult = resultset(urlRRF);
                    rrfid = gburesult[0].GBUID;
                    var date = new Date();
                    rrfcreateddate = date;
                    var listItemId = docitemID; //rrfresult[0].Id;
                    var data1 = {
                        'RRFCreatedDate': rrfcreateddate
                    }

                    var result2 = insertOrUpdateRRF('RRF', isinsert, listItemId, data1);
					var CurrentYear = "";
					var NextYear = "";
					var monthdate = new Date();
					var cdate=monthdate.format("dd/MMM/yy");
					var months = {Jan: '10', Feb: '11', Mar: '12', Apr: '1', May: '2', Jun: '3',Jul: '4', Aug: '5', Sep: '6', Oct: '7', Nov: '8', Dec: '9'};
					var monthpart = cdate.split('/')[1];
					var month=months[monthpart];
					//var month = (date.getMonth() + 1);
					var year = date.getFullYear().toString().substr(-2);
					var getmonths = (date.getMonth() + 1);
					var financialYr = "";
					if (getmonths > 3) {
						var financialyear = parseInt(year) + 1;
						financialYr = year + financialyear;
						CurrentYear = date.getFullYear().toString();
						NextYear = (date.getFullYear() + 1).toString();
					}
					else {
						var financialyear = parseInt(year) - 1;
						financialYr = financialyear + year;
						CurrentYear = date.getFullYear().toString();
						NextYear = (date.getFullYear() - 1).toString();
					}
					if (month < 10) {
						month = "0" + month;
					}
				

                    var financilyear = financialYr + month;
                    id = docitemID; //rrfresult[0].ID;

                    //var urlRRFCount = _spPageContextInfo.webAbsoluteUrl + "/_api/web/lists/GetByTitle('RRF')/items?$Filter=(RRFCreatedDate gt datetime'" + CurrentYear + "-01-04T00:00:00') and (RRFCreatedDate lt datetime'" + NextYear + "-03-31T18:30:00')&$Top=100000";
                    //var rrfresultCount = resultset(urlRRFCount);
                    //var rrfid = rrfid + "-" + financilyear + "-" + (rrfresultCount.length + 1);
                    //RRFItemId = rrfid;
                    var rrfresultCount = getNewRFFGenratedNumber(docitemID);
                    var rrfid = rrfid + "-" + financilyear + "-" + (rrfresultCount);
                    RRFItemId = rrfid;

                }
                itemid = id;
                var TSItemId = itemid;
                isinsert = false;

                var infrastructure = "";
                $(':checkbox:checked').each(function(i) {
                    if (i == 0) {
                        infrastructure = $(this).val();
                    } else {
                        infrastructure = infrastructure + ";" + $(this).val();
                    }
                });
                if (($('#ddlemployeerole option:selected').text() != "Billable" && $('#ddlemployeerole option:selected').text() != "Billable Consultant") && $('#ddlemployeerole option:selected').text() != "Select" && $('#ddlemployeerole option:selected').text() != "") {
                    //var approverdetails = getProjectManagerEmail(projectownerGUID, gbu, id, projectguid);
                    //approverdetails = approverdetails.split("#");
                    approverid = clientpartneruserid; //approverdetails[0];
                    NonBillableFlag = 1;
                    // approverid=getApproverNames(gbu,id,projectguid);	  
                    getApproverNames(gbu, id, projectguid, parseInt(approverid));
                }

                if ($("#txtrequirementstartdate").val() == "") {
                    startdate = null;
                } else {
                    startdate = $("#txtrequirementstartdate").val();
                }

                if ($("#txtrequirementenddate").val() == "") {
                    enddate = null;
                } else {
                    enddate = $("#txtrequirementenddate").val();
                }
                if (TempVar2 == "" || TempVar3 == "1") {

                    if ($("#divReportingTo_TopSpan_HiddenInput").val() != "" && $("#divReportingTo_TopSpan_HiddenInput").val() != "[]") {

                        var loginName = $("span.ms-entity-resolved").attr("ID");
                        var start = loginName.indexOf(":");
                        var end = loginName.indexOf("_Processed");
                        var finalUserName = loginName.substring(start - 1, end);
                        var NewUser = $("#divReportingTo").getUserInfo();
                        reportingtouserid = GetUserIdByLogin(finalUserName);
                    } else {
                        reportingtouserid = -1;
                    }
                } else if (TempVar2 == "2") {
                    if ($("#divReportingTo_TopSpan_HiddenInput").val() != "" && $("#divReportingTo_TopSpan_HiddenInput").val() != "[]") {
                        var peoplePicker = this.SPClientPeoplePicker.SPClientPeoplePickerDict.divReportingTo_TopSpan;
                        var users = peoplePicker.GetAllUserInfo();
                        var keys = peoplePicker.GetAllUserKeys();
                        var finalusers = new Array();
                        for (var i = 0; i < users.length; i++) {
                            var arryuser = users[i];

                            var key = arryuser.Key;
                            if (key.indexOf("i:0#") == 0) {
                                reportingtouserid = GetUserIdByLogin(arryuser.Key);
                            } else {
                                var keyss = GetUseremailByLogin(arryuser.Key);
                                reportingtouserid = GetUserIdByLogin(keyss);
                            }
                        }
                    } else {
                        reportingtouserid = -1;
                    }
                }
                var Project_NameofRRF = "";
                if (rrfno != undefined || rrfno != null) {

                    Project_NameofRRF = document.getElementById("projectname").value;
                } else {
                    Project_NameofRRF = $('#ddlprojectname option:selected').text();
                }
				if(PageStatus=="RRF Saved")
				{
					var currentDate = "";
				}
                //$.extend(item, { TATDateTime: currentDate });  $.extend(item, { SubmittedDate: currentDate });
                if (PageStatus == "RMO Validation" || PageStatus == "Functional Head") {
				 
                    currentDate = new Date();
                    if (RRFPageFlag != "1") {
                        if (PageStatus == "RMO Validation") {
                            var To = rmospocuserid.toString();
                            var Cc = currentuserloginid + ";" + clientpartneruserid + ";" + "rmo@bcone.com";
                            var EventId = "25";
                            var Flag = "5";
                            var TrackingId = rrfid.toString();
                            insertIntoSendEmailData(To, Cc.toString(), EventId, Flag, TrackingId);
                            var otherCC = currentuserloginid + ";" + "rmo@bcone.com";
                            insertIntoSendEmailData(rmospocuserid.toString(), otherCC.toString(), "27", Flag, TrackingId);
                        } else if (PageStatus == "Functional Head") {
                            var NonApproversCC = NonApprovers.split(',');
                            var To = approverid.toString();
                            NonApproversCC = NonApproversCC[0] + ";" + NonApproversCC[1] + ";" + NonApproversCC[2] + ";" + NonApproversCC[3];
                            var Cc = currentuserloginid.toString() + ";" + NonApproversCC.toString() + ";" + "rmo@bcone.com";
                            var EventId = "59";
                            var Flag = "5";
                            var TrackingId = rrfid;
                            insertIntoSendEmailData(To, Cc, EventId, Flag, TrackingId);
                        }
                    }
                }
                if (currentDate == "") {
                    currentDate = null;
                }
                if (NonBillableFlag != null) {
                    NonBillableFlag = 1;
                }
                //var costcenterSelectedValue= $("#ddlcostcenter")
                if (Project_StartDate == "") {
                    Project_StartDate = null;
                }
                if (Project_EndDate == "") {
                    Project_EndDate = null;
                }
                if ($('input[name=projectstatus]:checked').val() == "New") {
					var value = $("#ddlprojectname option:selected").attr('data-value');
					if(value==undefined)
					{
						value=OpportunityProjectcode;
					}
					var url = _spPageContextInfo.webAbsoluteUrl + "/_api/web/lists/GetByTitle('Opportunity')/Items?$select=*,OpportunityOwner/Id,OpportunityOwner/EMail,OpportunityOwner/Title&$expand=OpportunityOwner&$filter=OpportunityID eq '" + value + "' and Status eq 'Open'";
                    var projresult = resultset(url);
                    var currentUserName_val = projresult[0].OpportunityOwner.Title;
                    var email_val = projresult[0].OpportunityOwner.EMail;
                    var currentuserRole_empID = GetCurrentUserRole(email_val);
					var currentuserRole = currentuserRole_empID.split(';')[0];
					var currentuser_EmployeeID = currentuserRole_empID.split(';')[1];
					epmloyeeID_val = currentuserRole_empID.split(';')[1];
					var projectmanagerUID = searchResourcefromResourcesUsingEmpid(epmloyeeID_val); //"https://ppmdev.bcone.com/_api/Resources?$select=ResourceId,ResourceEmailAddress&$filter=EmployeeID eq '" + rmoid + "'";
					var resultrmospoc = resultset(projectmanagerUID);
					var projuid = resultrmospoc[0].ResourceId;
                    projectmanageruid = currentUserName_val + ";" + epmloyeeID_val + "#" + email_val;
                    projectmanageruserid =  projresult[0].OpportunityOwner.Id;
                    projectownerGUID = projuid;
                }
                var TempNonApprovers = NonApprovers;
                if (NonApprovers != "" && NonApprovers != null && NonApprovers != undefined) {

                    TempNonApprovers = "," + NonApprovers + ",";
                }
                if (($('#ddlemployeerole option:selected').text() != "Billable" && $('#ddlemployeerole option:selected').text() != "Billable Consultant") && $('#ddlemployeerole option:selected').text() != "Select" && $('#ddlemployeerole option:selected').text() != "") {
                    var NonApproversupdate = NonApprovers.split(',');

                    // NonApproversupdate = NonApproversupdate[0] + ";" + NonApproversupdate[1] + ";" + NonApproversupdate[2] + ";" + NonApproversupdate[3];

                    if (PageStatus == "Functional Head") {
                        approverid = NonApproversupdate[0];
                    } else if (PageStatus == "FPNA") {
                        approverid = NonApproversupdate[1];
                    } else if (PageStatus == "Recruitment Head") {
                        approverid = NonApproversupdate[2];
                    } else if (PageStatus == "VPHR") {
                        approverid = NonApproversupdate[3];
                    }

                }
				var selSecondaryskills = $('#ddlsecondryskill  :selected');
				var seprator = ';', secondaryskills = '', status = '';
				selSecondaryskills.each(function (index, item) 
				{
					//secondaryskills += seprator + $(item).val();
					secondaryskills +=   $(item).val()+seprator;
				});
				secondaryskills = secondaryskills;
				if(secondaryskills.indexOf(';')>-1) //if it contains ; deleteing at end
				{
					secondaryskills = secondaryskills.slice(0, -1);
				}
                var data = {
                    'ProjectStatus': $('input[name=projectstatus]:checked').val(),
                    'RRFNO': rrfid,
                    'ProjectName': Project_NameofRRF,
                    'Status': PageStatus,
                    'OpportunityStatus': $("#txtoppertunitystatus").val(),
                    'Customer': $("#txtcustomer").val(),
                    'Entity': $('#ddlentity option:selected').text(),
                    'SubPractice': $('#ddlsubpractice option:selected').text(),
                    'Practice': $("#txtpractice").val(),
                    'GBU': $("#txtgbu").val(),
                    'ClientRateCurrancy': $('#ddlclientrate option:selected').text(),
                    'ClientRate': $("#txtclientrate").val(),
                    'Infrastructure': infrastructure,
                    'EmployeeRole': $('#ddlemployeerole option:selected').text(),
                    'Designation': $('#ddldesignation option:selected').text(),
                    'RoleBand': $('#ddlroleband option:selected').text(),
                    'EmployeeTypeId': $('#ddlemptypey option:selected').text(),
                    'PostingTimeTypeId': $('#ddlpositiontype option:selected').text(),
                    'StartDate': startdate,
                    'EndDate': enddate,
                    'RequirementPct': $("#txtrequirementpercentage").val(),
                    'ClientInterviewRequired': $('input[name=clientinterview]:checked').val(),
                    'NatureofVacancy': $('#ddlnatureofvacancy option:selected').text(),
                    'ReplacementFor': $('#ddlreplacementfor option:selected').text(),
                    'PrimarySkill': $('#ddlprimaryskill option:selected').text(),
                    'SecondarySkill': secondaryskills,
                    'Industry': $('#ddlindustry option:selected').text(),
                    'IndustryExp': $('#ddlindustryexperiance option:selected').text(),
                    'MinRelevantExp': $('#ddlminrelevantexp option:selected').text(),
                    'SalaryRangeCurrancy': $('#ddlsalaryrange option:selected').text(),
                    'SalaryRangeMinAmt': $("#txtminsalaryrange").val(),
                    'SalaryRangeMaxAmt': $("#txtmaxsalaryrange").val(),
                    'WorkLocation': $("#txtworklocation").val(),
                    'BaseLocation': $('#ddlbaselocation option:selected').text(),
                    'TypeofAssignment': $('#ddltypeofassignemnt option:selected').text(),
                    'DurationofOnsiteTravel': $('#txtdurationofonsitetravel option:selected').text(),
                    'WorkerType': $('#ddlemploymenttype option:selected').text(),
                    'ProjectGUID': projectguid,
                    'ReportingTo': reportingtouid,
                    'NonApprovers': TempNonApprovers,
                    'ProjectManager': projectmanageruid,
                    'FPAApprover': fpnauid,
                    'ClientPartner': clientpartneruid,
                    'RMOSpoc': rmospocuid,
                    'ProjectManagerUserId': projectmanageruserid,
                    'FPNAUserId': fpnauserid,
                    'ClientPartnerUserId': clientpartneruserid,
                    'RMOSPOCUserId': rmospocuserid,
                    'ReportingToUserId': reportingtouserid,
                    'PendingWithId': approverid,
                    'RRFCreatedDate': rrfcreateddate,
                    'DescriptionSummary': $("#txtjobsummary").val(),
                    'WorkDay': 1,
                    'ProjectCode': projectcode,
                    'NewAuthorId': currentuserloginid,
                    'JobDescriptionSummary': $("#txtjobdescription").val(),
                    'ProjectManagerGUID': projectownerGUID,
                    'NonBillableFlag': NonBillableFlag,
                    'CostCenter': $('#ddlcostcenter option:selected').text(),
                    'TATDateTime': currentDate,
                    'SubmittedDate': currentDate,
                    'ProjectStartDate': Project_StartDate,
                    'ProjectEndDate': Project_EndDate,
                    'EmailFlag': EmailFlag,
                    'Interview_x0020_Rounds': $("#txtinterviewrounds").val(),
                    'AdditionalComments': $("#txtadditional").val(),
                    'Hiring_x0020_SpocId': HiringSpocId,
                    'HiringSpocMail': HiringSpocName,
                    'Base_x0020_location': $("#ddloffshare option:selected").val()

                }




                var result = insertOrUpdateRRF('RRF', isinsert, itemid, data);


                var fileArray = [];
                $("#attachFilesContainer input:file").each(function() {
                    if ($(this)[0].files[0]) {
                        fileArray.push({
                            "Attachment": $(this)[0].files[0]
                        });

                    }
                });
                var total_numberoffile = 0;
                total_numberoffile = fileArray.length;
                if (total_numberoffile > 0) {
                    getAttchmentReason(rrfid);
                }


                if (resourcenameRMO != undefined && resourcenameRMO != "" && resourcenameRMO != null) {
                    var url = _spPageContextInfo.webAbsoluteUrl + "/_api/web/Lists/getbytitle('RMOResourceAllocation')/items?$filter=RRFNumber eq '" + rrfid + "'";
                    var resultresourceallocation = resultset(url);
                    if (resultresourceallocation.length > 0) {
                        var itemresourceid = resultresourceallocation[0].ID;
                        resourceinsert = false;

                    } else {
                        var itemresourceid = "";
                        resourceinsert = true;
                    }
                    var dataresourcealloc = {
                        'suggestedResource': resourcenameRMO,
                        'RRFNumber': rrfid,
                        'ShortlistedResource': resourcenameRMO
                    }
                    var result = insertOrUpdateResource('RMOResourceAllocation', resourceinsert, itemresourceid, dataresourcealloc);
                }

                if ((PageStatus == "RMO Validation" || PageStatus == "Functional Head") && Save_Flag != "1") {
                    var flag = "1";
                    var transctioninsert = true;
                    var itemid = "";

                    var datatransaction = {
                        'Flag': flag,
                        'LogType': "RRF Initiated",
                        'RRFListItemId': TSItemId.toString(),
                        'ProjectGUID': projectguid
                    }
                    var result = insertOrUpdateTransaction('RRFTransactionDetails', transctioninsert, TSItemId.toString(), datatransaction);
                } else if (Savelog == "1") {
                    var flag = "1";
                    var transctioninsert = true;
                    var itemid = "";

                    var datatransaction = {
                        'Flag': flag,
                        'LogType': "RRF Saved",
                        'RRFListItemId': TSItemId.toString(),
                        'ProjectGUID': projectguid
                    }
                    var result = insertOrUpdateTransaction('RRFTransactionDetails', transctioninsert, TSItemId.toString(), datatransaction);
                }


                //alert("RRF saved successfully");
                show_RRFSaved_alert(PageStatus);

            }


            function GetUserIdByLogin(sthname) {
                var uri = $("#divReportingTo").getUserInfo();
                var weblink = _spPageContextInfo.webServerRelativeUrl + "/_api/web/siteusers(@v)?@v='" + encodeURIComponent(sthname) + "'";
                var userid = null;
                $.ajax({
                    url: weblink,
                    async: false,
                    method: "GET",
                    headers: {
                        "Accept": "application/json; odata=verbose"
                    },
                    success: function(data) {
                        userid = data.d.Id;
                    },
                    error: function(data) {
                        alert("Error : " + data);
                    }
                });
                return userid;
            }

            function GetUseremailByLogin(email) {
                var uri = $("#divReportingTo").getUserInfo();
                var weblink1 = _spPageContextInfo.webServerRelativeUrl + "/_api/web/siteusers?$filter=Email eq '" + encodeURIComponent(email) + "'";
                var user_id = null;
                $.ajax({
                    url: weblink1,
                    async: false,
                    method: "GET",
                    headers: {
                        "Accept": "application/json; odata=verbose"
                    },
                    success: function(data) {
                        user_id = data.d.results[0].LoginName;
                    },
                    error: function(data) {
                        alert("Error : " + data);
                    }
                });
                return user_id;
            }


            /* Insert or Update ListItem By passing parameter 
            listName=Name of thr list
            insert=true/false
            ID=listItem ID
            data=Item which you want to insert or update*/
            function insertOrUpdateRRF(listName, insert, ID, data) {
                var Val = '';
                //var itemType = GetItemTypeForListName(listName);
                var item = $.extend({
                    "__metadata": {
                        "type": "SP.Data.RRFItem"
                    }


                }, data);
                var header;
                var Url;
                if (insert) {
                    Url = _spPageContextInfo.webAbsoluteUrl + "/_api/web/lists/getbytitle('" + listName + "')/items";
                    header = {
                        "Accept": "application/json;odata=verbose",
                        "X-RequestDigest": $("#__REQUESTDIGEST").val()
                    };
                } else {
                    Url = _spPageContextInfo.webAbsoluteUrl + "/_api/web/lists/getbytitle('" + listName + "')/items(" + ID + ")";
                    header = {
                        "Accept": "application/json;odata=verbose",
                        "X-RequestDigest": $("#__REQUESTDIGEST").val(),
                        "X-HTTP-Method": "MERGE",
                        "If-Match": "*"
                    };
                }
                $.ajax({
                    url: Url,
                    type: "POST",
                    async: false,
                    contentType: "application/json;odata=verbose",
                    data: JSON.stringify(item),
                    headers: header,
                    success: function(data) {
                        Val = 'success';
                    },
                    error: function(data) {
                        alert(' error inserting/updating dependencies RRF');
                        Val = 'error';
                    }
                });
                return Val;
            }

            /*End */

            /* Insert or Update ListItem By passing parameter 
            listName=Name of thr list
            insert=true/false
            ID=listItem ID
            data=Item which you want to insert or update*/
            function insertOrUpdateResource(listName, insert, ID, data) {
                var Val = '';
                //var itemType = GetItemTypeForListName(listName);
                var item = $.extend({
                    "__metadata": {
                        "type": "SP.Data.RMOResourceAllocationListItem"
                    }

                }, data);
                var header;
                var Url;
                if (insert) {
                    Url = _spPageContextInfo.webAbsoluteUrl + "/_api/web/lists/getbytitle('" + listName + "')/items";
                    header = {
                        "Accept": "application/json;odata=verbose",
                        "X-RequestDigest": $("#__REQUESTDIGEST").val()
                    };
                } else {
                    Url = _spPageContextInfo.webAbsoluteUrl + "/_api/web/lists/getbytitle('" + listName + "')/items(" + ID + ")";
                    header = {
                        "Accept": "application/json;odata=verbose",
                        "X-RequestDigest": $("#__REQUESTDIGEST").val(),
                        "X-HTTP-Method": "MERGE",
                        "If-Match": "*"
                    };
                }
                $.ajax({
                    url: Url,
                    type: "POST",
                    async: false,
                    contentType: "application/json;odata=verbose",
                    data: JSON.stringify(item),
                    headers: header,
                    success: function(data) {
                        Val = 'success';
                    },
                    error: function(data) {
                        alert(' error inserting/updating dependencies resources');
                        Val = 'error';
                    }
                });
                return Val;
            }

            /*End */

            /* Insert or Update ListItem By passing parameter 
            listName=Name of thr list
            insert=true/false
            ID=listItem ID
            data=Item which you want to insert or update*/
            function insertOrUpdateTransaction(listName, insert, ID, data) {
                var Val = '';
                //var itemType = GetItemTypeForListName(listName);
                var item = $.extend({
                    "__metadata": {
                        "type": "SP.Data.RRFTransactionDetailsListItem"
                    }

                }, data);
                var header;
                var Url;
                if (insert) {
                    Url = _spPageContextInfo.webAbsoluteUrl + "/_api/web/lists/getbytitle('" + listName + "')/items";
                    header = {
                        "Accept": "application/json;odata=verbose",
                        "X-RequestDigest": $("#__REQUESTDIGEST").val()
                    };
                } else {
                    Url = _spPageContextInfo.webAbsoluteUrl + "/_api/web/lists/getbytitle('" + listName + "')/items(" + ID + ")";
                    header = {
                        "Accept": "application/json;odata=verbose",
                        "X-RequestDigest": $("#__REQUESTDIGEST").val(),
                        "X-HTTP-Method": "MERGE",
                        "If-Match": "*"
                    };
                }
                $.ajax({
                    url: Url,
                    type: "POST",
                    async: false,
                    contentType: "application/json;odata=verbose",
                    data: JSON.stringify(item),
                    headers: header,
                    success: function(data) {
                        Val = 'success';
                    },
                    error: function(data) {
                        alert(' error inserting/updating dependencies transection');
                        Val = 'error';
                    }
                });
                return Val;
            }

            /*End */

            //Code to destroy jquery datatable 
            function destroyjs(tableid) {
                if ($.fn.dataTable.isDataTable(tableid)) {
                    $(tableid).DataTable({
                        "filter": false,
                        "destroy": true
                    });
                    $(tableid).DataTable().destroy();
                    $(tableid).html("");
                    $(tableid + " tbody tr").remove();
                }

            }


            function uploadDocument() {
                if (rrfno != undefined || rrfno != null) {
                    insertRRFDetails();
                } else if (pagerequestid == "") {
                    var sourceLib = 'RRFTemplate';
                    var destLib = 'RRF';
                    var projectname = $('#ddlprojectname option:selected').text();
                    var date = new Date();
                    date = date.getFullYear().toString().substr(-2) + (date.getMonth() + 1) + date.getDate() + date.getHours() + date.getMinutes() + date.getSeconds();
                    var context = new SP.ClientContext.get_current();
                    var web = context.get_web();
                    var folderSrc = web.getFolderByServerRelativeUrl(sourceLib);
                    context.load(folderSrc, 'Files');
                    context.executeQueryAsync(
                        function() {
                            var files = folderSrc.get_files();
                            var e = files.getEnumerator();
                            var dest = [];
                            while (e.moveNext()) {
                                var file = e.get_current();
                                var filename = file.get_name();
                                var ext = filename.substr(filename.lastIndexOf('.') + 1);
                                var finalfilename = projectname + date + '.' + ext;
                                var destLibUrl = destLib + "/" + finalfilename;
                                dest.push(destLibUrl); //delete this when we're happy we got the file paths right
                                file.copyTo(destLibUrl, true);
                            }
                            context.executeQueryAsync(function() {
                                console.log("Files moved successfully!");
                                pagerequestid = "1";
                                GetInsertedDocumentID(destLibUrl);
                                //insertRRFDetails();
                            }, function(sender, args) {
                                console.log("error: ") + args.get_message()
                            });
                        },
                        function(sender, args) {
                            console.log("Sorry, something messed up: " + args.get_message());
                        }
                    );
                } else if (pagerequestid == "1") {
                    // insertRRFDetails();
                }
            }

            function GetInsertedDocumentID(destLibUrl_val) {
                var new_url = "../_api/web/GetFolderByServerRelativeUrl('" + _spPageContextInfo.webServerRelativeUrl + "/" + destLibUrl_val + "')/ListItemAllFields";
                $.ajax({
                    url: new_url,
                    async: false,
                    method: "GET",
                    headers: {
                        "Accept": "application/json; odata=verbose"
                    },
                    success: function(data) {
                        console.log("List Title :" + data.d.ID);
                        var docitemID = data.d.ID;
                        insertRRFDetails(docitemID);
                    },
                    error: function(data) {
                        console.log(data);
                    }
                });
            }

            function getNewRFFGenratedNumber(id_List) {
                var RRFNew_LastNumber = "";
                var requestALLData = {
                    "ID": id_List
                };
                $.ajax({
                    url: site_url + "/api/rmo/GetUniqueID",
                    async: false,
                    method: "POST",
                    headers: {
                        "Accept": "application/json; odata=verbose"
                    },
                    data: requestALLData,
                    success: function(data) {
                        if (data.UniqueIDData.length > 0) {
                            RRFNew_LastNumber = data.UniqueIDData[0].RRFNO;
                        }
                    },
                    error: function(data) {
                        alert(JSON.stringify(data));

                    }
                });
                return RRFNew_LastNumber;
            }

            function getAttchmentReason(rrfid) {
                var context = SP.ClientContext.get_current(); //gets the current context
                var web = context.get_web(); //gets the web object
                var list = web.get_lists(); //gets the collection of lists
                var targetList = list.getByTitle("RRFSupportDocument");
                var itemCreation = new SP.ListItemCreationInformation();
                var FolderURL = getFolderURL();
                itemCreation.set_folderUrl(FolderURL); //URL of the folder
                itemCreation.set_underlyingObjectType(SP.FileSystemObjectType.folder);
                itemCreation.set_leafName(rrfid); // pass the id from the url
                var folderItem = targetList.addItem(itemCreation);
                folderItem.update();
                context.load(folderItem);
                context.executeQueryAsync(function(sender, arges) {
                        // RRFItemId = rrfid;
                        var dfd = $.Deferred();
                        var fileArray = [];
                        $("#attachFilesContainer input:file").each(function() {
                            if ($(this)[0].files[0]) {
                                fileArray.push({
                                    "Attachment": $(this)[0].files[0]
                                });
                            }
                        });
                        total_numberoffile = fileArray.length;

                        for (var b = 0; b < fileArray.length; b++) {
                            uploadfile(fileArray[b].Attachment, RRFItemId, RRFItemId);
                        }
                    },

                    function(sender, arges) {
                        var catcherr = arges.get_message();
                        if (catcherr.indexOf('already exists.')) {
                            //RRFItemId 
                            var dfd = $.Deferred();
                            var fileArray = [];
                            $("#attachFilesContainer input:file").each(function() {
                                if ($(this)[0].files[0]) {
                                    fileArray.push({
                                        "Attachment": $(this)[0].files[0]
                                    });
                                }
                            });
                            total_numberoffile = fileArray.length;
                            for (var b = 0; b < fileArray.length; b++) {
                                uploadfile(fileArray[b].Attachment, RRFItemId, rrfid);
                            }
                        } else {
                            alert(arges.get_message());
                            var Confirm = 1;
                            if (Confirm) {
                                window.location = window.location.href;
                            }
                        }

                    });
            }

            function uploadfile(file, RRFItemId, folder_name) {
                var url = getSiteURl(); //"https://bristleconeonline.sharepoint.com/sites/PPMUAT/";
                uploadFileLocal(file, RRFItemId, folder_name);
            }

            function uploadFileLocal(file, RRFItemId, folder_name) {
                var fileName = file.name;
                var reName = fileName.split(".")[0];
                var today = new Date();
                var date = today.getDate() + '-' + (today.getMonth() + 1) + '-' + today.getFullYear();
                var time = today.getHours() + "-" + today.getMinutes() + "-" + today.getSeconds();
                var dateTime = date + '_' + time;
                reName = reName + "_" + dateTime;
                reName = reName.replace("&", "and");
                var extension = fileName.split(".")[1];
                fileName = reName + "." + extension;
                var digest = jQuery("#__REQUESTDIGEST").val();
                var webUrl = _spPageContextInfo.webAbsoluteUrl;
                var NewItemID = folder_name;
                var reader = new FileReader();
                var arrayBuffer;
                reader.onload = function(e) {
                    arrayBuffer = reader.result;
                    //String.format("{0}/_api/web/GetFolderByServerRelativeUrl('..sites/PPMUAT/RRFSupportDocument/" + NewItemID + "')/Files/Add(url='{1}', overwrite=true)",_spPageContextInfo.webAbsoluteUrl, fileName);
                    url = getUploadFileURL(NewItemID, fileName); //String.format("{0}/_api/web/GetFolderByServerRelativeUrl('/sites/PPMUAT/RRFSupportDocument/" + NewItemID + "')/Files/Add(url='{1}', overwrite=true)",_spPageContextInfo.webAbsoluteUrl, fileName);
                    //JQuery Ajax call here
                    jQuery.ajax({
                        url: url,
                        type: "POST",
                        async: false,
                        data: arrayBuffer,
                        headers: {
                            "Accept": "application/json; odata=verbose",
                            "X-RequestDigest": digest
                        },
                        contentType: "application/json;odata=verbose",
                        processData: false,
                        success: function(data, status) {
                            console.log(data);
                            getItem(data.d, RRFItemId);
                        },
                        error: function(arr, error) {
                            alert('Error in uploading.');
                        }
                    });
                };
                reader.readAsArrayBuffer(file);

            }

            //Update RRF number against file

            function getItem(file, RRFItemId) {
                var call = jQuery.ajax({
                    url: file.ListItemAllFields.__deferred.uri,
                    type: "GET",
                    async: false,
                    dataType: "json",
                    headers: {
                        Accept: "application/json;odata=verbose"
                    },
                    success: function(data, status) {
                        console.log(data);
                        updateItemFields(data.d, RRFItemId);
                    },
                    error: function(arr, error) {
                        alert('Error in uploading.');

                    }
                });
                return call;
            }


            function updateItemFields(item, RRFItemId) {
                var call = jQuery.ajax({
                    url: _spPageContextInfo.webAbsoluteUrl +
                        "/_api/Web/Lists/getByTitle('RRFSupportDocument')/Items(" +
                        item.Id + ")",
                    type: "POST",
                    async: false,
                    data: JSON.stringify({
                        "__metadata": {
                            type: "SP.Data.RRFSupportDocumentItem"
                        },
                        RRFID: RRFItemId,
                    }),
                    headers: {
                        Accept: "application/json;odata=verbose",
                        "Content-Type": "application/json;odata=verbose",
                        "X-RequestDigest": jQuery("#__REQUESTDIGEST").val(),
                        "IF-MATCH": item.__metadata.etag,
                        "X-Http-Method": "MERGE"
                    },
                    success: function(data, status) {

                        //alert('file uploaded successfully');
                    },
                    error: function(arr, error) {
                        alert('Error in updating id..!!');
                    }
                });
            }


            function getURLParameters(paramName) {
                paramName = paramName.split(';');
                var sURL = window.document.URL.toString();
                if (sURL.indexOf("?") > 0) {
                    var arrParams = sURL.split("?");
                    var arrURLParams = arrParams[1].split("&");
                    var arrParamNames = new Array(arrURLParams.length);
                    var arrParamValues = [];

                    var i = 0;
                    for (i = 0; i < arrURLParams.length; i++) {
                        var sParam = arrURLParams[i].split("=");
                        if (sParam[0] == paramName[i]) {
                            if (sParam[1].indexOf('#') > 0) {
                                var parameter = sParam[1].split('#');
                                parameter = parameter[0];
                                arrParamValues.push(unescape(parameter));
                            } else {
                                arrParamValues.push(unescape(sParam[1]));
                            }
                        }
                    }
                    return arrParamValues;

                }
            }

            $(function() {
                // 2 jpgs under 100kb only
                $('.multi1').MultiFile({
                    onFileDuplicate: function(element, value, master_element) {
                        show_fileduplicate_alert('This file already selected.');
                    },
                    afterFileSelect: function(element, value, master_element) {
                        var result = value.substring(0, value.lastIndexOf("."));
                        var extension = value.substring(value.lastIndexOf(".") + 1);
                        if (!validation_dataFile(result)) {
                            show_fileduplicate_alert('File contain Invalid characters.');
                            $("#File_Control_div1 div a").last().trigger("click");
                        }

                        if (validation_dataFileExtension(extension)) {
                            show_fileduplicate_alert('File with this extension are not allowed.');
                            $("#File_Control_div1 div a").last().trigger("click");

                        }
                        var fileSize = master_element.files.size;
                        fileSize = Math.round((fileSize / 1024));
                        if (fileSize > 2000) {
                            show_fileduplicate_alert('File more than 2MB are not allowed');
                            $("#File_Control_div1 div a").last().trigger("click");
                        }
                        //var newFileSize=(Math.round((fileSize / 1024)))+"KB";
                        //alert(fileSize);
                        //if()


                    }

                });

            });


            function validation_dataFileExtension(mystring) {

                var strArray = ['rtf', 'csv', 'doc', 'docm', 'docx', 'wpd', 'eml', 'htm', 'html', 'pdf', 'ppt', 'pptm', 'pptx', 'ppsx', 'pps', 'ppsm', 'txt', 'xls', 'xlsx', 'zip', 'jpg', 'img', 'png', 'gif', 'war'];

                for (var j = 0; j < strArray.length; j++) {
                    if (strArray[j].match(mystring.toLowerCase())) return false;
                }
                return true;

            }


            function validation_dataFile(mystring) {
                var iChars = ".!@#$%^&*()+=[]\\\'/{}|\":<>";
                for (var i = 0; i < mystring.length; i++) {
                    if (iChars.indexOf(mystring[i]) != -1) {
                        return false;
                    }
                }
                return true;
            }

            //$('#alert_ok_click')
            function show_fileduplicate_alert(msg) {

                $("#rrfsavedmsg").css("display", "none");
                $("#rrfconfirmationmsg").css("display", "none");
                $("#startdateconfirmationmsg").css("display", "none");
                $("#divMultipleAssignment").css("display", "none");
                $("#divResourceSaveMsg").css("display", "none");
                $("#fileuploadmsg").css("display", "block");
                document.getElementById("Alert_msg").innerHTML = msg;
                $("#alertmain").show();
            }


            function show_RRFSaved_alert(msg) {


                if (PageStatus == "RRF Saved") {
                    var msg = 'RRF Saved Successfully..';
                    document.getElementById("RRFsaved_msg").innerHTML = msg;
                } else if (PageStatus == "RMO Validation") {
                    var msg = 'RRF Submitted Successfully';
                    document.getElementById("RRFsaved_msg").innerHTML = msg;
                } else if (PageStatus == "Non Billable") {
                    var msg = 'RRF Saved Successfully..';
                    document.getElementById("RRFsaved_msg").innerHTML = msg;
                } else if (PageStatus == "Functional Head") {
                    var msg = 'RRF Submitted Successfully';
                    document.getElementById("RRFsaved_msg").innerHTML = msg;
                } else {
                    var msg = 'RRF Saved Successfully..';
                    document.getElementById("RRFsaved_msg").innerHTML = msg;
                }

                $('.loader').hide();


                $("#fileuploadmsg").css("display", "none");
                $("#rrfconfirmationmsg").css("display", "none");
                $("#startdateconfirmationmsg").css("display", "none");
                $("#divMultipleAssignment").css("display", "none");
                $("#divResourceSaveMsg").css("display", "none");
                //$("#fileuploadmsg").hide();
                //$("#divMultipleAssignment").hide();
                $("#rrfsavedmsg").css("display", "block");
                //$("#rrfsavedmsg").show();
                $("#alertmain").show();


            }

            //RRFok_click

            $("#RRFok_click").click(function() {
                $("#alertmain").hide();
                window.location.replace("../SitePages/RRFForm.aspx");
                //if (PageStatus == "RMO Validation" || PageStatus == "Functional Head") {
                //    window.location.replace("../SitePages/RRFForm.aspx");
                //}
            });
            $("#ok_click").click(function() {
                $("#alertmain").hide();
            });

            $("#RRFconfirmyes_click").click(function() {
                $("#alertmain").hide();
				$(".loader").show();
                submitRRF();
				
            });
            $("#startdateconfirmyes_click").click(function() {
                StartDate_ConfirmationValue = 1;
                $("#alertmain").hide();
                $(".loader").show();
                submitRRF();
            });
            $("#startdateConfirmno_click").click(function() {
                StartDate_ConfirmationValue = 0;
                $("#alertmain").hide();
            });
            $("#RRFConfirmno_click").click(function() {
                $("#alertmain").hide();
            });
            $("#Resourceok_click").click(function() {
                $("#alertmain").hide();
            });


            // function confirmation_close() {
            //     $("#alertmain").hide();
            // }


            function convert_date_DDMMYYYY(date_to_convert) {
                if (date_to_convert != null) {
                    var arr_dateandtime = date_to_convert.split('T');
                    var arr_dateonly = arr_dateandtime[0].split('-');
                    var MonthName = GetMonthName(arr_dateonly[1]);
                    converted_date = arr_dateonly[2] + "-" + MonthName + "-" + arr_dateonly[0];
                    return converted_date;
                }
                //alert(converted_date);

            }

            function mySelectEType() {
                ddlEType = document.getElementById("ddlemptypey").value;
            }


            function costcenter() {
                var entity = $('#ddlentity option:selected').text();
                var value = $('#ddlsubpractice option:selected').text();
                if (value.indexOf('&') >= 0) {
                    value = value.replace('&', '%26');
                }

                if (value.indexOf('&') >= 0) {
                    value = value.replace('&', '%26');
                }
                if (entity != "Select" && value != "Select") {
                    var CostCenterURL = site_url + "_api/RRFMaster?$select=Code&$filter=Entity eq '" + entity + "' and Value eq '" + value + "' and Type eq 'CostcenterName'&$orderby=Code asc";
                    var resultCost = resultset(CostCenterURL);
                    $("#ddlcostcenter").empty();
                    $("#ddlcostcenter").append(new Option("Select", 0));
                    var distinctCost = [];
                    var uniqueCost = {};
                    var array1Cost = [];
                    for (var index in resultCost) {
                        array1Cost.push(resultCost[index].Code);
                        $("#ddlcostcenter").append($('<option></option>').text(resultCost[index].Code));
                        if (typeof(uniqueCost[resultCost[index].Code]) == "undefined") {
                            distinctCost.push(resultCost[index].Code);
                        }
                        uniqueCost[resultCost[index].Code] = 0;
						if(resultCost[index].Code.indexOf('Offshore')>-1)
						{
							$("#ddlcostcenter").val(resultCost[index].Code);
						}
                    }
                }
            }

            function bindRmospoc()
            {

                //var subpractvalue=document.getElementById("ddlsubpractice").value;
                 var subpractvalue = $('#ddlsubpractice option:selected').text();
                if (subpractvalue.indexOf('&') > -1) {
                    subpractvalue = subpractvalue.replace('&', '%26');
                }
                var Url = "../_api/web/Lists/getbytitle('Subpractice_SPOC')/items?$select=ID,RMO_SPOC/Title,RMO_SPOC/EMail,RMO_SPOC/Id&$expand=RMO_SPOC&$filter=Sub_practice eq '" + subpractvalue.trim() + "'";
                $.ajax({
                    url: Url,
                    async: false,
                    method: "GET",
                    headers: {
                        "Accept": "application/json; odata=verbose",
                        "Content-Type": "application/json; odata=verbose"
                    },
                    success: function(data) {
                       
                       if(data.d.results.length>0)
                            {
                                ///$('#txtrmospoc').val(data.d.results[0].RMO_SPOC.Title);
                                RmoSpocEmail=data.d.results[0].RMO_SPOC.EMail;
                                RmoSpocId=data.d.results[0].RMO_SPOC.Id;
                                RmoSpocbindValue(RmoSpocEmail);
                            }
                         
                         
                    },
                    error: function(error) {
                        
                    }
                });
            }
                function RmoSpocbindValue(RmoSpocEmail)
                {
                    Url = "../_api/ProjectData/Resources?$filter=ResourceEmailAddress eq '"+RmoSpocEmail+"'";
                     $.ajax({
                    url: Url,
                    type: "GET",
                    contentType: "application/json;odata=verbose",
                    //data: JSON.stringify(item),
                    headers: {
                        "Accept": "application/json;odata=verbose",
                        "X-RequestDigest": $("#__REQUESTDIGEST").val()
                    },
                    success: function(result) {

                        if(result.d.results[0].EmployeeID != null)
                       {
                        rmospocuid=result.d.results[0].EmployeeID;
                        var urlrmospoc = searchResourcefromResourcesUsingEmpid(rmospocuid);
                        var resultrmospoc = resultset(urlrmospoc);
                            
                            rmospocuid = resultrmospoc[0].ResourceName + ";" + resultrmospoc[0].ResourceId + "#" + resultrmospoc[0].ResourceEmailAddress;
                            var useridurl = _spPageContextInfo.webAbsoluteUrl + "/_api/web/siteusers?$filter=Email eq '" + resultrmospoc[0].ResourceEmailAddress + "'";
                            var userdetails = resultset(useridurl);
                            rmospocuserid = userdetails[0].Id; 
                            $("#txtrmospoc").val(result.d.results[0].ResourceName);
                             

                        } else {
                            //$("#txtrmospoc").val(empId);
                            rmospocuid = "";
                        }
                       
                       },
                   
                    error: function(error) {
                        //alert(JSON.stringify(error));
                    }
                });
                }

            function AddNoofCloneItems() {

                if (validateColneData()) {
                    var urlforcloning = _spPageContextInfo.webAbsoluteUrl + "/_api/web/lists/getbytitle('RRF')/items?$select=RRFNO,CloneFlag,ID&$filter=RRFNO%20eq%20'" + rrfno + "'and%20CloneFlag%20eq%20%27No%27";

                    var CloneValue = document.getElementById('CloneNumber').value;

                    if (isNaN(CloneValue)) {
                        $('#ErrClone').css('display', 'block');
                        //$('#ErrClone').text('Invalid Clone value.Please enter only numeric value from 1-100');
                        //document.getElementById('ErrClone').innerHTML='Invalid Clone value.Please enter only numeric value from 1-100';
                        document.getElementById('CloneNumber').focus();
                        return false;

                    } else
                    if (CloneValue > 5 || CloneValue <= 0) {
                        $('#ErrClone').css('display', 'block');
                        //$('#ErrClone').text('Invalid Clone value.Please enter only numeric value from 1-100');
                        //document.getElementById('ErrClone').innerHTML='Invalid Clone value.Please enter only numeric value from 1-100';
                        document.getElementById('CloneNumber').focus();
                        return false;
                    }
                    $('.loader').show();
                    $.ajax({
                        url: urlforcloning,
                        async: false,
                        method: "GET",
                        headers: {
                            "Accept": "application/json; odata=verbose",
                            "Content-Type": "application/json; odata=verbose"
                        },
                        success: function(data) {
                            var data = data.d.results;
                            var RRfno = data[0].RRFNO;
                            var CloneItemID = data[0].Id;
                            var data = {
                                'CloneFlag': "Yes",
                                'Clone': CloneValue
                            };

                            var result = insertOrUpdateRRF("RRF", false, CloneItemID, data);
                            $('.loader').hide();

                            if (result == "success") {
                                document.getElementById('CloneNumber').value = "";
                                $('#ErrClone').css('display', 'none');
                                $('#clone').css('display', 'none');
                                $('#alertclone').css('display', 'block');
                                $('.clone').text('Please Close the tab, Within 5 minutes cloned RRF will reflect in Saved RRF status tab, edit the RRF and submit.').css('pointer-events', 'none').css('cursor', 'not-allowed'); //.unbind('click').css('cursor','not-allowed');

                            }
                        },
                        error: function(error) {
                            result = 'error';
                        }
                    });


                } else {
                    document.getElementById('CloneNumber').value = "";
                    $('#ErrClone').css('display', 'none');
                    $('#clone').css('display', 'none');
                    $('#alertclone').css('display', 'none');
                    $(".Toppopup-bg,#clone").hide();
                }

            }

            function GetItemTypeForListName(name) {
                return "SP.Data." + name.charAt(0).toUpperCase() + name.split(" ").join("").slice(1) + "ListItem";
            }

            function CheckForCloneFlagStatus(RRFNo) {
                var urlForCloneVal = _spPageContextInfo.webAbsoluteUrl + "/_api/web/lists/getbytitle('RRF')/items?$filter=RRFNO%20eq%20'" + RRFNo + "'&$select=CloneFlag";
                var CloneVal = "";
                $.ajax({
                    url: urlForCloneVal,
                    async: false,
                    method: "GET",
                    headers: {
                        "Accept": "application/json; odata=verbose",
                        "Content-Type": "application/json; odata=verbose"
                    },
                    success: function(data) {
                        var data = data.d.results;
                        CloneVal = data[0].CloneFlag;
                    },
                    error: function(error) {
                        result = 'error';
                    }
                });
                return CloneVal;
            }

            function ValidateCloneValue() {

                var CloneValue = document.getElementById('CloneNumber').value;

                if (isNaN(CloneValue)) {
                    $('#ErrClone').css('display', 'block');
                    //$('#ErrClone').text('Invalid Clone value.Please enter only numeric value from 1-100');
                    //document.getElementById('ErrClone').innerHTML='Invalid Clone value.Please enter only numeric value from 1-100';
                    document.getElementById('CloneNumber').focus();
                    return false;

                } else
                if (CloneValue > 5 || CloneValue <= 0) {
                    $('#ErrClone').css('display', 'block');
                    //$('#ErrClone').text('Invalid Clone value.Please enter only numeric value from 1-100');
                    //document.getElementById('ErrClone').innerHTML='Invalid Clone value.Please enter only numeric value from 1-100';
                    document.getElementById('CloneNumber').focus();
                    return false;
                } else {
                    $('#ErrClone').css('display', 'none');
                }

            }

            function insertIntoSendEmailData(To, Cc, EventId, Flag, TrackingId) {
                var item = {
                    __metadata: {
                        "type": "SP.Data.BconeEmailDataListItem"
                    }
                };

                $.extend(item, {
                    To: To
                });

                $.extend(item, {
                    Cc: Cc
                });

                $.extend(item, {
                    EventId: EventId
                });
                $.extend(item, {
                    Flag: Flag
                });
                $.extend(item, {
                    TrackingId: TrackingId
                });

                $.ajax({
                    url: "../_api/Web/Lists/GetByTitle('BconeEmailData')/items",
                    type: "POST",
                    contentType: "application/json;odata=verbose",
                    data: JSON.stringify(item),
                    headers: {
                        "Accept": "application/json;odata=verbose",
                        "X-RequestDigest": $("#__REQUESTDIGEST").val()
                    },
                    success: function(data) {
                        //alert('success');
                    },
                    error: function(error) {
                        //alert(JSON.stringify(error));
                    }
                });
            }

            function bindsecondacdata() {
                $("#collapseOne").collapse('hide');
                $("#collapseTwo").collapse('show');
            }
			function updateendta()
			{			
				$('#errrequirementstartdate').css('display', 'none');
                $('#newerrrequirementstartdate').css('display', 'none');
               var emprole=$('#ddlemployeerole option:selected').text();
			   if(emprole=="SG&A" || emprole=="Senior Management")
			   {
					//var userstart_date=$('txtrequirementstartdate').val();
					var userstart_date = $('#txtrequirementstartdate').datepicker('getDate');
					
					userstart_date.setDate(userstart_date.getDate() + 730);
					$('#txtrequirementenddate').val(userstart_date);
					var end_date=new Date($('#txtrequirementenddate').val());
				
					$('#txtrequirementenddate').val(end_date.format("dd-MMM-yyyy"));
			   
			   }
			   
            }
			$("#ddloffshare").change(function() {
				$('#ddlbaselocation').empty();
				$("#ddlbaselocation").append(new Option("Select", 0));
                var locate=$('#ddloffshare option:selected').val();
				var url_location = site_url + "_api/RRFMaster?$filter=(Type eq '"+locate+"')&$orderby=Value asc";
                var result_vacancy = resultset(url_location);
				if(result_vacancy.length>0)
				{
					for(var t=0;t<result_vacancy.length;t++)
					{
						
						$("#ddlbaselocation").append($('<option></option>').text(result_vacancy[t].Value));
					}
				}

            });
			function clearItemFinanceApproverMatrix()
			{

				var ppobject=this.SPClientPeoplePicker.SPClientPeoplePickerDict.divReportingTo_TopSpan;
				var usersobject = ppobject.GetAllUserInfo();
				usersobject.forEach(function (index) 
				{
					ppobject.DeleteProcessedUser(usersobject[index]);
				});
				
			 
			  
			}
			function fnStatus(rrfno)
            {

            url = "../_api/web/lists/GetByTitle('RRF')/Items?$SELECT=Status&$filter=RRFNO eq '" + rrfno + "'";
           $.ajax({
            url: url ,
            method: "GET",
            async: false,
            headers: {
             "Accept": "application/json; odata=verbose"
            },
             success: function(data) 
                {
                    result = data.d.results.length;
                    if(result > 0)
                    {
                        $('#txtStatus').val(data.d.results[0].Status);
                    }
                }
            });
       }
 $('#demo').on('click', function()  {
$("#sfdcnote").css("display", "block");	   
    });
function closenote(){
$('#sfdcnote').hide();
    }
        </script>
</body>

</html><html><head><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8"><meta name="Robots" content="NOINDEX " /></head><body></body>
                <script type="text/javascript">
                 var gearPage = document.getElementById('GearPage');
                 if(null != gearPage)
                 {
                     gearPage.parentNode.removeChild(gearPage);
                     document.title = "Error";
                 }
                 </script>
                 </html>